jQuery(function(e){function a(){var a,t=[];location.origin||(location.origin=location.protocol+"//"+location.host),a=location.origin+ajaxurl;var n=function(){var t;return e.ajax({async:!1,type:"POST",url:a,data:{action:"edd_fields_get_posts",current_post_type:typenow},success:function(a){t=e.parseJSON(a)},error:function(e){t=[{text:"Error. See Browser Console.",value:""}],console.error(e)}}),t}();return t=n}e(document).ready(function(){var t="";e(document).on("keyup",".mce-numbers-only",function(a){var n=e(this);if(8!==a.which){var o=n.val().search(/[a-z@#!$%,-^&*()_+|~=`{}\[\]:";'<>?.\/\\]/i);o===-1?n.val(t):t=n.val()}"0"===n.val()&&n.val("")}),e(document).on("keyup",".mce-letters-only",function(a){var n,o=e(this);8!==a.which&&(n=o.hasClass("mce-no-spaces")?o.val().search(/^[a-z]*$/i):o.val().search(/^[a-z ]*$/i),n===-1?o.val(t):t=o.val())}),tinymce.PluginManager.add("edd_fields_shortcodes_script",function(e,t){e.addButton("edd_fields_shortcodes",{text:"EDD Fields",icon:!1,type:"menubutton",menu:[{text:"Create Fields Table",onclick:function(){e.windowManager.open({title:"Add Fields Table",body:[{type:"select",name:"id",label:"Using This Post's Data:",values:a()},{type:"textbox",name:"class",label:"Wrapper Class (Optional)"}],onsubmit:function(a){e.insertContent("[edd_fields_table"+(void 0!==a.data.id?' post_id="'+a.data.id+'"':"")+(void 0!==a.data["class"]?' class="'+a.data["class"]+'"':"")+"]")}})}},{text:"Get Field Value",onclick:function(){e.windowManager.open({title:"Retrieve a Field's Value by Name",body:[{type:"select",name:"id",label:"Using This Post's Data:",values:a()},{type:"textbox",name:"name",label:"Field Name"}],onsubmit:function(a){e.insertContent("[edd_field"+(void 0!==a.data.id?' post_id="'+a.data.id+'"':"")+(void 0!==a.data.name?' class="'+a.data.name+'"':"")+"]")}})}}]})})})});