{"version":3,"sources":["admin.js","edd-rbm-repeater.js","edd-repeater-form.js","foundation-init.js","jquery.repeater.min.js","foundation.core.js","foundation.util.keyboard.js","foundation.util.box.js","foundation.util.mediaQuery.js","foundation.util.triggers.js","foundation.util.motion.js","foundation.reveal.js","ancient-browser-support.js","template-selector.js","widget-form.js"],"names":["_classCallCheck","instance","Constructor","TypeError","init_edd_rbm_repeater_colorpickers","modal","regex","jQuery","find","length","each","index","colorPicker","value","exec","outerHTML","val","attr","wpColorPicker","init_edd_rbm_repeater_tooltips","tooltip","content","prop","tooltipClass","position","my","at","collision","hide","duration","show","init_edd_rbm_repeater_options_button","type","eddFields","showFieldsOptions","indexOf","closest","init_edd_rbm_repeater_required_fields","field","i18n","requiredError","hasClass","chosen","siblings","edd_repeater_reindex_primary","row","uuid","data","$modal","inputIndex","input","reindexed","replace","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","get_edd_fields_index","templateIndex","get_edd_fields_form","nestedRepeaterList","optionRepeaterList","parent","name","isRepeater","is","optionsUuid","$optionsModal","fieldIndex","repeaterField","optionIndex","option","push","edd_fields_template_fields","edd_fields_sanitize_key","toLowerCase","initModals","item","Math","round","pow","random","toString","slice","Foundation","Reveal","openModal","arguments","undefined","hasOwnProperty","$row","foundation","scrollTop","closeModal","a","b","c","isArray","d","e","inArray","f","g","h","i","Array","prototype","call","j","k","l","m","n","o","apply","p","publish","subscribe","unsubscribe","splice","$","getType","disable","enable","equalTo","publishChange","get","domElement","set","clear","buildSetter","on","this","filter","change","x","split","wrap","reset","unwrap","q","r","files","s","t","u","v","w","y","z","A","constructorOverride","button","text","url","email","password","range","textarea","select","select[multiple]","radio","checkbox","file","file[multiple]","hidden","fn","inputVal","inputOnChange","inputDisable","inputEnable","inputClear","repeaterVal","match","concat","head","shift","test","repeater","first","join","repeaters","clone","isFirstItemUndeletable","remove","$parent","selector","removeAttr","ready","defaultValues","append","children","click","_typeof","Symbol","iterator","constructor","functionName","Function","funcNameRegex","results","trim","parseValue","str","isNaN","parseFloat","hyphenate","FOUNDATION_VERSION","version","_plugins","_uuids","rtl","plugin","className","attrName","registerPlugin","pluginName","GetYoDigits","$element","trigger","unregisterPlugin","removeData","reInit","plugins","isJQ","_init","_this","fns","object","plgs","forEach","string","keys","err","console","error","namespace","reflow","elem","$elem","addBack","$el","opts","warn","opt","map","el","er","getFnName","transitionend","end","transitions","transition","WebkitTransition","MozTransition","OTransition","document","createElement","style","setTimeout","triggerHandler","util","throttle","func","delay","timer","context","args","method","$meta","$noJS","appendTo","removeClass","MediaQuery","plugClass","ReferenceError","window","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","navigator","userAgent","lastTime","callback","nextTime","max","clearTimeout","performance","start","bind","oThis","aArgs","fToBind","fNOP","fBound","getKeyCodes","kcs","kc","keyCodes","9","13","27","32","37","38","39","40","commands","Keyboard","parseKey","event","which","keyCode","String","fromCharCode","toUpperCase","shiftKey","ctrlKey","altKey","handleKey","component","functions","cmds","command","commandList","ltr","extend","returnValue","handled","unhandled","findFocusable","register","componentName","ImNotTouchingYou","element","lrOnly","tbOnly","top","bottom","left","right","eleDims","GetDimensions","parDims","offset","height","width","windowDims","allDirs","Error","rect","getBoundingClientRect","parRect","parentNode","winRect","body","winY","pageYOffset","winX","pageXOffset","parentDims","GetOffsets","anchor","vOffset","hOffset","isOverflow","$eleDims","$anchorDims","Box","parseStyleToObject","styleObject","reduce","ret","param","parts","decodeURIComponent","queries","current","namedQueries","self","extractedStyles","css","_getCurrentSize","_watcher","atLeast","size","query","matchMedia","matches","matched","newSize","currentSize","styleMedia","media","script","getElementsByTagName","info","id","insertBefore","getComputedStyle","currentStyle","matchMedium","styleSheet","cssText","textContent","checkListeners","eventsListener","resizeListener","scrollListener","closemeListener","yetiBoxes","plugNames","listeners","off","pluginId","not","debounce","$nodes","MutationObserver","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","target","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","prefixes","triggers","stopPropagation","animation","Motion","animateOut","fadeOut","IHearYou","Move","move","ts","prog","anim","animate","isIn","cb","finish","transitionDuration","initClass","activeClass","eq","initClasses","activeClasses","addClass","offsetWidth","one","animateIn","_createClass","defineProperties","props","descriptor","protoProps","staticProps","iPhoneSniff","androidSniff","mobileSniff","options","defaults","ENTER","SPACE","ESCAPE","TAB","SHIFT_TAB","isActive","cached","mq","isMobile","$anchor","aria-controls","aria-haspopup","tabindex","fullScreen","overlay","$overlay","_makeOverlay","role","aria-hidden","data-yeti-box","data-resize","detach","_events","deepLink","location","hash","open","outerWidth","outerHeight","parseInt","min","margin","_this2","open.zf.trigger","close.zf.trigger","parents","close","toggle.zf.trigger","toggle","resizeme.zf.trigger","_updatePosition","preventDefault","closeOnClick","contains","_handleState","_this3","history","pushState","visibility","multipleOpened","animationIn","afterAnimationFocus","focus","focusableElements","showDelay","originalScrollPos","_extraHandlers","closeOnEsc","tab_forward","tab_backward","finishUp","animationOut","hideDelay","resetOnClose","html","replaceState","title","pathname","btmOffsetPct","HTMLFormElement","reportValidity","valid","setCustomValidity","before","$templateName","templateName","$repeaters","edd_repeater_show","nestedRepeaters","nestedRepeater","items","reverse","nestedRow","stop","slideUp","slideDown","edd_fields_field_option_show","edd_repeater_hide","confirmDeletion","confirm","ajax","action","saved","success","response","effect","color","dequeue","request","status","edd_fields_field_option_hide","$repeater","$dummy","setIndexes","sortable","axis","handle","forcePlaceholderSize","update","ui","currentTarget","templates","defaultValue","attachNotificationSubmitEvent","$form","submit","checkValidity","duplicateNameError","getFieldsForDownload","postID","ajaxurl","post_id","$select","selected","$fields","$prefix","empty","$field","fieldText","shortcodeToggle","inherit_select_classes"],"mappings":"AAAA,YAioDA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCChoDhH,QAASC,oCAAoCC,GAE5C,GAAIC,GAAQ,kCAGPC,QAAQF,GAAQG,KAAM,qBAAsBC,QAGhDF,OAAQF,GAAQG,KAAM,qBAAsBE,KAAM,SAAUC,EAAOC,GAGlE,GAAIC,GAAQP,EAAMQ,KAAMP,OAAQK,GAAc,GAAGG,WAAY,EAE7DR,QAAQK,GAAcI,IAAKH,GAAQI,KAAM,QAASJ,GAAQK,kBAQ7D,QAASC,gCAAgCd,GAExCE,OAAQF,GAAQG,KAAM,iBAAkBE,KAAM,SAAUC,EAAOS,GAE9Db,OAAQa,GAAUA,SACjBC,QAAS,WACR,MAAOd,QAAQa,GAAUE,KAAM,UAEhCC,aAAc,iBACdC,UACCC,GAAI,aACJC,GAAI,mBACJC,UAAW,WAEZC,MACCC,SAAU,KAEXC,MACCD,SAAU,SAQd,QAASE,sCAAsC1B,GAE9CE,OAAQF,GAAQG,KAAM,oBAAqBE,KAAM,SAAUC,EAAOqB,GAE5DC,UAAUC,kBAAkBC,QAAS5B,OAAQyB,GAAOhB,UACxDT,OAAQyB,GAAOI,QAAS,wBAAyB5B,KAAM,gCAAiCS,KAAM,YAAY,GAG1GV,OAAQyB,GAAOI,QAAS,wBAAyB5B,KAAM,gCAAiCS,KAAM,YAAY,KAO7G,QAASoB,uCAAuChC,GAE/CE,OAAQF,GAAQG,KAAM,aAAcE,KAAM,SAAUC,EAAO2B,GAE1D/B,OAAQ+B,GAAQrB,KAAM,wBAAyBgB,UAAUM,KAAKC,eAEzDjC,OAAQ+B,GAAQF,QAAS,MAAOK,SAAU,UAC9ClC,OAAQ+B,GAAQrB,KAAM,YAAY,GAGlCV,OAAQ+B,GAAQrB,KAAM,YAAY,GAI9BV,OAAQ+B,GAAQG,SAAU,gBAG9BlC,OAAQ+B,GAAQI,SAGhBnC,OAAQ+B,GAAQrB,KAAM,eAGtBV,OAAQ+B,GAAQK,SAAU,qBAAsBnC,KAAM,kBAAmBS,KAAM,WAAY,MAQ9F,QAAS2B,gCAERrC,OAAQ,kDAAmDG,KAAM,SAAUC,EAAOkC,GAEjF,GAAIC,GAAOvC,OAAQsC,GAAMrC,KAAM,wBAAyBuC,KAAM,QAC7DC,EAASzC,OAAQ,iBAAmBuC,EAAO,KAE5CE,GAAOxC,KAAM,UAAWE,KAAM,SAAUuC,EAAYC,GAEnD,GAAIC,GAAY5C,OAAQ2C,GAAQjC,KAAM,QAASmC,QAAS,UAAW,IAAMzC,EAAQ,IAEjFJ,QAAQ2C,GAAQjC,KAAM,OAAQkC,KAI/B/C,mCAAoC4C,GACpC7B,+BAAgC6B,GAChCX,sCAAuCW,GACvCjB,qCAAsCiB,KDsgFxC,QAASK,iBAAgBC,EAAKC,EAAK1C,GAAiK,MAApJ0C,KAAOD,GAAOE,OAAOC,eAAeH,EAAKC,GAAO1C,MAAOA,EAAO6C,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBN,EAAIC,GAAO1C,EAAgByC,EE9mF3M,QAASO,sBAAsBf,GAE9B,GAAIgB,GAAgB,CAepB,OAdAvD,QAAQ,0BAA2BG,KAAM,SAAUC,EAAOkC,GAEzD,MAAKtC,QAAQsC,GAAMrC,KAAM,wBAAyBuC,KAAM,SAAYD,KAI7DvC,OAAQsC,GAAME,KAAM,cAI3Be,QAIMA,EAYR,QAASC,qBAAqB1D,GAG7B,GACC0C,IADkBxC,OAAQ,wDAAyDwC,KAAM,qBAEzFD,EAAOvC,OAAQF,GAAQ0C,KAAM,UAE7Be,GADOvD,OAAQ,eAAiBuC,EAAO,MAAOV,QAAS,0BACvCyB,qBAAsBf,IAEnCkB,EAAqBzD,OAAQ,6DAA8DwC,KAAM,iBACpGkB,EAAqB1D,OAAQ,sEAAuEwC,KAAM,gBAwE3G,OArEAA,GAAKiB,MAELzD,OAAQF,GAAQG,KAAM,qBAAsBE,KAAM,SAAUC,EAAO2B,GAElE,GAAK/B,OAAQ+B,GAAQ4B,SAASzB,SAAU,UAAa,OAAO,CAE5D,IAAI0B,GAAO5D,OAAQ+B,GAAQrB,KAAM,QAChCJ,EAAQN,OAAQ+B,GAAQtB,MACxBoD,GAAa,CAEd,IAAK7D,OAAQ+B,GAAQ+B,GAAI,MAAS,CAEjCxD,KACCuD,GAAa,EAEdvD,EAAMoD,KAEN,IAAIK,GAAc/D,OAAQ+B,GAAQ9B,KAAM,gCAAiCuC,KAAM,QAC9EwB,EAAgBhE,OAAQ,iBAAmB+D,EAAc,KAE1D/D,QAAQ+B,GAAQ9B,KAAM,UAAWE,KAAM,SAAU8D,EAAYC,GAE5DN,EAAO5D,OAAQkE,GAAgBxD,KAAM,QACpCkD,EAAOA,EAAKf,QAAS,cAAe,MACpCvC,EAAOsD,GAAS5D,OAAQkE,GAAgBzD,QAI1CuD,EAAc/D,KAAM,UAAWE,KAAM,SAAUgE,EAAaC,GAE3DR,EAAO5D,OAAQoE,GAAS1D,KAAM,QAC7BkD,EAAOA,EAAKf,QAAS,cAAe,MAErCvC,EAAMoD,GAAoBW,KAA1BvB,mBACEc,EAAO5D,OAAQoE,GAAS3D,cAS3BmD,GAAOA,EAAKf,QAAS,cAAe,KAIhC7C,QAAQ+B,GAAQ+B,GAAI,4BAExBxD,EAAUN,OAAQ+B,GAAQhB,KAAM,WAAgB,EAAI,GAM9C8C,EAMNrB,EAAK8B,2BAA2BD,KAAM/D,GALtCkC,EAAMoB,GAAStD,IAWjBkC,EAAKpC,MAAQmD,EAENf,EAYR,QAAS+B,yBAAyBvB,GAEjC,MAAOA,GAAIH,QAAS,UAAW,IAAM2B,cC/HtC,QAASC,cAGRzE,OAAQ,4CAA6CG,KAAM,SAAUC,EAAOsE,GAE3E,GAAIjC,GAASzC,OAAQ0E,GAAOzE,KAAM,mCAElC,IAAsC,KAAjCwC,EAAO/B,KAAM,eAAyB,OAAO,CAGlD,IAAI6B,GAAOoC,KAAKC,MAAOD,KAAKE,IAAK,GAAI,GAAMF,KAAKG,SAAWH,KAAKE,IAAK,GAAI,IAAME,SAAU,IAAKC,MAAO,GAAM,SAE3GvC,GAAO/B,KAAM,cAAe6B,EAEVvC,QAAQ0E,GAAOzE,KAAM,6BAA8BS,KAAM,YAAa6B,EAExFE,GAAS,GAAIwC,YAAWC,OAAQzC,KAKjCzC,OAAQ,mDAAoDG,KAAM,SAAUC,EAAOsE,GAElF,GAAIjC,GAASzC,OAAQ0E,GAAOzE,KAAM,mCAElC,IAAsC,KAAjCwC,EAAO/B,KAAM,eAAyB,OAAO,CAGlD,IAAI6B,GAAOoC,KAAKC,MAAOD,KAAKE,IAAK,GAAI,GAAMF,KAAKG,SAAWH,KAAKE,IAAK,GAAI,IAAME,SAAU,IAAKC,MAAO,GAAM,SAE3GvC,GAAO/B,KAAM,cAAe6B,EAEVvC,QAAQ0E,GAAOzE,KAAM,qCAAsCS,KAAM,YAAa6B,EAEhGE,GAAS,GAAIwC,YAAWC,OAAQzC,KAelC,QAAS0C,WAAW5C,GAAwB,GAAlBD,GAAkB8C,UAAAlF,OAAA,GAAAmF,SAAAD,UAAA,GAAAA,UAAA,GAAZC,MAG/B,IAAK9C,EAAK+C,eAAgB,SACZ,wBAAb/C,EAAKd,KAAiC,CAEtC,GAAI8D,GAAOvF,OAAQsC,EAEnBC,GAAOgD,EAAKtF,KAAM,6BAA8BuC,KAAM,QAIvD,GAAIC,GAASzC,OAAQ,iBAAmBuC,EAAO,KAE/CE,GAAO+C,WAAY,QAGnB/C,EAAOZ,QAAS,mBAAoB4D,UAAW,GAYhD,QAASC,YAAYnD,GAEpB,GAAIE,GAASzC,OAAQ,iBAAmBuC,EAAO,KAE/CE,GAAO+C,WAAY,UCpFnB,SAASG,GAAgB,GAAIC,GAAE,SAASD,GAAG,MAAOA,IAAGE,EAAE,SAASD,GAAG,MAAOD,GAAEG,QAAQF,IAAIG,EAAE,SAASJ,GAAG,OAAOE,EAAEF,IAAIA,YAAa1C,SAAQ+C,EAAE,SAASJ,EAAEC,GAAG,MAAOF,GAAEM,QAAQJ,EAAED,IAAIM,EAAE,SAASP,EAAEC,GAAG,WAAWI,EAAEL,EAAEC,IAAIO,EAAE,SAASR,EAAEC,GAAG,IAAI,GAAIC,KAAKF,GAAEA,EAAEL,eAAeO,IAAID,EAAED,EAAEE,GAAGA,EAAEF,IAAIS,EAAE,SAAST,GAAG,MAAOA,GAAEA,EAAEzF,OAAO,IAAImG,EAAE,SAASV,GAAG,MAAOW,OAAMC,UAAUvB,MAAMwB,KAAKb,IAAIc,EAAE,WAAW,GAAId,KAAK,OAAOQ,GAAEE,EAAEjB,WAAW,SAASQ,GAAGO,EAAEP,EAAE,SAASA,EAAEC,GAAGF,EAAEE,GAAGD,MAAMD,GAAGe,EAAE,SAASf,EAAEC,GAAG,GAAIC,KAAK,OAAOM,GAAER,EAAE,SAASA,EAAEI,EAAEC,GAAGH,EAAExB,KAAKuB,EAAED,EAAEI,EAAEC,MAAMH,GAAGc,EAAE,SAAShB,EAAEC,EAAEC,GAAG,GAAIE,KAAK,OAAOI,GAAER,EAAE,SAASA,EAAEK,EAAEE,GAAGF,EAAEH,EAAEA,EAAEG,EAAEL,GAAGK,EAAED,EAAEC,GAAGJ,EAAED,EAAEK,EAAEE,KAAKH,GAAGa,EAAE,SAASjB,EAAEC,EAAEG,GAAG,MAAOF,GAAEF,GAAGe,EAAEf,EAAEC,GAAGe,EAAEhB,EAAEC,EAAEG,IAAIc,EAAE,SAASlB,EAAEC,GAAG,MAAOgB,GAAEjB,EAAE,SAASA,GAAG,MAAOA,GAAEC,MAAMkB,EAAE,SAASnB,EAAEC,EAAEC,GAAG,MAAOe,GAAEjB,EAAE,SAASA,EAAEI,GAAG,MAAOJ,GAAEC,GAAGmB,MAAMpB,EAAEE,UAAUmB,EAAE,SAASrB,GAAGA,EAAEA,KAAM,IAAIC,KAAK,OAAOD,GAAEsB,QAAQ,SAAStB,EAAEE,GAAGM,EAAEP,EAAED,GAAG,SAASA,GAAGA,EAAEE,MAAMF,EAAEuB,UAAU,SAASvB,EAAEE,GAAGD,EAAED,GAAGC,EAAED,OAAOC,EAAED,GAAGtB,KAAKwB,IAAIF,EAAEwB,YAAY,SAASxB,GAAGQ,EAAEP,EAAE,SAASA,GAAG,GAAIC,GAAEG,EAAEJ,EAAED,QAAQE,GAAGD,EAAEwB,OAAOvB,EAAE,MAAMF,IAAI,SAASA,GAAG,GAAIC,GAAE,SAASD,EAAEC,GAAG,GAAIC,GAAEmB,IAAIjB,EAAEJ,EAAE0B,CAAE,OAAOxB,GAAEyB,QAAQ,WAAW,KAAK,qDAAqDzB,EAAEwB,EAAE,SAAS1B,GAAG,MAAOA,GAAEI,EAAE9F,KAAK0F,GAAGI,GAAGF,EAAE0B,QAAQ,WAAW1B,EAAEwB,IAAItG,KAAK,YAAW,GAAI8E,EAAEoB,QAAQ,aAAY,IAAKpB,EAAE2B,OAAO,WAAW3B,EAAEwB,IAAItG,KAAK,YAAW,GAAI8E,EAAEoB,QAAQ,aAAY,IAAKrB,EAAE6B,QAAQ,SAAS9B,EAAEC,GAAG,MAAOD,KAAIC,GAAGA,EAAE8B,cAAc,WAAW,GAAI/B,EAAE,OAAO,UAASI,EAAEC,GAAG,GAAIE,GAAEL,EAAE8B,KAAM/B,GAAE6B,QAAQvB,EAAEP,IAAIE,EAAEoB,QAAQ,UAAUjB,EAAED,EAAE6B,WAAW5B,IAAIL,EAAEO,MAAML,GAAGQ,EAAE,SAASV,EAAEE,GAAG,GAAIE,GAAEH,EAAED,EAAEE,EAAG,OAAOE,GAAE4B,IAAI,WAAW,MAAO5B,GAAEsB,IAAI5G,OAAOsF,EAAE8B,IAAI,SAASlC,GAAGI,EAAEsB,IAAI5G,IAAIkF,IAAII,EAAE+B,MAAM,WAAW/B,EAAE8B,IAAI,KAAKhC,EAAEkC,YAAY,SAASpC,GAAG,MAAO,UAASC,GAAGD,EAAEa,KAAKT,EAAEH,KAAKG,GAAGU,EAAE,SAASd,EAAEC,GAAGD,EAAEE,EAAEF,GAAGA,GAAGA,GAAGC,EAAEC,EAAED,GAAGA,GAAGA,EAAG,IAAIG,IAAE,CAAG,OAAOJ,GAAEzF,SAAS0F,EAAE1F,OAAO6F,GAAE,EAAGI,EAAER,EAAE,SAASA,GAAGO,EAAEN,EAAED,KAAKI,GAAE,KAAMA,GAAGW,EAAE,SAASf,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,UAAUzB,EAAEwB,IAAIW,GAAG,SAAS,SAASrC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAGc,EAAE,SAASf,GAAG,GAAIG,MAAKC,EAAEK,EAAET,EAAEG,EAAG,OAAOC,GAAEsB,QAAQ,WAAW,MAAM,YAAYtB,EAAE2B,IAAI,WAAW,GAAI/B,KAAK,OAAOI,GAAEqB,IAAIa,OAAO,YAAY/H,KAAK,WAAWyF,EAAEvB,KAAKsB,EAAEsC,MAAMxH,SAASmF,GAAGI,EAAE6B,IAAI,SAASjC,GAAGA,EAAEC,EAAED,GAAGA,GAAGA,GAAGI,EAAEqB,IAAIlH,KAAK,WAAWwF,EAAEsC,MAAMlH,KAAK,WAAU,KAAMoF,EAAEP,EAAE,SAASD,GAAGK,EAAEqB,IAAIa,OAAO,WAAWvC,EAAE,MAAM5E,KAAK,WAAU,MAAOgF,EAAE0B,QAAQhB,EAAET,EAAEqB,IAAIc,OAAO,SAASxC,GAAGI,EAAE2B,cAAc/B,EAAEsC,QAAQjC,GAAGY,EAAE,SAASjB,GAAG,GAAIC,MAAKC,EAAEuC,EAAEzC,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,SAASzB,GAAGgB,EAAE,SAAShB,GAAG,GAAIE,MAAKC,EAAEJ,EAAEC,EAAEE,EAAG,OAAOC,GAAEsB,QAAQ,WAAW,MAAM,QAAQtB,EAAE2B,IAAI,WAAW,MAAOvB,GAAEJ,EAAEqB,IAAI5G,MAAM4H,MAAM,QAAQrC,EAAE8B,MAAM,WAAWG,KAAKZ,IAAIlH,KAAK,WAAWwF,EAAEsC,MAAMK,KAAK,UAAUzG,QAAQ,QAAQ8F,IAAI,GAAGY,QAAQ5C,EAAEsC,MAAMO,YAAYxC,EAAEqB,IAAIc,OAAO,SAASxC,GAAGI,EAAE2B,cAAc/B,EAAEsC,QAAQjC,GAAGyC,EAAE,SAAS9C,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,UAAUzB,EAAEwB,IAAIc,OAAO,SAASxC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAG6C,EAAE,SAAS7C,GAAG,GAAIE,MAAKC,EAAEJ,EAAEC,EAAEE,EAAG,OAAOC,GAAEsB,QAAQ,WAAW,MAAM,kBAAkBtB,EAAE2B,IAAI,WAAW,GAAIhC,GAAEC,EAAEI,EAAEqB,IAAIM,IAAI,GAAGgB,UAAU9C,IAAK,KAAIF,EAAE,EAAEA,GAAGC,EAAE1F,QAAQ,GAAGyF,GAAG,EAAEE,EAAExB,KAAKuB,EAAED,GAAG/B,KAAM,OAAOiC,IAAGG,EAAE8B,MAAM,WAAWG,KAAKZ,IAAIlH,KAAK,WAAWwF,EAAEsC,MAAMK,KAAK,UAAUzG,QAAQ,QAAQ8F,IAAI,GAAGY,QAAQ5C,EAAEsC,MAAMO,YAAYxC,EAAEqB,IAAIc,OAAO,SAASxC,GAAGI,EAAE2B,cAAc/B,EAAEsC,QAAQjC,GAAG4C,EAAE,SAASjD,GAAG,GAAIC,MAAKG,EAAEM,EAAEV,EAAEC,EAAG,OAAOG,GAAEuB,QAAQ,WAAW,MAAM,oBAAoBvB,EAAE4B,IAAI,WAAW,MAAO5B,GAAEsB,IAAI5G,WAAWsF,EAAE8B,IAAI,SAASlC,GAAGI,EAAEsB,IAAI5G,IAAI,KAAKkF,KAAKE,EAAEF,GAAGA,GAAGA,KAAKC,EAAE6B,QAAQhB,EAAEV,EAAEsB,IAAIc,OAAO,SAASxC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQlC,GAAG8C,EAAE,SAASlD,GAAG,GAAIC,MAAKC,EAAEuC,EAAEzC,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,YAAYzB,GAAGiD,EAAE,SAASlD,GAAG,GAAIC,MAAKE,EAAEM,EAAET,EAAEC,EAAG,OAAOE,GAAEuB,QAAQ,WAAW,MAAM,SAASvB,EAAE4B,IAAI,WAAW,MAAO5B,GAAEsB,IAAIa,OAAO,YAAYzH,OAAO,MAAMsF,EAAE8B,IAAI,SAASjC,GAAGA,EAAEG,EAAEsB,IAAIa,OAAO,WAAWtC,EAAE,MAAM7E,KAAK,WAAU,GAAIgF,EAAEsB,IAAIlH,KAAK,WAAWwF,EAAEsC,MAAMlH,KAAK,WAAU,MAAOgF,EAAEsB,IAAIc,OAAO,SAASxC,GAAGE,EAAE6B,cAAc/B,EAAEsC,QAAQlC,GAAGgD,EAAE,SAASpD,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,SAASzB,EAAEwB,IAAIc,OAAO,SAASxC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAGmD,EAAE,SAASrD,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,UAAUzB,EAAEwB,IAAIc,OAAO,SAASxC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAGuC,EAAE,SAASzC,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,QAAQzB,EAAEwB,IAAIW,GAAG,uBAAuB,SAASrC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAGoD,EAAE,SAAStD,GAAG,GAAIC,MAAKC,EAAEQ,EAAEV,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,YAAYzB,EAAEwB,IAAIW,GAAG,uBAAuB,SAASrC,GAAGC,EAAE8B,cAAc/B,EAAEsC,QAAQpC,GAAGqD,EAAE,SAASvD,GAAG,GAAIC,MAAKC,EAAEuC,EAAEzC,EAAEC,EAAG,OAAOC,GAAEyB,QAAQ,WAAW,MAAM,OAAOzB,GAAGsD,EAAE,SAASvD,GAAG,GAAIC,MAAKK,EAAEN,EAAEyB,EAAEjB,EAAER,EAAEwD,sBAAsBC,OAAO3C,EAAE4C,KAAKlB,EAAEmB,IAAIL,EAAEM,MAAM5C,EAAE6C,SAASZ,EAAEa,MAAMX,EAAEY,SAASV,EAAEW,OAAOZ,EAAEa,mBAAmBjB,EAAEkB,MAAMhB,EAAEiB,SAASpD,EAAEqD,KAAKnD,EAAEoD,iBAAiBvB,EAAEwB,OAAOzB,GAAGpC,EAAE,SAAST,EAAEI,GAAG,GAAIG,GAAEJ,EAAEC,GAAGA,EAAEE,EAAEjG,KAAK+F,EAAGG,GAAEhG,KAAK,WAAW,GAAI4F,GAAEJ,EAAEsC,MAAMvH,KAAK,OAAQmF,GAAEE,GAAGK,EAAER,IAAIyB,EAAE1B,EAAEsC,WAAWxB,EAAE,QAAAA,GAASb,EAAES,GAAG,GAAII,MAAKC,EAAEX,EAAEM,GAAGA,EAAEH,EAAEjG,KAAKoG,EAAGN,GAAEM,GAAGR,EAAEa,EAAEhG,KAAK,SAAS0F,EAAER,IAAIyB,EAAEX,KAAKA,EAAEvG,KAAK,gBAAgB6F,EAAES,EAAEd,EAAEsC,MAAMvH,KAAK,UAAU+F,EAAEpC,KAAKsB,EAAEsC,MAAMvH,KAAK,WAAWyF,EAAEM,EAAE,SAASd,GAAGE,EAAEF,GAAGS,EAAER,IAAIyB,EAAEnB,EAAEjG,KAAK,eAAe0F,EAAE,WAAY,OAAOO,GAAEpC,GAAG,2BAA2BoC,EAAEpC,GAAG,sDAAsDuC,EAAE,SAASH,GAAGA,EAAEpC,GAAG,YAAYuC,EAAE,WAAWH,GAAGA,EAAEpC,GAAG,uBAAuBoC,EAAEpC,GAAG,WAAWoC,EAAExF,KAAK,QAAQ2F,EAAE,OAAOH,GAAGA,EAAEpC,GAAG,0BAA0BuC,EAAE,WAAWH,GAAGA,EAAEpC,GAAG,uBAAuBuC,EAAE,QAAQH,GAAGA,EAAEpC,GAAG,qBAAqBuC,EAAE,MAAMH,GAAGA,EAAEpC,GAAG,uBAAuBuC,EAAE,QAAQH,GAAGA,EAAEpC,GAAG,UAAUoC,EAAEpC,GAAG,cAAcuC,EAAE,mBAAmBH,GAAGG,EAAE,SAASH,GAAGA,EAAEpC,GAAG,sBAAsBoC,EAAEpC,GAAG,cAAcuC,EAAE,iBAAiBH,GAAGG,EAAE,OAAOH,GAAGA,EAAEpC,GAAG,wBAAwBuC,EAAE,SAASH,GAAGA,EAAEpC,GAAG,uBAAuB2C,EAAE,QAAQP,GAAGA,EAAEpC,GAAG,0BAA0B2C,EAAE,WAAWP,GAAGG,EAAE,OAAOH,IAAIG,EAAE,SAAS,sDAAsDA,EAAE,OAAO,sBAAsBA,EAAE,WAAW,0BAA0BA,EAAE,QAAQ,uBAAuBA,EAAE,MAAM,qBAAqBA,EAAE,QAAQ,uBAAuBA,EAAE,WAAW,YAAYA,EAAE,SAAS,0BAA0BA,EAAE,mBAAmB,oBAAoBA,EAAE,OAAO,sCAAsCA,EAAE,iBAAiB,gCAAgCA,EAAE,SAAS,wBAAwBI,EAAE,QAAQ,uBAAuBA,EAAE,WAAW,2BAA2BZ,EAAGF,GAAEwE,GAAGC,SAAS,SAASxE,GAAG,GAAIC,GAAEF,EAAEsC,MAAMlC,EAAEoD,GAAG9B,EAAExB,GAAI,OAAOA,GAAE/B,GAAG,2BAA2B,mBAAoB8B,GAAEG,EAAEF,EAAEnF,KAAK,SAASiH,OAAO5B,EAAEF,EAAEnF,KAAK,SAASmH,IAAIjC,GAAGC,GAAG,mBAAoBD,GAAEkB,EAAEf,EAAE,QAAQI,EAAEP,EAAE,SAASD,EAAEC,GAAGG,EAAEH,GAAGiC,IAAIlC,KAAKE,IAAIF,EAAEwE,GAAGE,cAAc,SAASzE,GAAG,GAAIC,GAAEF,EAAEsC,MAAMlC,EAAEoD,GAAG9B,EAAExB,GAAI,OAAOM,GAAEJ,EAAE,SAASJ,GAAGA,EAAEuB,UAAU,SAAS,SAASvB,GAAGC,EAAEY,KAAKb,EAAEiC,WAAWjC,EAAEK,OAAOH,GAAGF,EAAEwE,GAAGG,aAAa,WAAW,GAAI1E,GAAED,EAAEsC,KAAM,OAAOnB,GAAEqC,GAAG9B,EAAEzB,IAAI,WAAWA,GAAGD,EAAEwE,GAAGI,YAAY,WAAW,GAAI3E,GAAED,EAAEsC,KAAM,OAAOnB,GAAEqC,GAAG9B,EAAEzB,IAAI,UAAUA,GAAGD,EAAEwE,GAAGK,WAAW,WAAW,GAAI5E,GAAED,EAAEsC,KAAM,OAAOnB,GAAEqC,GAAG9B,EAAEzB,IAAI,SAASA,IAAI5F,QAAQ2F,EAAEwE,GAAGM,YAAY,WAAW,GAAI7E,GAAE,QAAAA,GAASD,GAAG,GAAIC,KAAK,OAAOO,GAAER,EAAE,SAASA,EAAEE,GAAG,GAAIE,KAAK,eAAcF,IAAIE,EAAE1B,KAAKwB,EAAE6E,MAAM,WAAW,IAAI3E,EAAEA,EAAE4E,OAAO/D,EAAEf,EAAE6E,MAAM,eAAe,SAAS/E,GAAG,MAAOA,GAAE9C,QAAQ,UAAU,OAAO+C,EAAEvB,MAAM5D,IAAIkF,EAAE3C,IAAI+C,OAAOH,GAAGC,EAAE,QAAFA,GAAWF,GAAG,GAAG,IAAIA,EAAEzF,SAAS,IAAIyF,EAAE,GAAG3C,IAAI9C,QAAQ,IAAIyF,EAAE,GAAG3C,IAAI9C,SAASyF,EAAE,GAAG3C,IAAI,IAAI,MAAO2C,GAAE,GAAGlF,GAAI0F,GAAER,EAAE,SAASA,GAAGA,EAAEiF,KAAKjF,EAAE3C,IAAI6H,SAAU,IAAIjF,GAAEG,EAAE,WAAW,GAAIH,KAAK,OAAOO,GAAER,EAAE,SAASA,GAAGC,EAAED,EAAEiF,QAAQhF,EAAED,EAAEiF,UAAUhF,EAAED,EAAEiF,MAAMvG,KAAKsB,KAAKC,IAAK,OAAM,WAAWkF,KAAKnF,EAAE,GAAGiF,OAAOhF,KAAKO,EAAEJ,EAAE,SAASJ,GAAGC,EAAEvB,KAAKwB,EAAEF,QAAQC,KAAKO,EAAEJ,EAAE,SAASJ,EAAEI,GAAGH,EAAEG,GAAGF,EAAEF,MAAMC,EAAG,OAAOC,GAAED,EAAED,EAAEsC,MAAMmC,cAAczE,EAAEwE,GAAGY,SAAS,SAASlF,GAAG,MAAOA,GAAEA,MAAMF,EAAEsC,MAAM9H,KAAK,WAAW,GAAI4F,GAAEJ,EAAEsC,MAAMjC,EAAEH,EAAEtE,MAAM,WAAWoE,EAAEsC,MAAM1G,QAAQ2E,EAAEL,EAAExE,MAAM,SAASsE,GAAGA,KAAKU,EAAEN,EAAE9F,KAAK,wBAAwB+K,QAAQtE,EAAE,SAASd,EAAEC,GAAG,MAAOD,GAAEsC,OAAO,WAAW,OAAOrC,GAAE,IAAIF,EAAEsC,MAAMpG,QAAQgF,EAAEhB,EAAE,YAAYoF,KAAK,MAAM/K,UAAayG,EAAE,WAAW,MAAOD,GAAEL,EAAEpG,KAAK,wBAAwB4F,EAAEqF,YAAYpE,EAAET,EAAEpG,KAAK,wBAAwB+K,QAAQG,QAAQ9J,OAAO2F,EAAErB,EAAEsC,MAAMhI,KAAK,wBAAwB+K,QAAQ/K,KAAK,yBAA0B4F,GAAEuF,wBAAwBpE,GAAGA,EAAEqE,QAAS,IAAI5C,GAAE,WAAW,GAAI9C,GAAEU,EAAE7D,KAAK,gBAAiB,OAAOqD,GAAEyF,QAAQzF,EAAEyF,QAAQ9I,KAAK,aAAa,IAAImD,EAAE,IAAIA,GAAG+C,EAAE,SAAS9C,GAAGC,EAAEqF,WAAWtF,EAAEzF,KAAK,WAAW,GAAIyF,GAAED,EAAEsC,KAAM9B,GAAEN,EAAEqF,UAAU,SAASvF,GAAGC,EAAE3F,KAAK0F,EAAE4F,UAAUR,SAAStE,EAAEd,GAAG2F,QAAQ1F,UAAUgD,EAAE,SAASjD,EAAEC,EAAEC,GAAGF,GAAGQ,EAAER,EAAE,SAASA,GAAGE,EAAEW,KAAKZ,EAAE3F,KAAK0F,EAAE4F,UAAU,GAAG5F,MAAMkD,EAAE,QAAFA,GAAWjD,EAAEC,EAAEE,GAAGH,EAAEzF,KAAK,SAASyF,GAAG,GAAII,GAAEL,EAAEsC,KAAMjC,GAAExD,KAAK,YAAYqD,EAAE,IAAID,EAAE,KAAKc,EAAEV,EAAE/F,KAAK,UAAU8F,GAAG5F,KAAK,WAAW,GAAI+F,GAAEP,EAAEsC,MAAM9B,EAAED,EAAExF,KAAK,QAAQgK,MAAM,eAAerE,EAAEF,EAAEC,EAAED,GAAGtD,QAAQ,SAAS,IAAIqD,EAAExF,KAAK,QAAQ+F,EAAEZ,EAAE,IAAID,EAAE,KAAKS,EAAE,KAAKH,EAAEpC,GAAG,cAAcoC,EAAExF,KAAK,YAAY,KAAK,GAAIwF,GAAExF,KAAK,OAAO+F,GAAGmC,EAAE7C,EAAEC,EAAE,SAASD,GAAG,GAAIC,GAAEL,EAAEsC,KAAMY,GAAEnC,EAAEV,EAAE/F,KAAK,wBAAwB8F,EAAEmF,eAAerF,EAAE,IAAID,EAAE,KAAKI,EAAE/F,KAAK,wBAAwB+K,QAAQxI,KAAK,iBAAiB,IAAIuD,EAAEmF,iBAAiB7E,EAAEpG,KAAK,wBAAwBuL,WAAW,WAAWzK,KAAK,WAAU,GAAK8H,GAAElC,IAAI8B,IAAI5C,EAAEqF,WAAWxC,EAAE/B,KAAKd,EAAE4F,OAAO5F,EAAE4F,MAAM,WAAW5C,EAAElC,IAAI8B,IAAI5C,EAAEqF,YAAa,IAAIpC,GAAE,WAAW,GAAI/C,GAAE,QAAFA,GAAWF,EAAEG,EAAEE,GAAG,GAAGF,EAAE,CAAC,GAAIG,KAAKO,GAAEb,EAAE5F,KAAK,UAAUiG,GAAG/F,KAAK,WAAW,GAAIyF,GAAED,EAAEsC,MAAMvH,KAAK,QAAQgK,MAAM,0BAA0B,EAAGvE,GAAEP,GAAGD,EAAEsC,MAAMvH,KAAK,UAAUmF,EAAEuE,SAASxD,EAAEZ,EAAEJ,EAAE,SAASD,GAAG,MAAOQ,GAAER,MAAMiD,EAAE1C,EAAEL,EAAE,SAASD,GAAG,GAAIC,GAAEF,EAAEsC,KAAMvB,GAAEb,EAAE5F,KAAK,wBAAwB2F,EAAEsF,WAAW/K,KAAK,WAAW4F,EAAEJ,EAAEsC,MAAMrC,EAAE8F,cAAc9F,EAAEsF,mBAAoB,OAAO,UAAStF,GAAGS,EAAEsF,OAAO/F,GAAGiD,EAAElC,IAAI8B,IAAI5C,EAAEqF,WAAWtF,EAAE3F,KAAK,UAAUE,KAAK,WAAWwF,EAAEsC,MAAMuC,eAAezE,EAAEH,EAAEC,EAAE6F,cAAc7F,EAAEqF,eAAenC,EAAE,WAAW,GAAIpD,GAAEmB,EAAEqE,OAAQrC,GAAEnD,GAAGE,EAAEqF,WAAWxC,EAAE/C,GAAGK,EAAEQ,KAAKb,EAAEgC,IAAI,IAAK5B,GAAE6F,WAAWzL,KAAK,WAAWwF,EAAEsC,MAAMnE,GAAG,yBAAyB,IAAI6B,EAAEsC,MAAMhI,KAAK,wBAAwBC,SAASyF,EAAEsC,MAAMnE,GAAG,0BAA0B6B,EAAEsC,MAAM4D,MAAM9C,GAAG,IAAIpD,EAAEsC,MAAMhI,KAAK,0BAA0BC,QAAQyF,EAAEsC,MAAMhI,KAAK,0BAA0B4L,MAAM9C,MAAM1C,EAAE2B,GAAG,QAAQ,yBAAyB,WAAW,GAAIpC,GAAED,EAAEsC,MAAMpG,QAAQ,wBAAwB8F,IAAI,EAAGzB,GAAEM,KAAKZ,EAAE,WAAWD,EAAEC,GAAGyF,SAASxC,EAAElC,IAAI8B,IAAI5C,EAAEqF,iBAAiBjD,OAAOjI,OJsY9xT,IAAI8L,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjJ,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgJ,SAAyBhJ,EAAIkJ,cAAgBF,QAAUhJ,IAAQgJ,OAAOxF,UAAY,eAAkBxD,KK1YrQ,SAASsE,GAgWV,QAAS6E,GAAa/B,GACpB,GAAgC9E,SAA5B8G,SAAS5F,UAAU3C,KAAoB,CACzC,GAAIwI,GAAgB,yBAChBC,EAAWD,EAAe7L,KAAM4J,EAAIpF,WACxC,OAAQsH,IAAWA,EAAQnM,OAAS,EAAKmM,EAAQ,GAAGC,OAAS,GAE1D,MAAqBjH,UAAjB8E,EAAG5D,UACH4D,EAAG8B,YAAYrI,KAGfuG,EAAG5D,UAAU0F,YAAYrI,KAGpC,QAAS2I,GAAWC,GAClB,QAAG,OAAO1B,KAAK0B,KACP,QAAQ1B,KAAK0B,KACZC,MAAY,EAAND,GACRA,EADyBE,WAAWF,IAK7C,QAASG,GAAUH,GACjB,MAAOA,GAAI3J,QAAQ,kBAAmB,SAAS2B,cAlXjD,GAAIoI,GAAqB,QAIrB3H,GACF4H,QAASD,EAKTE,YAKAC,UAKAC,IAAK,WACH,MAAiC,QAA1B3F,EAAE,QAAQ3G,KAAK,QAMxBuM,OAAQ,SAASA,EAAQrJ,GAGvB,GAAIsJ,GAAatJ,GAAQsI,EAAae,GAGlCE,EAAYR,EAAUO,EAG1BjF,MAAK6E,SAASK,GAAYlF,KAAKiF,GAAaD,GAW9CG,eAAgB,SAASH,EAAQrJ,GAC/B,GAAIyJ,GAAazJ,EAAO+I,EAAU/I,GAAQsI,EAAae,EAAOhB,aAAazH,aAC3EyI,GAAO1K,KAAO0F,KAAKqF,YAAY,EAAGD,GAE9BJ,EAAOM,SAAS7M,KAAhB,QAA6B2M,IAAgBJ,EAAOM,SAAS7M,KAAhB,QAA6B2M,EAAcJ,EAAO1K,MAC/F0K,EAAOM,SAAS/K,KAAK,aAAcyK,EAAOM,SAAS/K,KAAK,WAAYyK,GAKxEA,EAAOM,SAASC,QAAhB,WAAmCH,GAEnCpF,KAAK8E,OAAO1I,KAAK4I,EAAO1K,OAY1BkL,iBAAkB,SAASR,GACzB,GAAII,GAAaV,EAAUT,EAAae,EAAOM,SAAS/K,KAAK,YAAYyJ,aAEzEhE,MAAK8E,OAAO3F,OAAOa,KAAK8E,OAAOnL,QAAQqL,EAAO1K,MAAO,GACrD0K,EAAOM,SAAS/B,WAAhB,QAAmC6B,GAAcK,WAAW,YAKrDF,QALP,gBAK+BH,EAC/B,KAAI,GAAItM,KAAQkM,GACdA,EAAOlM,GAAQ,MAWlB4M,OAAQ,SAASC,GACf,GAAIC,GAAOD,YAAmBvG,EAC9B,KACE,GAAGwG,EACDD,EAAQzN,KAAK,WACXkH,EAAEY,MAAMzF,KAAK,YAAYsL,cAExB,CACH,GAAIrM,GAAA,mBAAcmM,GAAd,YAAA9B,QAAc8B,GAClBG,EAAQ9F,KACR+F,GACEC,OAAU,SAASC,GACjBA,EAAKC,QAAQ,SAASnH,GACpBA,EAAI2F,EAAU3F,GACdK,EAAE,SAAUL,EAAG,KAAKxB,WAAW,YAGnC4I,OAAU,WACRR,EAAUjB,EAAUiB,GACpBvG,EAAE,SAAUuG,EAAS,KAAKpI,WAAW,UAEvCH,UAAa,WACX4C,KAAA,OAAehF,OAAOoL,KAAKN,EAAMjB,YAGrCkB,GAAIvM,GAAMmM,IAEb,MAAMU,GACLC,QAAQC,MAAMF,GA1BhB,QA4BE,MAAOV,KAYZN,YAAa,SAASpN,EAAQuO,GAE5B,MADAvO,GAASA,GAAU,EACZyE,KAAKC,MAAOD,KAAKE,IAAI,GAAI3E,EAAS,GAAKyE,KAAKG,SAAWH,KAAKE,IAAI,GAAI3E,IAAU6E,SAAS,IAAIC,MAAM,IAAMyJ,EAAAA,IAAgBA,EAAc,KAO9IC,OAAQ,SAASC,EAAMf,GAGE,mBAAZA,GACTA,EAAU3K,OAAOoL,KAAKpG,KAAK6E,UAGD,gBAAZc,KACdA,GAAWA,GAGb,IAAIG,GAAQ9F,IAGZZ,GAAElH,KAAKyN,EAAS,SAASvH,EAAGzC,GAE1B,GAAIqJ,GAASc,EAAMjB,SAASlJ,GAGxBgL,EAAQvH,EAAEsH,GAAM1O,KAAK,SAAS2D,EAAK,KAAKiL,QAAQ,SAASjL,EAAK,IAGlEgL,GAAMzO,KAAK,WACT,GAAI2O,GAAMzH,EAAEY,MACR8G,IAEJ,IAAID,EAAItM,KAAK,YAEX,WADA+L,SAAQS,KAAK,uBAAuBpL,EAAK,uDAI3C,IAAGkL,EAAIpO,KAAK,gBACV,CAAYoO,EAAIpO,KAAK,gBAAgB2H,MAAM,KAAK8F,QAAQ,SAASnI,EAAGK,GAClE,GAAI4I,GAAMjJ,EAAEqC,MAAM,KAAK6G,IAAI,SAASC,GAAK,MAAOA,GAAG7C,QAChD2C,GAAI,KAAIF,EAAKE,EAAI,IAAM1C,EAAW0C,EAAI,OAG7C,IACEH,EAAItM,KAAK,WAAY,GAAIyK,GAAO5F,EAAEY,MAAO8G,IAC1C,MAAMK,GACLb,QAAQC,MAAMY,GAHhB,QAKE,aAKRC,UAAWnD,EACXoD,cAAe,SAASV,GACtB,GAOIW,GAPAC,GACFC,WAAc,gBACdC,iBAAoB,sBACpBC,cAAiB,gBACjBC,YAAe,kBAEbjB,EAAOkB,SAASC,cAAc,MAGlC,KAAK,GAAIjH,KAAK2G,GACiB,mBAAlBb,GAAKoB,MAAMlH,KACpB0G,EAAMC,EAAY3G,GAGtB,OAAG0G,GACMA,GAEPA,EAAMS,WAAW,WACfpB,EAAMqB,eAAe,iBAAkBrB,KACtC,GACI,kBAKb3J,GAAWiL,MAQTC,SAAU,SAAUC,EAAMC,GACxB,GAAIC,GAAQ,IAEZ,OAAO,YACL,GAAIC,GAAUtI,KAAMuI,EAAOpL,SAEb,QAAVkL,IACFA,EAAQN,WAAW,WACjBI,EAAKrJ,MAAMwJ,EAASC,GACpBF,EAAQ,MACPD,MAYX,IAAI7K,GAAa,SAASiL,GACxB,GAAIhP,GAAA,mBAAcgP,GAAd,YAAA3E,QAAc2E,GACdC,EAAQrJ,EAAE,sBACVsJ,EAAQtJ,EAAE,SASd,IAPIqJ,EAAMxQ,QACRmH,EAAE,gCAAgCuJ,SAASf,SAASjF,MAEnD+F,EAAMzQ,QACPyQ,EAAME,YAAY,SAGR,cAATpP,EACDwD,EAAW6L,WAAWhD,QACtB7I,EAAWyJ,OAAOzG,UACd,CAAA,GAAY,WAATxG,EAgBP,KAAM,IAAI7B,WAAJ,gBAA8B6B,EAA9B,+FAfN,IAAI+O,GAAOlK,MAAMC,UAAUvB,MAAMwB,KAAKpB,UAAW,GAC7C2L,EAAY9I,KAAKzF,KAAK,WAE1B,IAAiB6C,SAAd0L,GAAiD1L,SAAtB0L,EAAUN,GAStC,KAAM,IAAIO,gBAAe,iBAAmBP,EAAS,qCAAuCM,EAAY7E,EAAa6E,GAAa,gBAAkB,IARjI,KAAhB9I,KAAK/H,OACJ6Q,EAAUN,GAAQ1J,MAAMgK,EAAWP,GAErCvI,KAAK9H,KAAK,SAASkG,EAAG8I,GACpB4B,EAAUN,GAAQ1J,MAAMM,EAAE8H,GAAI3M,KAAK,YAAagO,KASxD,MAAOvI,MAGTgJ,QAAOhM,WAAaA,EACpBoC,EAAE8C,GAAG3E,WAAaA,EAGlB,WACO0L,KAAKC,KAAQF,OAAOC,KAAKC,MAC5BF,OAAOC,KAAKC,IAAMD,KAAKC,IAAM,WAAa,OAAO,GAAID,OAAOE,WAG9D,KAAK,GADDC,IAAW,SAAU,OAChBhL,EAAI,EAAGA,EAAIgL,EAAQnR,SAAW+Q,OAAOK,wBAAyBjL,EAAG,CACtE,GAAIkL,GAAKF,EAAQhL,EACjB4K,QAAOK,sBAAwBL,OAAOM,EAAG,yBACzCN,OAAOO,qBAAwBP,OAAOM,EAAG,yBACXN,OAAOM,EAAG,+BAE5C,GAAI,uBAAuBzG,KAAKmG,OAAOQ,UAAUC,aAC3CT,OAAOK,wBAA0BL,OAAOO,qBAAsB,CAClE,GAAIG,GAAW,CACfV,QAAOK,sBAAwB,SAASM,GACpC,GAAIT,GAAMD,KAAKC,MACXU,EAAWlN,KAAKmN,IAAIH,EAAW,GAAIR,EACvC,OAAOnB,YAAW,WAAa4B,EAASD,EAAWE,IACjCA,EAAWV,IAEjCF,OAAOO,qBAAuBO,aAK5Bd,OAAOe,aAAgBf,OAAOe,YAAYb,MAC5CF,OAAOe,aACLC,MAAOf,KAAKC,MACZA,IAAK,WAAY,MAAOD,MAAKC,MAAQlJ,KAAKgK,YAI3C9F,SAAS5F,UAAU2L,OACtB/F,SAAS5F,UAAU2L,KAAO,SAASC,GACjC,GAAoB,kBAATlK,MAGT,KAAM,IAAIrI,WAAU,uEAGtB,IAAIwS,GAAU9L,MAAMC,UAAUvB,MAAMwB,KAAKpB,UAAW,GAChDiN,EAAUpK,KACVqK,EAAU,aACVC,EAAU,WACR,MAAOF,GAAQtL,MAAMkB,eAAgBqK,GAC5BrK,KACAkK,EACFC,EAAMzH,OAAOrE,MAAMC,UAAUvB,MAAMwB,KAAKpB,aASrD,OANI6C,MAAK1B,YAEP+L,EAAK/L,UAAY0B,KAAK1B,WAExBgM,EAAOhM,UAAY,GAAI+L,GAEhBC,KA6BTvS,SC/WD,SAASqH,GAgGV,QAASmL,GAAYC,GACnB,GAAI/L,KACJ,KAAK,GAAIgM,KAAMD,GAAK/L,EAAE+L,EAAIC,IAAOD,EAAIC,EACrC,OAAOhM,GAjGT,GAAMiM,IACJC,EAAG,MACHC,GAAI,QACJC,GAAI,SACJC,GAAI,QACJC,GAAI,aACJC,GAAI,WACJC,GAAI,cACJC,GAAI,cAGFC,KAEAC,GACFhF,KAAMmE,EAAYG,GAQlBW,SATa,SASJC,GACP,GAAIvQ,GAAM2P,EAASY,EAAMC,OAASD,EAAME,UAAYC,OAAOC,aAAaJ,EAAMC,OAAOI,aAIrF,OAHIL,GAAMM,WAAU7Q,EAAAA,SAAeA,GAC/BuQ,EAAMO,UAAS9Q,EAAAA,QAAcA,GAC7BuQ,EAAMQ,SAAQ/Q,EAAAA,OAAaA,GACxBA,GASTgR,UAvBa,SAuBHT,EAAOU,EAAWC,GAC1B,GAEEC,GACAC,EACAjK,EAJEkK,EAAcjB,EAASa,GACzBR,EAAUxL,KAAKqL,SAASC,EAK1B,KAAKc,EAAa,MAAO9F,SAAQS,KAAK,yBAYtC,IATImF,EAD2B,mBAApBE,GAAYC,IACZD,EAEHpP,WAAW+H,MAAc3F,EAAEkN,UAAWF,EAAYC,IAAKD,EAAYrH,KAE3D3F,EAAEkN,UAAWF,EAAYrH,IAAKqH,EAAYC,KAE1DF,EAAUD,EAAKV,GAEftJ,EAAK+J,EAAUE,GACXjK,GAAoB,kBAAPA,GAAmB,CAClC,GAAIqK,GAAcrK,EAAGpD,SACjBmN,EAAUO,SAAwC,kBAAtBP,GAAUO,UACtCP,EAAUO,QAAQD,QAGlBN,EAAUQ,WAA4C,kBAAxBR,GAAUQ,YACxCR,EAAUQ,aAUlBC,cA3Da,SA2DCpH,GACZ,MAAOA,GAAStN,KAAK,gLAAgLiI,OAAO,WAC1M,SAAKb,EAAEY,MAAMnE,GAAG,aAAeuD,EAAEY,MAAMvH,KAAK,YAAc,MAW9DkU,SAxEa,SAwEJC,EAAeV,GACtBf,EAASyB,GAAiBV,GAc9BlP,YAAWoO,SAAWA,GAEpBrT,SChHD,SAASqH,GAkBV,QAASyN,GAAiBC,EAASpR,EAAQqR,EAAQC,GACjD,GACIC,GAAKC,EAAQC,EAAMC,EADnBC,EAAUC,EAAcR,EAG5B,IAAIpR,EAAQ,CACV,GAAI6R,GAAUD,EAAc5R,EAE5BwR,GAAUG,EAAQG,OAAOP,IAAMI,EAAQI,QAAUF,EAAQE,OAASF,EAAQC,OAAOP,IACjFA,EAAUI,EAAQG,OAAOP,KAAOM,EAAQC,OAAOP,IAC/CE,EAAUE,EAAQG,OAAOL,MAAQI,EAAQC,OAAOL,KAChDC,EAAUC,EAAQG,OAAOL,KAAOE,EAAQK,OAASH,EAAQG,MAAQH,EAAQC,OAAOL,SAGhFD,GAAUG,EAAQG,OAAOP,IAAMI,EAAQI,QAAUJ,EAAQM,WAAWF,OAASJ,EAAQM,WAAWH,OAAOP,IACvGA,EAAUI,EAAQG,OAAOP,KAAOI,EAAQM,WAAWH,OAAOP,IAC1DE,EAAUE,EAAQG,OAAOL,MAAQE,EAAQM,WAAWH,OAAOL,KAC3DC,EAAUC,EAAQG,OAAOL,KAAOE,EAAQK,OAASL,EAAQM,WAAWD,KAGtE,IAAIE,IAAWV,EAAQD,EAAKE,EAAMC,EAElC,OAAIL,GACKI,IAASC,IAAU,EAGxBJ,EACKC,IAAQC,IAAW,EAGrBU,EAAQjU,SAAQ,QAUzB,QAAS2T,GAAc5G,EAAM7D,GAG3B,GAFA6D,EAAOA,EAAKzO,OAASyO,EAAK,GAAKA,EAE3BA,IAASsC,QAAUtC,IAASkB,SAC9B,KAAM,IAAIiG,OAAM,+CAGlB,IAAIC,GAAOpH,EAAKqH,wBACZC,EAAUtH,EAAKuH,WAAWF,wBAC1BG,EAAUtG,SAASuG,KAAKJ,wBACxBK,EAAOpF,OAAOqF,YACdC,EAAOtF,OAAOuF,WAElB,QACEb,MAAOI,EAAKJ,MACZD,OAAQK,EAAKL,OACbD,QACEP,IAAKa,EAAKb,IAAMmB,EAChBjB,KAAMW,EAAKX,KAAOmB,GAEpBE,YACEd,MAAOM,EAAQN,MACfD,OAAQO,EAAQP,OAChBD,QACEP,IAAKe,EAAQf,IAAMmB,EACnBjB,KAAMa,EAAQb,KAAOmB,IAGzBX,YACED,MAAOQ,EAAQR,MACfD,OAAQS,EAAQT,OAChBD,QACEP,IAAKmB,EACLjB,KAAMmB,KAkBd,QAASG,GAAW3B,EAAS4B,EAAQ1V,EAAU2V,EAASC,EAASC,GAC/D,GAAIC,GAAWxB,EAAcR,GACzBiC,EAAcL,EAASpB,EAAcoB,GAAU,IAEnD,QAAQ1V,GACN,IAAK,MACH,OACEmU,KAAOnQ,WAAW+H,MAAQgK,EAAYvB,OAAOL,KAAO2B,EAASpB,MAAQqB,EAAYrB,MAAQqB,EAAYvB,OAAOL,KAC5GF,IAAK8B,EAAYvB,OAAOP,KAAO6B,EAASrB,OAASkB,GAGrD,KAAK,OACH,OACExB,KAAM4B,EAAYvB,OAAOL,MAAQ2B,EAASpB,MAAQkB,GAClD3B,IAAK8B,EAAYvB,OAAOP,IAG5B,KAAK,QACH,OACEE,KAAM4B,EAAYvB,OAAOL,KAAO4B,EAAYrB,MAAQkB,EACpD3B,IAAK8B,EAAYvB,OAAOP,IAG5B,KAAK,aACH,OACEE,KAAO4B,EAAYvB,OAAOL,KAAQ4B,EAAYrB,MAAQ,EAAOoB,EAASpB,MAAQ,EAC9ET,IAAK8B,EAAYvB,OAAOP,KAAO6B,EAASrB,OAASkB,GAGrD,KAAK,gBACH,OACExB,KAAM0B,EAAaD,EAAYG,EAAYvB,OAAOL,KAAQ4B,EAAYrB,MAAQ,EAAOoB,EAASpB,MAAQ,EACtGT,IAAK8B,EAAYvB,OAAOP,IAAM8B,EAAYtB,OAASkB,EAGvD,KAAK,cACH,OACExB,KAAM4B,EAAYvB,OAAOL,MAAQ2B,EAASpB,MAAQkB,GAClD3B,IAAM8B,EAAYvB,OAAOP,IAAO8B,EAAYtB,OAAS,EAAOqB,EAASrB,OAAS,EAGlF,KAAK,eACH,OACEN,KAAM4B,EAAYvB,OAAOL,KAAO4B,EAAYrB,MAAQkB,EAAU,EAC9D3B,IAAM8B,EAAYvB,OAAOP,IAAO8B,EAAYtB,OAAS,EAAOqB,EAASrB,OAAS,EAGlF,KAAK,SACH,OACEN,KAAO2B,EAASnB,WAAWH,OAAOL,KAAQ2B,EAASnB,WAAWD,MAAQ,EAAOoB,EAASpB,MAAQ,EAC9FT,IAAM6B,EAASnB,WAAWH,OAAOP,IAAO6B,EAASnB,WAAWF,OAAS,EAAOqB,EAASrB,OAAS,EAGlG,KAAK,SACH,OACEN,MAAO2B,EAASnB,WAAWD,MAAQoB,EAASpB,OAAS,EACrDT,IAAK6B,EAASnB,WAAWH,OAAOP,IAAM0B,EAE1C,KAAK,cACH,OACExB,KAAM2B,EAASnB,WAAWH,OAAOL,KACjCF,IAAK6B,EAASnB,WAAWH,OAAOP,IAGpC,KAAK,cACH,OACEE,KAAM4B,EAAYvB,OAAOL,KACzBF,IAAK8B,EAAYvB,OAAOP,IAAM8B,EAAYtB,OAG9C,KAAK,eACH,OACEN,KAAM4B,EAAYvB,OAAOL,KAAO4B,EAAYrB,MAAQkB,EAAUE,EAASpB,MACvET,IAAK8B,EAAYvB,OAAOP,IAAM8B,EAAYtB,OAG9C,SACE,OACEN,KAAOnQ,WAAW+H,MAAQgK,EAAYvB,OAAOL,KAAO2B,EAASpB,MAAQqB,EAAYrB,MAAQqB,EAAYvB,OAAOL,KAAOyB,EACnH3B,IAAK8B,EAAYvB,OAAOP,IAAM8B,EAAYtB,OAASkB,IAzL3D3R,WAAWgS,KACTnC,iBAAkBA,EAClBS,cAAeA,EACfmB,WAAYA,IA2LZ1W,OP64BF,IAAI8L,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjJ,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgJ,SAAyBhJ,EAAIkJ,cAAgBF,QAAUhJ,IAAQgJ,OAAOxF,UAAY,eAAkBxD,KQ7kCrQ,SAASsE,GA6KV,QAAS6P,GAAmB1K,GAC1B,GAAI2K,KAEJ,OAAmB,gBAAR3K,GACF2K,GAGT3K,EAAMA,EAAIF,OAAOtH,MAAM,OAMvBmS,EAAc3K,EAAInE,MAAM,KAAK+O,OAAO,SAASC,EAAKC,GAChD,GAAIC,GAAQD,EAAMzU,QAAQ,MAAO,KAAKwF,MAAM,KACxCrF,EAAMuU,EAAM,GACZ9W,EAAM8W,EAAM,EAchB,OAbAvU,GAAMwU,mBAAmBxU,GAIzBvC,EAAc4E,SAAR5E,EAAoB,KAAO+W,mBAAmB/W,GAE/C4W,EAAI/R,eAAetC,GAEbsD,MAAMR,QAAQuR,EAAIrU,IAC3BqU,EAAIrU,GAAKqB,KAAK5D,GAEd4W,EAAIrU,IAAQqU,EAAIrU,GAAMvC,GAJtB4W,EAAIrU,GAAOvC,EAMN4W,OApBAF,EApLX,GAYIrG,IACF2G,WAEAC,QAAS,GAOT5J,MAVe,WAWb,GAEI6J,GAFAC,EAAO3P,KACP4P,EAAkBxQ,EAAE,kBAAkByQ,IAAI,cAG9CH,GAAeT,EAAmBW,EAElC,KAAK,GAAI7U,KAAO2U,GACXA,EAAarS,eAAetC,IAC7B4U,EAAKH,QAAQpT,MACXT,KAAMZ,EACN1C,MAAAA,+BAAsCqX,EAAa3U,GAAnD,KAKNiF,MAAKyP,QAAUzP,KAAK8P,kBAEpB9P,KAAK+P,YASPC,QArCe,SAqCPC,GACN,GAAIC,GAAQlQ,KAAKN,IAAIuQ,EAErB,SAAIC,GACKlH,OAAOmH,WAAWD,GAAOE,SAYpC1Q,IArDe,SAqDXuQ,GACF,IAAK,GAAI7R,KAAK4B,MAAKwP,QACjB,GAAGxP,KAAKwP,QAAQnS,eAAee,GAAI,CACjC,GAAI8R,GAAQlQ,KAAKwP,QAAQpR,EACzB,IAAI6R,IAASC,EAAMvU,KAAM,MAAOuU,GAAM7X,MAI1C,MAAO,OASTyX,gBAtEe,WAyEb,IAAK,GAFDO,GAEKjS,EAAI,EAAGA,EAAI4B,KAAKwP,QAAQvX,OAAQmG,IAAK,CAC5C,GAAI8R,GAAQlQ,KAAKwP,QAAQpR,EAErB4K,QAAOmH,WAAWD,EAAM7X,OAAO+X,UACjCC,EAAUH,GAId,MAAuB,YAAnB,mBAAOG,GAAP,YAAAxM,QAAOwM,IACFA,EAAQ1U,KAER0U,GASXN,SA7Fe,WA6FJ,GAAAjK,GAAA9F,IACTZ,GAAE4J,QAAQjJ,GAAG,uBAAwB,WACnC,GAAIuQ,GAAUxK,EAAKgK,kBAAmBS,EAAczK,EAAK2J,OAErDa,KAAYC,IAEdzK,EAAK2J,QAAUa,EAGflR,EAAE4J,QAAQzD,QAAQ,yBAA0B+K,EAASC,QAM7DvT,YAAW6L,WAAaA,EAIxBG,OAAOmH,aAAenH,OAAOmH,WAAa,WAIxC,GAAIK,GAAcxH,OAAOwH,YAAcxH,OAAOyH,KAG9C,KAAKD,EAAY,CACf,GAAI1I,GAAUF,SAASC,cAAc,SACrC6I,EAAc9I,SAAS+I,qBAAqB,UAAU,GACtDC,EAAc,IAEd9I,GAAMtO,KAAQ,WACdsO,EAAM+I,GAAQ,oBAEdH,GAAUA,EAAOzC,YAAcyC,EAAOzC,WAAW6C,aAAahJ,EAAO4I,GAGrEE,EAAQ,oBAAsB5H,SAAWA,OAAO+H,iBAAiBjJ,EAAO,OAASA,EAAMkJ,aAEvFR,GACES,YADW,SACCR,GACV,GAAIpP,GAAAA,UAAiBoP,EAAjB,wCAUJ,OAPI3I,GAAMoJ,WACRpJ,EAAMoJ,WAAWC,QAAU9P,EAE3ByG,EAAMsJ,YAAc/P,EAIA,QAAfuP,EAAKlD,QAKlB,MAAO,UAAS+C,GACd,OACEL,QAASI,EAAWS,YAAYR,GAAS,OACzCA,MAAOA,GAAS,YA0CtBzT,WAAW6L,WAAaA,GAEtB9Q,ORolCF,IAAI8L,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjJ,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgJ,SAAyBhJ,EAAIkJ,cAAgBF,QAAUhJ,IAAQgJ,OAAOxF,UAAY,eAAkBxD,KSvyCrQ,SAASsE,GAmEV,QAASiS,KACPC,IACAC,IACAC,IACAC,IAIF,QAASA,GAAgBrM,GACvB,GAAIsM,GAAYtS,EAAE,mBACduS,GAAa,WAAY,UAAW,SAWxC,IATGvM,IACwB,gBAAfA,GACRuM,EAAUvV,KAAKgJ,GACc,YAAtB,mBAAOA,GAAP,YAAAvB,QAAOuB,KAAoD,gBAAlBA,GAAW,GAC3DuM,EAAUjP,OAAO0C,GAEjBkB,QAAQC,MAAM,iCAGfmL,EAAUzZ,OAAO,CAClB,GAAI2Z,GAAYD,EAAU1K,IAAI,SAACtL,GAC7B,MAAA,cAAqBA,IACpBqH,KAAK,IAER5D,GAAE4J,QAAQ6I,IAAID,GAAW7R,GAAG6R,EAAW,SAAS7T,EAAG+T,GACjD,GAAI9M,GAASjH,EAAEyI,UAAUpG,MAAM,KAAK,GAChCuF,EAAUvG,EAAAA,SAAW4F,EAAX,KAAsB+M,IAAtB,mBAA6CD,EAA7C,KAEdnM,GAAQzN,KAAK,WACX,GAAI4N,GAAQ1G,EAAEY,KAEd8F,GAAMkC,eAAe,oBAAqBlC,SAMlD,QAASyL,GAAeS,GACtB,GAAI3J,GAAAA,OACA4J,EAAS7S,EAAE,gBACZ6S,GAAOha,QACRmH,EAAE4J,QAAQ6I,IAAI,qBACb9R,GAAG,oBAAqB,SAAShC,GAC5BsK,GAASyB,aAAazB,GAE1BA,EAAQN,WAAW,WAEbmK,GACFD,EAAO/Z,KAAK,WACVkH,EAAEY,MAAMgI,eAAe,yBAI3BiK,EAAOxZ,KAAK,cAAe,WAC1BuZ,GAAY,MAKrB,QAASR,GAAeQ,GACtB,GAAI3J,GAAAA,OACA4J,EAAS7S,EAAE,gBACZ6S,GAAOha,QACRmH,EAAE4J,QAAQ6I,IAAI,qBACb9R,GAAG,oBAAqB,SAAShC,GAC7BsK,GAAQyB,aAAazB,GAExBA,EAAQN,WAAW,WAEbmK,GACFD,EAAO/Z,KAAK,WACVkH,EAAEY,MAAMgI,eAAe,yBAI3BiK,EAAOxZ,KAAK,cAAe,WAC1BuZ,GAAY,MAKrB,QAASV,KACP,IAAIY,EAAmB,OAAO,CAC9B,IAAIC,GAAQvK,SAASwK,iBAAiB,+CAGlCC,EAA4B,SAASC,GACvC,GAAIC,GAAUnT,EAAEkT,EAAoB,GAAGE,OAEvC,QAAQD,EAAQ9Z,KAAK,gBAEnB,IAAK,SACL8Z,EAAQvK,eAAe,uBAAwBuK,GAC/C,MAEA,KAAK,SACLA,EAAQvK,eAAe,uBAAwBuK,EAASvJ,OAAOqF,aAC/D,MAYA,SACA,OAAO,GAKX,IAAG8D,EAAMla,OAEP,IAAK,GAAImG,GAAI,EAAGA,GAAK+T,EAAMla,OAAO,EAAGmG,IAAK,CACxC,GAAIqU,GAAkB,GAAIP,GAAiBG,EAC3CI,GAAgBC,QAAQP,EAAM/T,IAAMuU,YAAY,EAAMC,WAAW,EAAOC,eAAe,EAAOC,SAAQ,EAAOC,iBAAiB,kBA1LpI,GAAMb,GAAoB,WAExB,IAAK,GADDc,IAAY,SAAU,MAAO,IAAK,KAAM,IACnC5U,EAAE,EAAGA,EAAI4U,EAAS/a,OAAQmG,IACjC,GAAO4U,EAAS5U,GAAZ,oBAAoC4K,QACtC,MAAOA,QAAUgK,EAAS5U,GAAnB,mBAGX,QAAO,KAGH6U,EAAW,SAAC/L,EAAI1N,GACpB0N,EAAG3M,KAAKf,GAAM4G,MAAM,KAAK8F,QAAQ,SAAA2K,GAC/BzR,EAAAA,IAAMyR,GAAgB,UAATrX,EAAmB,UAAY,kBAAqBA,EAAjE,eAAqF0N,MAIzF9H,GAAEwI,UAAU7H,GAAG,mBAAoB,cAAe,WAChDkT,EAAS7T,EAAEY,MAAO,UAKpBZ,EAAEwI,UAAU7H,GAAG,mBAAoB,eAAgB,WACjD,GAAI8Q,GAAKzR,EAAEY,MAAMzF,KAAK,QAClBsW,GACFoC,EAAS7T,EAAEY,MAAO,SAGlBZ,EAAEY,MAAMuF,QAAQ,sBAKpBnG,EAAEwI,UAAU7H,GAAG,mBAAoB,gBAAiB,WAClDkT,EAAS7T,EAAEY,MAAO,YAIpBZ,EAAEwI,UAAU7H,GAAG,mBAAoB,kBAAmB,SAAShC,GAC7DA,EAAEmV,iBACF,IAAIC,GAAY/T,EAAEY,MAAMzF,KAAK,WAEZ,MAAd4Y,EACDnW,WAAWoW,OAAOC,WAAWjU,EAAEY,MAAOmT,EAAW,WAC/C/T,EAAEY,MAAMuF,QAAQ,eAGlBnG,EAAEY,MAAMsT,UAAU/N,QAAQ,eAI9BnG,EAAEwI,UAAU7H,GAAG,mCAAoC,sBAAuB,WACxE,GAAI8Q,GAAKzR,EAAEY,MAAMzF,KAAK,eACtB6E,GAAAA,IAAMyR,GAAM7I,eAAe,qBAAsB5I,EAAEY,UAQrDZ,EAAE4J,QAAQjJ,GAAG,OAAQ,WACnBsR,MAqIFrU,WAAWuW,SAAWlC,GAIpBtZ,SCzMD,SAASqH,GAoBV,QAASoU,GAAKna,EAAUqN,EAAMxE,GAI5B,QAASuR,GAAKC,GACR1J,IAAOA,EAAQhB,OAAOe,YAAYb,OAEtCyK,EAAOD,EAAK1J,EACZ9H,EAAGpD,MAAM4H,GAENiN,EAAOta,EAAWua,EAAO5K,OAAOK,sBAAsBoK,EAAM/M,IAE7DsC,OAAOO,qBAAqBqK,GAC5BlN,EAAKnB,QAAQ,uBAAwBmB,IAAOsB,eAAe,uBAAwBtB,KAZvF,GAAIkN,GAAMD,EAAM3J,EAAQ,IAexB4J,GAAO5K,OAAOK,sBAAsBoK,GAYtC,QAASI,GAAQC,EAAMhH,EAASqG,EAAWY,GAgCzC,QAASC,KACFF,GAAMhH,EAAQ1T,OACnBkH,IACIyT,GAAIA,EAAGjV,MAAMgO,GAInB,QAASxM,KACPwM,EAAQ,GAAGhF,MAAMmM,mBAAqB,EACtCnH,EAAQlE,YAAesL,EAAvB,IAAoCC,EAApC,IAAmDhB,GAtCrD,GAFArG,EAAU1N,EAAE0N,GAASsH,GAAG,GAEnBtH,EAAQ7U,OAAb,CAEA,GAAIic,GAAYJ,EAAOO,EAAY,GAAKA,EAAY,GAChDF,EAAcL,EAAOQ,EAAc,GAAKA,EAAc,EAG1DhU,KAEAwM,EACGyH,SAASpB,GACTtD,IAAI,aAAc,QAErBxG,sBAAsB,WACpByD,EAAQyH,SAASL,GACbJ,GAAMhH,EAAQxT,SAIpB+P,sBAAsB,WACpByD,EAAQ,GAAG0H,YACX1H,EACG+C,IAAI,aAAc,IAClB0E,SAASJ,KAIdrH,EAAQ2H,IAAIzX,WAAWqK,cAAcyF,GAAUkH,IAtEjD,GAAMK,IAAiB,YAAa,aAC9BC,GAAiB,mBAAoB,oBAErClB,GACJsB,UAAW,SAAS5H,EAASqG,EAAWY,GACtCF,GAAQ,EAAM/G,EAASqG,EAAWY,IAGpCV,WAAY,SAASvG,EAASqG,EAAWY,GACvCF,GAAQ,EAAO/G,EAASqG,EAAWY,IA6EvC/W,YAAWwW,KAAOA,EAClBxW,WAAWoW,OAASA,GAElBrb,OV6hDF,IAAI4c,cAAe,WAAc,QAASC,GAAiBpC,EAAQqC,GAAS,IAAK,GAAIzW,GAAI,EAAGA,EAAIyW,EAAM5c,OAAQmG,IAAK,CAAE,GAAI0W,GAAaD,EAAMzW,EAAI0W,GAAW5Z,WAAa4Z,EAAW5Z,aAAc,EAAO4Z,EAAW3Z,cAAe,EAAU,SAAW2Z,KAAYA,EAAW1Z,UAAW,GAAMJ,OAAOC,eAAeuX,EAAQsC,EAAW/Z,IAAK+Z,IAAiB,MAAO,UAAUpd,EAAaqd,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBld,EAAY4G,UAAWyW,GAAiBC,GAAaJ,EAAiBld,EAAasd,GAAqBtd,OW7nD/hB,SAAS0H,GAwjBV,QAAS6V,KACP,MAAO,qBAAqBpS,KAAKmG,OAAOQ,UAAUC,WAGpD,QAASyL,KACP,MAAO,UAAUrS,KAAKmG,OAAOQ,UAAUC,WAGzC,QAAS0L,KACP,MAAOF,MAAiBC,IAjkBb,GAYPjY,GAZO,WAmBX,QAAAA,GAAY6P,EAASsI,GAAS5d,gBAAAwI,KAAA/C,GAC5B+C,KAAKsF,SAAWwH,EAChB9M,KAAKoV,QAAUhW,EAAEkN,UAAWrP,EAAOoY,SAAUrV,KAAKsF,SAAS/K,OAAQ6a,GACnEpV,KAAK6F,QAEL7I,WAAWmI,eAAenF,KAAM,UAChChD,WAAWoO,SAASuB,SAAS,UAC3B2I,MAAS,OACTC,MAAS,OACTC,OAAU,QACVC,IAAO,cACPC,UAAa,iBA9BN,MAAAf,cAAA1X,IAAAlC,IAAA,QAAA1C,MAAA,WAuCT2H,KAAK6Q,GAAK7Q,KAAKsF,SAAS7M,KAAK,MAC7BuH,KAAK2V,UAAW,EAChB3V,KAAK4V,QAAUC,GAAI7Y,WAAW6L,WAAW4G,SACzCzP,KAAK8V,SAAWX,IAEhBnV,KAAK+V,QAAiD3W,EAAvCA,EAAAA,eAAiBY,KAAK6Q,GAAtB,MAA8B5Y,OAASmH,eAAiBY,KAAK6Q,GAAtB,KAAgCzR,iBAAmBY,KAAK6Q,GAAxB,MACtF7Q,KAAK+V,QAAQtd,MACXud,gBAAiBhW,KAAK6Q,GACtBoF,iBAAiB,EACjBC,SAAY,KAGVlW,KAAKoV,QAAQe,YAAcnW,KAAKsF,SAASrL,SAAS,WACpD+F,KAAKoV,QAAQe,YAAa,EAC1BnW,KAAKoV,QAAQgB,SAAU,GAErBpW,KAAKoV,QAAQgB,UAAYpW,KAAKqW,WAChCrW,KAAKqW,SAAWrW,KAAKsW,aAAatW,KAAK6Q,KAGzC7Q,KAAKsF,SAAS7M,MACV8d,KAAQ,SACRC,eAAe,EACfC,gBAAiBzW,KAAK6Q,GACtB6F,cAAe1W,KAAK6Q,KAGrB7Q,KAAKqW,SACNrW,KAAKsF,SAASqR,SAAShO,SAAS3I,KAAKqW,WAErCrW,KAAKsF,SAASqR,SAAShO,SAASvJ,EAAE,SAClCY,KAAKsF,SAASiP,SAAS,oBAEzBvU,KAAK4W,UACD5W,KAAKoV,QAAQyB,UAAY7N,OAAO8N,SAASC,OAAhB,IAA+B/W,KAAK6Q,IAC/DzR,EAAE4J,QAAQyL,IAAI,iBAAkBzU,KAAKgX,KAAK/M,KAAKjK,UA1ExCjF,IAAA,eAAA1C,MAAA,SAkFEwY,GACX,GAAIwF,GAAWjX,EAAE,eACAmV,SAAS,kBACT5L,SAAS,OAC1B,OAAO0N,MAtFEtb,IAAA,kBAAA1C,MAAA,WA+FT,GAII8U,GAAMF,EAJNS,EAAQ1N,KAAKsF,SAAS2R,aACtBA,EAAa7X,EAAE4J,QAAQ0E,QACvBD,EAASzN,KAAKsF,SAAS4R,cACvBA,EAAc9X,EAAE4J,QAAQyE,QAG1BN,GAD2B,SAAzBnN,KAAKoV,QAAQxG,QACRuI,UAAUF,EAAavJ,GAAS,EAAG,IAEnCyJ,SAASnX,KAAKoV,QAAQxG,QAAS,IAIpC3B,EAFyB,SAAzBjN,KAAKoV,QAAQzG,QACXlB,EAASyJ,EACLC,SAASza,KAAK0a,IAAI,IAAKF,EAAc,IAAK,IAE1CC,UAAUD,EAAczJ,GAAU,EAAG,IAGvC0J,SAASnX,KAAKoV,QAAQzG,QAAS,IAEvC3O,KAAKsF,SAASuK,KAAK5C,IAAKA,EAAM,OAG1BjN,KAAKqW,UAAsC,SAAzBrW,KAAKoV,QAAQxG,UACjC5O,KAAKsF,SAASuK,KAAK1C,KAAMA,EAAO,OAChCnN,KAAKsF,SAASuK,KAAKwH,OAAQ,YAvHpBtc,IAAA,UAAA1C,MAAA,WAgID,GAAAif,GAAAtX,KACJ8F,EAAQ9F,IAEZA,MAAKsF,SAASvF,IACZwX,kBAAmBvX,KAAKgX,KAAK/M,KAAKjK,MAClCwX,mBAAoB,SAAClM,EAAOhG,GAC1B,GAAKgG,EAAMkH,SAAW1M,EAAMR,SAAS,IAChClG,EAAEkM,EAAMkH,QAAQiF,QAAQ,mBAAmB,KAAOnS,EACrD,MAAOgS,GAAKI,MAAM5Y,MAAXwY,IAGXK,oBAAqB3X,KAAK4X,OAAO3N,KAAKjK,MACtC6X,sBAAuB,WACrB/R,EAAMgS,qBAIN9X,KAAK+V,QAAQ9d,QACf+H,KAAK+V,QAAQhW,GAAG,oBAAqB,SAAShC,GAC5B,KAAZA,EAAEwN,OAA4B,KAAZxN,EAAEwN,QACtBxN,EAAEmV,kBACFnV,EAAEga,iBACFjS,EAAMkR,UAKRhX,KAAKoV,QAAQ4C,cAAgBhY,KAAKoV,QAAQgB,SAC5CpW,KAAKqW,SAASxE,IAAI,cAAc9R,GAAG,kBAAmB,SAAShC;AACzDA,EAAEyU,SAAW1M,EAAMR,SAAS,KAC9BlG,EAAE6Y,SAASnS,EAAMR,SAAS,GAAIvH,EAAEyU,SAC7BpT,EAAE6Y,SAASrQ,SAAU7J,EAAEyU,SAG5B1M,EAAM4R,UAGN1X,KAAKoV,QAAQyB,UACfzX,EAAE4J,QAAQjJ,GAAV,sBAAmCC,KAAK6Q,GAAM7Q,KAAKkY,aAAajO,KAAKjK,UAtK9DjF,IAAA,eAAA1C,MAAA,SA8KE0F,GACRiL,OAAO8N,SAASC,OAAW,IAAM/W,KAAK6Q,IAAQ7Q,KAAK2V,SAChD3V,KAAK0X,QADsD1X,KAAKgX,UA/K7Djc,IAAA,OAAA1C,MAAA,WA0LJ,GAAA8f,GAAAnY,IACL,IAAIA,KAAKoV,QAAQyB,SAAU,CACzB,GAAIE,GAAAA,IAAW/W,KAAK6Q,EAEhB7H,QAAOoP,QAAQC,UACjBrP,OAAOoP,QAAQC,UAAU,KAAM,KAAMtB,GAErC/N,OAAO8N,SAASC,KAAOA,EAwC3B,GApCA/W,KAAK2V,UAAW,EAGhB3V,KAAKsF,SACAuK,KAAMyI,WAAc,WACpBhf,OACAkE,UAAU,GACXwC,KAAKoV,QAAQgB,SACfpW,KAAKqW,SAASxG,KAAKyI,WAAc,WAAWhf,OAG9C0G,KAAK8X,kBAEL9X,KAAKsF,SACFlM,OACAyW,KAAMyI,WAAc,KAEpBtY,KAAKqW,WACNrW,KAAKqW,SAASxG,KAAKyI,WAAc,KAAKlf,OACnC4G,KAAKsF,SAASrL,SAAS,QACxB+F,KAAKqW,SAAS9B,SAAS,QACdvU,KAAKsF,SAASrL,SAAS,SAChC+F,KAAKqW,SAAS9B,SAAS,SAKtBvU,KAAKoV,QAAQmD,gBAMhBvY,KAAKsF,SAASC,QAAQ,oBAAqBvF,KAAK6Q,IAG9C7Q,KAAKoV,QAAQoD,YAAa,CAAA,GACxB1S,IADwB,WAAA,GAEnB2S,GAAT,WACE3S,EAAMR,SACH7M,MACC+d,eAAe,EACfN,cAEDwC,QAPD5S,GAAAA,EASAqS,EAAK/C,QAAQgB,SACfpZ,WAAWoW,OAAOsB,UAAUyD,EAAK9B,SAAU,WAE7CrZ,WAAWoW,OAAOsB,UAAUyD,EAAK7S,SAAU6S,EAAK/C,QAAQoD,YAAa,WACnEL,EAAKQ,kBAAoB3b,WAAWoO,SAASsB,cAAcyL,EAAK7S,UAChEmT,aAKEzY,MAAKoV,QAAQgB,SACfpW,KAAKqW,SAAS/c,KAAK,GAErB0G,KAAKsF,SAAShM,KAAK0G,KAAKoV,QAAQwD,UAIlC5Y,MAAKsF,SACF7M,MACC+d,eAAe,EACfN,cAEDwC,QAMH1Y,KAAKsF,SAASC,QAAQ,kBAElBvF,KAAK8V,UACP9V,KAAK6Y,kBAAoB7P,OAAOqF,YAChCjP,EAAE,cAAcmV,SAAS,mBAGzBnV,EAAE,QAAQmV,SAAS,kBAGrBxM,WAAW,WACToQ,EAAKW,kBACJ,MA3RM/d,IAAA,iBAAA1C,MAAA,WAmST,GAAIyN,GAAQ9F,IACZA,MAAK2Y,kBAAoB3b,WAAWoO,SAASsB,cAAc1M,KAAKsF,UAE3DtF,KAAKoV,QAAQgB,UAAWpW,KAAKoV,QAAQ4C,cAAiBhY,KAAKoV,QAAQe,YACtE/W,EAAE,QAAQW,GAAG,kBAAmB,SAAShC,GACnCA,EAAEyU,SAAW1M,EAAMR,SAAS,KAC9BlG,EAAE6Y,SAASnS,EAAMR,SAAS,GAAIvH,EAAEyU,SAC7BpT,EAAE6Y,SAASrQ,SAAU7J,EAAEyU,SAC5B1M,EAAM4R,UAIN1X,KAAKoV,QAAQ2D,YACf3Z,EAAE4J,QAAQjJ,GAAG,oBAAqB,SAAShC,GACzCf,WAAWoO,SAASW,UAAUhO,EAAG,UAC/B2Z,MAAO,WACD5R,EAAMsP,QAAQ2D,aAChBjT,EAAM4R,QACN5R,EAAMiQ,QAAQ2C,cAQxB1Y,KAAKsF,SAASvF,GAAG,oBAAqB,SAAShC,GAC7C,GAAIwU,GAAUnT,EAAEY,KAEhBhD,YAAWoO,SAASW,UAAUhO,EAAG,UAC/Bib,YAAa,WAEX,MADAlT,GAAM6S,kBAAoB3b,WAAWoO,SAASsB,cAAc5G,EAAMR,UAC9DQ,EAAMR,SAAStN,KAAK,UAAU6D,GAAGiK,EAAM6S,kBAAkBvE,SAC3DtO,EAAM6S,kBAAkBvE,GAAG,GAAGsE,SACvB,GAE8B,IAAnC5S,EAAM6S,kBAAkB1gB,QAA5B,QAIFghB,aAAc,WAEZ,MADAnT,GAAM6S,kBAAoB3b,WAAWoO,SAASsB,cAAc5G,EAAMR,UAC9DQ,EAAMR,SAAStN,KAAK,UAAU6D,GAAGiK,EAAM6S,kBAAkBvE,GAAG,KAAOtO,EAAMR,SAASzJ,GAAG,WACvFiK,EAAM6S,kBAAkBvE,OAAOsE,SACxB,GAE8B,IAAnC5S,EAAM6S,kBAAkB1gB,QAA5B,QAIF+e,KAAM,WACAlR,EAAMR,SAAStN,KAAK,UAAU6D,GAAGiK,EAAMR,SAAStN,KAAK,iBACvD+P,WAAW,WACTjC,EAAMiQ,QAAQ2C,SACb,GACMnG,EAAQ1W,GAAGiK,EAAM6S,oBAC1B7S,EAAMkR,QAGVU,MAAO,WACD5R,EAAMsP,QAAQ2D,aAChBjT,EAAM4R,QACN5R,EAAMiQ,QAAQ2C,UAGlBlM,QAAS,SAASuL,GACZA,GACFha,EAAEga,yBAtWDhd,IAAA,QAAA1C,MAAA,WA0ZT,QAAS6gB,KACHpT,EAAMgQ,UACR1W,EAAE,cAAcwJ,YAAY,kBACzB9C,EAAM+S,oBACPzZ,EAAE,QAAQ5B,UAAUsI,EAAM+S,mBAC1B/S,EAAM+S,kBAAoB,OAI5BzZ,EAAE,QAAQwJ,YAAY,kBAGxB9C,EAAMR,SAAS7M,KAAK,eAAe,GAMnCqN,EAAMR,SAASC,QAAQ,oBAzDzB,IAAKvF,KAAK2V,WAAa3V,KAAKsF,SAASzJ,GAAG,YACtC,OAAO,CAET,IAAIiK,GAAQ9F,IAGRA,MAAKoV,QAAQ+D,cACXnZ,KAAKoV,QAAQgB,QACfpZ,WAAWoW,OAAOC,WAAWrT,KAAKqW,SAAU,WAAY6C,GAGxDA,IAGFlc,WAAWoW,OAAOC,WAAWrT,KAAKsF,SAAUtF,KAAKoV,QAAQ+D,gBAIrDnZ,KAAKoV,QAAQgB,QACfpW,KAAKqW,SAASjd,KAAK,EAAG8f,GAGtBA,IAGFlZ,KAAKsF,SAASlM,KAAK4G,KAAKoV,QAAQgE,YAI9BpZ,KAAKoV,QAAQ2D,YACf3Z,EAAE4J,QAAQ6I,IAAI,sBAGX7R,KAAKoV,QAAQgB,SAAWpW,KAAKoV,QAAQ4C,cACxC5Y,EAAE,QAAQyS,IAAI,mBAGhB7R,KAAKsF,SAASuM,IAAI,qBA2Bd7R,KAAKoV,QAAQiE,cACfrZ,KAAKsF,SAASgU,KAAKtZ,KAAKsF,SAASgU,QAGnCtZ,KAAK2V,UAAW,EACX7P,EAAMsP,QAAQyB,WACZ7N,OAAOoP,QAAQmB,aACjBvQ,OAAOoP,QAAQmB,aAAa,GAAI3R,SAAS4R,MAAOxQ,OAAO8N,SAAS2C,UAEhEzQ,OAAO8N,SAASC,KAAO,OA5bnBhc,IAAA,SAAA1C,MAAA,WAscL2H,KAAK2V,SACP3V,KAAK0X,QAEL1X,KAAKgX,UAzcEjc,IAAA,UAAA1C,MAAA,WAkdL2H,KAAKoV,QAAQgB,UACfpW,KAAKsF,SAASqD,SAASvJ,EAAE,SACzBY,KAAKqW,SAASjd,OAAOyY,MAAMzO,UAE7BpD,KAAKsF,SAASlM,OAAOyY,MACrB7R,KAAK+V,QAAQlE,IAAI,OACjBzS,EAAE4J,QAAQ6I,IAAV,cAA4B7R,KAAK6Q,IAEjC7T,WAAWwI,iBAAiBxF,UA1dnB/C,IA8dbA,GAAOoY,UAMLmD,YAAa,GAMbW,aAAc,GAMdP,UAAW,EAMXQ,UAAW,EAMXpB,cAAc,EAMde,YAAY,EAMZR,gBAAgB,EAMhB5J,QAAS,OAMTC,QAAS,OAMTuH,YAAY,EAMZuD,aAAc,GAMdtD,SAAS,EAMTiD,cAAc,EAMdxC,UAAU,GAIZ7Z,WAAWgI,OAAO/H,EAAQ,WAcxBlF,QCtkBK4hB,gBAAgBrb,UAAUsb,iBAQhCD,gBAAgBrb,UAAUsb,eAAiB,WAE1C,GAAIrT,GAAQ,GACXsT,GAAQ,CAGT9hB,QAAQiI,MAAOhI,KAAM,qBAAsBoL,SAE3CrL,OAAQiI,MAAOhI,KAAM,aAAcE,KAAM,SAAUC,EAAO2U,GAGzDA,EAAQgN,kBAAmB,IAEpB/hB,OAAQ+U,GAAUlT,QAAS,MAAOK,SAAU,WACpB,OAA5BlC,OAAQ+U,GAAUtU,OAA6C,IAA3BT,OAAQ+U,GAAUtU,QAExD+N,EAAQxO,OAAQ+U,GAAUvS,KAAM,kBAEhCuS,EAAQgN,kBAAmBvT,GAC3BxO,OAAQ+U,GAAUiN,OAAQ,kCAAoCxT,EAAQ,WAEtEsT,GAAQ,IAMV,IAAIG,GAAgBjiB,OAAQiI,MAAOhI,KAAM,6BACxCiiB,EAAwC,IAAvBD,EAAcxhB,MAAgBwhB,EAAcvhB,KAAM,eAAkBuhB,EAAcxhB,MACnG8B,EAAOvC,OAAQiI,MAAOpG,QAAS,WAAYW,KAAM,SAuBlD,OArBAyf,GAAc,GAAGF,kBAAmB,IAEpC/hB,OAAQ,0BAA2BG,KAAM,SAAUC,EAAOkC,GAGzD,MAAKtC,QAAQsC,GAAMrC,KAAM,wBAAyBuC,KAAM,SAAYD,IAE/DgC,wBAAyBvE,OAAQsC,GAAMrC,KAAM,UAAWqJ,OAAOgD,SAAY/H,wBAAyB2d,EAAa5V,SAErH2V,EAAc,GAAGF,kBAAmBE,EAAczf,KAAM,mBAExDyf,EAAcD,OAAQ,kCAAoCxT,EAAQ,WAElEsT,GAAQ,GAED,GARR,UAcMA,EAOAA,GALN9hB,OAAQiI,MAAOpG,QAAS,mBAAoB4D,UAAWzF,OAAQiI,MAAOhI,KAAM,oCACrE6hB,KXwDV,SAAaza,GAGZ,GAAI8a,GAAa9a,EAAG,0BAEpB,IAAO8a,EAAWjiB,OAAlB,CAIA,GAAIkiB,GAAoB,WAGvB/a,EAAGY,MAAOhI,KAAM,8BAA+BshB,KAAMla,EAAGY,MAAOhI,KAAM,8BAA+BuC,KAAM,0BAG1G,IAAIuI,GAAW1D,EAAGY,MAAOpG,QAAS,2BACjCwgB,EAAkBhb,EAAGY,MAAOhI,KAAM,2BAEnCoH,GAAGgb,GAAkBliB,KAAM,SAAUC,EAAOkiB,GAE3C,GAAIC,GAAQlb,EAAGib,GAAiBriB,KAAM,0BAA2B0H,MAAM6a,SAEvE,OAAqB,IAAhBD,EAAMriB,YAEXmH,GAAGkb,GAAQpiB,KAAM,SAAUmC,EAAKmgB,GAE/B,MAAKngB,IAASigB,EAAMriB,OAAS,IAE7BmH,EAAGob,GAAYC,OAAOC,QAAS,IAAK,WACnCtb,EAAGY,MAAOoD,eAGXhE,GAAG0D,GAAWyC,QAAS,+BAAgCnG,EAAGob,UAM5D7hB,+BAAgCqH,MAChCnG,sCAAuCmG,MACvCzG,qCAAsCyG,MAEtCZ,EAAGY,MAAOya,OAAOE,WAEjB,IAAI7X,GAAW1D,EAAGY,MAAOpG,QAAS,0BAElCwF,GAAG0D,GAAWyC,QAAS,wBAAyBnG,EAAGY,SAIhD4a,EAA+B,WAElCjiB,+BAAgCqH,MAChCnG,sCAAuCmG,MAEvCZ,EAAGY,MAAOya,OAAOE,WAEjB,IAAI7X,GAAW1D,EAAGY,MAAOpG,QAAS,2CAElCwF,GAAG0D,GAAWyC,QAAS,yBAA0BnG,EAAGY,SAIjD6a,EAAoB,WAGvB,GAAKzb,EAAGY,MAAOpG,QAAS,qBAAsBK,SAAU,2BAMvD,WAJAmF,GAAGY,MAAO0a,QAAS,IAAK,WACvBtb,EAAGY,MAAOoD,UAMZ,IAAIN,GAAW1D,EAAGY,MAAOpG,QAAS,2BACjCkhB,EAAkBC,QAASthB,UAAUM,KAAK+gB,gBAE3C,IAAKA,EAAkB,CAEtB,GAAIxd,GAAO8B,EAAGY,MACb1F,EAAOgD,EAAKtF,KAAM,wBAAyBuC,KAAM,QACjDC,EAAS4E,EAAG,iBAAmB9E,EAAO,MACtCgB,EAAgBD,qBAAsBf,EAEvC8E,GAAE4b,MACDxhB,KAAS,OACT8H,IAAQ7H,UAAUuhB,KAClBzgB,MACC0gB,OAAW,iCACX9iB,MAAUmD,EACV4f,QAAY5d,EAAK/C,KAAM,UAExB4gB,QAAU,SAAUC,GAGnB5gB,EAAOkB,SAAS0H,SAGhB9F,EAAKmd,OACL1S,WAAY,WAEXzK,EAAK+d,OAAQ,aAAeC,MAAQ,WAAa,KAAMC,UAAUb,QAAS,IAAK,WAC9Epd,EAAK8F,SACLhJ,mCAKFgF,EAAG0D,GAAWyC,QAAS,2BAA4BjI,KAGpDiJ,MAAQ,SAAUiV,EAASC,EAAQlV,SASlCmV,EAA+B,WAElCtc,EAAGY,MAAO0a,QAAS,IAAK,WACvBtb,EAAGY,MAAOoD,WAKZ8W,GAAWhiB,KAAM,WAEhB,GAAIyjB,GAAYvc,EAAGY,MAClB4b,EAASD,EAAU3jB,KAAM,wBAG1B2jB,GAAU7Y,UAETG,YACCK,SAAU,2BACVhK,KAAM6gB,EACN/gB,KAAMyhB,EACNrX,MAAO,SAAWqY,GACjBF,EAAU3jB,KAAM,0BAA2B+H,GAAI,aAAc8b,IAE9D5Y,YACCK,SAAU,oCACVhK,KAAMshB,EACNxhB,KAAMsiB,EACNlY,MAAO,SAAUqY,GAChBF,EAAU3jB,KAAM,0BAA2B+H,GAAI,aAAc8b,QAIhEviB,KAAM6gB,EACN/gB,KAAMyhB,EACNrX,MAAO,SAAWqY,OAMdD,EAAO3jB,QACX2jB,EAAOxY,SAGRuY,EAAU3jB,KAAM,0BAA2B8jB,UAC1CC,KAAM,IACNC,OAAQ,8BACRC,sBAAsB,EACtBC,OAAQ,SAAW5Q,EAAO6Q,GAGzB,GAAO/c,EAAGkM,EAAM8Q,eAAgBniB,SAAU,2BAmCzCrC,mCAAoCwH,EAAGkM,EAAM8Q,eAAgBxiB,QAAS,8BACtEjB,+BAAgCyG,EAAGkM,EAAM8Q,eAAgBxiB,QAAS,8BAClEC,sCAAuCuF,EAAGkM,EAAM8Q,eAAgBxiB,QAAS,8BACzEL,qCAAsC6F,EAAGkM,EAAM8Q,eAAgBxiB,QAAS,kCAtCD,CAEvEQ,8BAGA,IAAIG,KACJ6E,GAAG,kDAAmDlH,KAAM,SAAUC,EAAOkC,GAG5E,IAAO+E,EAAG/E,GAAME,KAAM,SAAY,OAAO,CAEzC,IAAID,GAAO8E,EAAG/E,GAAMrC,KAAM,wBAAyBuC,KAAM,QACxDC,EAAS4E,EAAG,iBAAmB9E,EAAO,KAEvCC,GAAK6B,KAAMb,oBAAqBf,EAAO,OAIxC4E,EAAE4b,MACDxhB,KAAS,OACT8H,IAAQ7H,UAAUuhB,KAClBzgB,MACC0gB,OAAW,4BACXoB,UAAc9hB,GAEf4gB,QAAU,SAAUC,KAGpB7U,MAAQ,SAAUiV,EAASC,EAAQlV,WAiBvCnH,EAAGwI,UAAW7H,GAAI,mBAAoB,mCAAoC,WAEzE,GAAIyZ,GAAQpa,EAAGY,MAAOhI,KAAM,sCAC3BsC,EAAO8E,EAAGY,MAAOpG,QAAS,oCAAqCW,KAAM,UACrE+C,EAAO8B,EAAG,eAAiB9E,EAAO,KAEnC,IAA0B,KAArB8E,EAAGoa,GAAQhhB,MACf8E,EAAK1D,QAAS,0BAA2B5B,KAAM,8BAA+BshB,KAAMla,EAAGoa,GAAQhhB,WAE3F,CACJ,GAAI8jB,GAAehf,EAAK1D,QAAS,0BAA2B5B,KAAM,8BAA+BuC,KAAM,yBACvG+C,GAAK1D,QAAS,0BAA2B5B,KAAM,8BAA+BshB,KAAMgD,MAKtFld,EAAGwI,UAAWpE,MAAO,WAEpBpE,EAAGwI,UAAW7H,GAAI,SAAU,mBAAoB,SAAUuL,GACzD/R,qCAAsC6F,EAAGkM,EAAM8Q,eAAgBxiB,QAAS,sCAOvE7B,QCjOL,SAAYqH,GAUX,GAAImd,GAAgC,SAAUjR,GAE7C,GAAIzT,GAAQyT,EAAM8Q,cACjBI,EAAQpd,EAAGvH,GAAQG,KAAM,OAEnBoH,GAAGvH,GAAQoC,SAAU,cAI3BuiB,EAAQpd,EAAGvH,GAAQG,KAAM,0BAA2BqI,KAAM,0CAA2C3E,SAErG0D,EAAGvH,GAAQ0c,SAAU,YAIrBiI,EAAMC,OAAQ,SAAUnR,GAEvBA,EAAMyM,gBAEN,IAAIiC,GAAgBwC,EAAMxkB,KAAM,6BAC/BiiB,EAAwC,IAAvBD,EAAcxhB,MAAgBwhB,EAAcvhB,KAAM,eAAkBuhB,EAAcxhB,MACnG8B,EAAO8E,EAAGvH,GAAQ0C,KAAM,SAqBzB,IAnBAyf,EAAc,GAAGF,kBAAmB,IAEpC1a,EAAG,0BAA2BlH,KAAM,SAAUC,EAAOkC,GAGpD,MAAK+E,GAAG/E,GAAMrC,KAAM,wBAAyBuC,KAAM,SAAYD,IAE1DgC,wBAAyB8C,EAAG/E,GAAMrC,KAAM,UAAWqJ,OAAOgD,SAAY/H,wBAAyB2d,EAAa5V,SAEhH2V,EAAc,GAAGF,kBAAmBE,EAAczf,KAAM,oBAEjD,GAJR,UAUDiiB,EAAM,GAAG5C,iBAEJ4C,EAAM,GAAGE,gBAAkB,CAE/B,GAAIniB,GAAOgB,oBAAqB1D,GAC/ByC,EAAO8E,EAAGvH,GAAQ0C,KAAM,UACxB+C,EAAO8B,EAAG,eAAiB9E,EAAO,MAAOV,QAAS,yBAEnDW,GAAK0gB,OAAS,6BACd1gB,EAAK2gB,QAAU5d,EAAK/C,KAAM,SAE1B6E,EAAE4b,MACDxhB,KAAS,OACT8H,IAAQ7H,UAAUuhB,KAClBzgB,KAASA,EACT4gB,QAAU,SAAUC,GAEnB3d,WAAYnD,GAGZgD,EAAK7E,KAAM,cAAc,GAGzB6E,EAAK+d,OAAQ,aAAeC,MAAQ,WAAa,MAGlD/U,MAAQ,SAAUiV,EAASC,EAAQlV,WAYxCnH,GAAGwI,UAAWpE,MAAO,WAGpBpE,EAAGwI,UAAW7H,GAAI,iBAAkB,mCAAoC,SAAUuL,GACjFiR,EAA+BjR,QAK7BvT,QC9IL,SAAYqH,GAGXA,EAAGwI,UAAWpE,MAAO,WAEpBhH,aAGA4C,EAAG,mFAAoFlH,KAAM,SAAUC,EAAOkC,GAC7G+E,EAAG/E,GAAM5B,KAAM,cAAc,IAI9B,IAAIyhB,GAAa9a,EAAG,0BAEf8a,GAAWjiB,SACfiiB,EAAWna,GAAI,uBAAwBvD,YACvC0d,EAAWna,GAAI,uBAAwB7C,cAKzCkC,EAAGwI,UAAW7H,GAAI,gBAAiB,qDAAsD,WAExF7C,UAAWkC,EAAGY,MAAOzF,KAAM,WAI5B6E,EAAGwI,UAAW7H,GAAI,iBAAkB,mCAAoC,WAEvEnI,mCAAoCoI,MACpCrH,+BAAgCqH,MAChCnG,sCAAuCmG,MACvCzG,qCAAsCyG,MAEtCZ,EAAGY,MAAOhI,KAAM,6BAA8BS,KAAM,sBAAuBgB,UAAUM,KAAK4iB,uBAIvF5kB,QUnIL,SAAYqH,GAEXA,EAAGwI,UAAW7H,GAAI,QAAS,WAErBX,EAAG,2DAA4DnH,OAAS,GAE5EmH,EAAGwI,UAAW7H,GAAI,SAAU,0DAA2D,WAEtFX,EAAG,6CAA8CmV,SAAU,UAE3DnV,EAAG,oCAAsCA,EAAGY,MAAOxH,OAAQoQ,YAAa,eAQvE7Q,QClBL,SAAYqH,GAEX,GAAIwd,GAAuB,WAA8B,GAApBC,GAAoB1f,UAAAlF,OAAA,GAAAmF,SAAAD,UAAA,GAAAA,UAAA,GAAX,EAAGqf,EAAQrf,UAAA,EAExDiC,GAAE4b,MACDxhB,KAAS,OACT8H,IAAQwb,QACRviB,MACC0gB,OAAW,8BACX8B,QAAYF,GAEb1B,QAAU,SAAUC,GAEnB,GAAI4B,GAAUR,EAAMxkB,KAAM,4BACzBilB,EAAWD,EAAQziB,KAAM,YACzB2iB,EAAUV,EAAMxkB,KAAM,4BACtBmlB,EAAUX,EAAMxkB,KAAM,4BAEvBglB,GAAQI,OAER,KAAM,GAAI/kB,KAAS+iB,GAAS7gB,KAE3ByiB,EAAQtZ,OAAQ,kBAAoBrL,EAAQ,KAAUA,GAAS4kB,EAAa,YAAc,IAAO,IAAM7B,EAAS7gB,KAAKlC,GAAS,YAI/H,IAAIglB,GAASH,EAAQllB,KAAM,mBAC1BslB,EAAYD,EAAOhc,MAEC,MAAhBgc,EAAO7kB,QACX8kB,EAAYH,EAAQ5iB,KAAM,YAG3B4iB,EAAQ1kB,KAAM,cAAe6kB,EAAY,OAG1C/W,MAAQ,SAAUiV,EAASC,EAAQlV,OAOrCnH,GAAGwI,UAAW7H,GAAI,QAAS,WAErBX,EAAG,2BAA4BnH,OAAS,IAG5CmH,EAAGwI,UAAW7H,GAAI,SAAU,uDAAwD,WAEnF,GAAwB,cAAnBX,EAAGY,MAAOxH,MAAwB,CAEtC,GAAIgkB,GAAQpd,EAAGY,MAAOpG,QAAS,2BAC9BijB,EAASL,EAAMxkB,KAAM,8BAA+BQ,KAErDokB,GAAsBC,EAAQL,GAE9BA,EAAMxkB,KAAM,kCAAmC4Q,YAAa,cAI5DxJ,GAAGY,MAAOpG,QAAS,2BAA4B5B,KAAM,kCAAmCuc,SAAU,YAMpGnV,EAAGwI,UAAW7H,GAAI,SAAU,qDAAsD,WAEjF,GAAIyc,GAAQpd,EAAGY,MAAOpG,QAAS,2BAC9BijB,EAASzd,EAAGY,MAAOxH,MACnB+kB,EAAkBf,EAAMxkB,KAAM,wCAAyCQ,KAGhD,eAAnB+kB,GAEJX,EAAsBC,EAAQL,KAOhCpd,EAAGwI,UAAW7H,GAAI,SAAU,mDAAoD,WAE/E,GAAIyc,GAAQpd,EAAGY,MAAOpG,QAAS,2BAC9ByjB,EAASje,EAAGY,MAAOhI,KAAM,mBACzBslB,EAAYD,EAAOhc,OACnB8b,EAAUX,EAAMxkB,KAAM,4BAEvBoH,GAAGY,MAAOvH,KAAM,gBAAiB2G,EAAGY,MAAOxH,OAEtB,KAAhB6kB,EAAO7kB,QACX8kB,EAAYH,EAAQ5iB,KAAM,YAG3B4iB,EAAQ1kB,KAAM,cAAe6kB,EAAY,QAK1Cle,EAAGwI,UAAW7H,GAAI,gBAAiB,cAAe,WAGjD,GAAKX,EAAGY,MAAOpG,QAAS,WAAYnB,KAAM,MAAOkB,QAAS,mBACd,UAAzCyF,EAAGY,MAAOzF,KAAM,qBADnB,CAKA,GAAIiiB,GAAQpd,EAAGY,MAAO7F,SAAU,kBAAmBnC,KAAM,2BACxD6kB,EAASL,EAAMxkB,KAAM,8BAA+BQ,KAErDgkB,GAAMxkB,KAAM,8BAA+BkC,QAC1CsjB,wBAAwB,IAGzBZ,EAAsBC,EAAQL,GAG9Bpd,EAAGY,MAAOvH,KAAM,yBAA0B,iBAQzCV","file":"admin.js","sourcesContent":["\"use strict\";\n\n// jquery.repeater version 1.1.3\n// https://github.com/DubFriend/jquery.repeater\n// (MIT) 06-12-2015\n// Brian Detering <BDeterin@gmail.com> (http://www.briandetering.net/)\n!function (a) {\n  \"use strict\";\n  var b = function b(a) {\n    return a;\n  },\n      c = function c(b) {\n    return a.isArray(b);\n  },\n      d = function d(a) {\n    return !c(a) && a instanceof Object;\n  },\n      e = function e(b, c) {\n    return a.inArray(c, b);\n  },\n      f = function f(a, b) {\n    return -1 !== e(a, b);\n  },\n      g = function g(a, b) {\n    for (var c in a) {\n      a.hasOwnProperty(c) && b(a[c], c, a);\n    }\n  },\n      h = function h(a) {\n    return a[a.length - 1];\n  },\n      i = function i(a) {\n    return Array.prototype.slice.call(a);\n  },\n      j = function j() {\n    var a = {};return g(i(arguments), function (b) {\n      g(b, function (b, c) {\n        a[c] = b;\n      });\n    }), a;\n  },\n      k = function k(a, b) {\n    var c = [];return g(a, function (a, d, e) {\n      c.push(b(a, d, e));\n    }), c;\n  },\n      l = function l(a, b, c) {\n    var d = {};return g(a, function (a, e, f) {\n      e = c ? c(e, a) : e, d[e] = b(a, e, f);\n    }), d;\n  },\n      m = function m(a, b, d) {\n    return c(a) ? k(a, b) : l(a, b, d);\n  },\n      n = function n(a, b) {\n    return m(a, function (a) {\n      return a[b];\n    });\n  },\n      o = function o(a, b, c) {\n    return m(a, function (a, d) {\n      return a[b].apply(a, c || []);\n    });\n  },\n      p = function p(a) {\n    a = a || {};var b = {};return a.publish = function (a, c) {\n      g(b[a], function (a) {\n        a(c);\n      });\n    }, a.subscribe = function (a, c) {\n      b[a] = b[a] || [], b[a].push(c);\n    }, a.unsubscribe = function (a) {\n      g(b, function (b) {\n        var c = e(b, a);-1 !== c && b.splice(c, 1);\n      });\n    }, a;\n  };!function (a) {\n    var b = function b(a, _b) {\n      var c = p(),\n          d = a.$;return c.getType = function () {\n        throw 'implement me (return type. \"text\", \"radio\", etc.)';\n      }, c.$ = function (a) {\n        return a ? d.find(a) : d;\n      }, c.disable = function () {\n        c.$().prop(\"disabled\", !0), c.publish(\"isEnabled\", !1);\n      }, c.enable = function () {\n        c.$().prop(\"disabled\", !1), c.publish(\"isEnabled\", !0);\n      }, _b.equalTo = function (a, b) {\n        return a === b;\n      }, _b.publishChange = function () {\n        var a;return function (d, e) {\n          var f = c.get();_b.equalTo(f, a) || c.publish(\"change\", { e: d, domElement: e }), a = f;\n        };\n      }(), c;\n    },\n        i = function i(a, c) {\n      var d = b(a, c);return d.get = function () {\n        return d.$().val();\n      }, d.set = function (a) {\n        d.$().val(a);\n      }, d.clear = function () {\n        d.set(\"\");\n      }, c.buildSetter = function (a) {\n        return function (b) {\n          a.call(d, b);\n        };\n      }, d;\n    },\n        j = function j(a, b) {\n      a = c(a) ? a : [a], b = c(b) ? b : [b];var d = !0;return a.length !== b.length ? d = !1 : g(a, function (a) {\n        f(b, a) || (d = !1);\n      }), d;\n    },\n        k = function k(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"button\";\n      }, c.$().on(\"change\", function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        l = function l(b) {\n      var d = {},\n          e = i(b, d);return e.getType = function () {\n        return \"checkbox\";\n      }, e.get = function () {\n        var b = [];return e.$().filter(\":checked\").each(function () {\n          b.push(a(this).val());\n        }), b;\n      }, e.set = function (b) {\n        b = c(b) ? b : [b], e.$().each(function () {\n          a(this).prop(\"checked\", !1);\n        }), g(b, function (a) {\n          e.$().filter('[value=\"' + a + '\"]').prop(\"checked\", !0);\n        });\n      }, d.equalTo = j, e.$().change(function (a) {\n        d.publishChange(a, this);\n      }), e;\n    },\n        m = function m(a) {\n      var b = {},\n          c = x(a, b);return c.getType = function () {\n        return \"email\";\n      }, c;\n    },\n        n = function n(c) {\n      var d = {},\n          e = b(c, d);return e.getType = function () {\n        return \"file\";\n      }, e.get = function () {\n        return h(e.$().val().split(\"\\\\\"));\n      }, e.clear = function () {\n        this.$().each(function () {\n          a(this).wrap(\"<form>\").closest(\"form\").get(0).reset(), a(this).unwrap();\n        });\n      }, e.$().change(function (a) {\n        d.publishChange(a, this);\n      }), e;\n    },\n        q = function q(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"hidden\";\n      }, c.$().change(function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        r = function r(c) {\n      var d = {},\n          e = b(c, d);return e.getType = function () {\n        return \"file[multiple]\";\n      }, e.get = function () {\n        var a,\n            b = e.$().get(0).files || [],\n            c = [];for (a = 0; a < (b.length || 0); a += 1) {\n          c.push(b[a].name);\n        }return c;\n      }, e.clear = function () {\n        this.$().each(function () {\n          a(this).wrap(\"<form>\").closest(\"form\").get(0).reset(), a(this).unwrap();\n        });\n      }, e.$().change(function (a) {\n        d.publishChange(a, this);\n      }), e;\n    },\n        s = function s(a) {\n      var b = {},\n          d = i(a, b);return d.getType = function () {\n        return \"select[multiple]\";\n      }, d.get = function () {\n        return d.$().val() || [];\n      }, d.set = function (a) {\n        d.$().val(\"\" === a ? [] : c(a) ? a : [a]);\n      }, b.equalTo = j, d.$().change(function (a) {\n        b.publishChange(a, this);\n      }), d;\n    },\n        t = function t(a) {\n      var b = {},\n          c = x(a, b);return c.getType = function () {\n        return \"password\";\n      }, c;\n    },\n        u = function u(b) {\n      var c = {},\n          d = i(b, c);return d.getType = function () {\n        return \"radio\";\n      }, d.get = function () {\n        return d.$().filter(\":checked\").val() || null;\n      }, d.set = function (b) {\n        b ? d.$().filter('[value=\"' + b + '\"]').prop(\"checked\", !0) : d.$().each(function () {\n          a(this).prop(\"checked\", !1);\n        });\n      }, d.$().change(function (a) {\n        c.publishChange(a, this);\n      }), d;\n    },\n        v = function v(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"range\";\n      }, c.$().change(function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        w = function w(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"select\";\n      }, c.$().change(function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        x = function x(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"text\";\n      }, c.$().on(\"change keyup keydown\", function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        y = function y(a) {\n      var b = {},\n          c = i(a, b);return c.getType = function () {\n        return \"textarea\";\n      }, c.$().on(\"change keyup keydown\", function (a) {\n        b.publishChange(a, this);\n      }), c;\n    },\n        z = function z(a) {\n      var b = {},\n          c = x(a, b);return c.getType = function () {\n        return \"url\";\n      }, c;\n    },\n        A = function A(b) {\n      var c = {},\n          f = b.$,\n          h = b.constructorOverride || { button: k, text: x, url: z, email: m, password: t, range: v, textarea: y, select: w, \"select[multiple]\": s, radio: u, checkbox: l, file: n, \"file[multiple]\": r, hidden: q },\n          i = function i(b, e) {\n        var g = d(e) ? e : f.find(e);g.each(function () {\n          var d = a(this).attr(\"name\");c[d] = h[b]({ $: a(this) });\n        });\n      },\n          j = function j(b, i) {\n        var j = [],\n            k = d(i) ? i : f.find(i);d(i) ? c[k.attr(\"name\")] = h[b]({ $: k }) : (k.each(function () {\n          -1 === e(j, a(this).attr(\"name\")) && j.push(a(this).attr(\"name\"));\n        }), g(j, function (a) {\n          c[a] = h[b]({ $: f.find('input[name=\"' + a + '\"]') });\n        }));\n      };return f.is(\"input, select, textarea\") ? f.is('input[type=\"button\"], button, input[type=\"submit\"]') ? i(\"button\", f) : f.is(\"textarea\") ? i(\"textarea\", f) : f.is('input[type=\"text\"]') || f.is(\"input\") && !f.attr(\"type\") ? i(\"text\", f) : f.is('input[type=\"password\"]') ? i(\"password\", f) : f.is('input[type=\"email\"]') ? i(\"email\", f) : f.is('input[type=\"url\"]') ? i(\"url\", f) : f.is('input[type=\"range\"]') ? i(\"range\", f) : f.is(\"select\") ? f.is(\"[multiple]\") ? i(\"select[multiple]\", f) : i(\"select\", f) : f.is('input[type=\"file\"]') ? f.is(\"[multiple]\") ? i(\"file[multiple]\", f) : i(\"file\", f) : f.is('input[type=\"hidden\"]') ? i(\"hidden\", f) : f.is('input[type=\"radio\"]') ? j(\"radio\", f) : f.is('input[type=\"checkbox\"]') ? j(\"checkbox\", f) : i(\"text\", f) : (i(\"button\", 'input[type=\"button\"], button, input[type=\"submit\"]'), i(\"text\", 'input[type=\"text\"]'), i(\"password\", 'input[type=\"password\"]'), i(\"email\", 'input[type=\"email\"]'), i(\"url\", 'input[type=\"url\"]'), i(\"range\", 'input[type=\"range\"]'), i(\"textarea\", \"textarea\"), i(\"select\", \"select:not([multiple])\"), i(\"select[multiple]\", \"select[multiple]\"), i(\"file\", 'input[type=\"file\"]:not([multiple])'), i(\"file[multiple]\", 'input[type=\"file\"][multiple]'), i(\"hidden\", 'input[type=\"hidden\"]'), j(\"radio\", 'input[type=\"radio\"]'), j(\"checkbox\", 'input[type=\"checkbox\"]')), c;\n    };a.fn.inputVal = function (b) {\n      var c = a(this),\n          d = A({ $: c });return c.is(\"input, textarea, select\") ? \"undefined\" == typeof b ? d[c.attr(\"name\")].get() : (d[c.attr(\"name\")].set(b), c) : \"undefined\" == typeof b ? o(d, \"get\") : (g(b, function (a, b) {\n        d[b].set(a);\n      }), c);\n    }, a.fn.inputOnChange = function (b) {\n      var c = a(this),\n          d = A({ $: c });return g(d, function (a) {\n        a.subscribe(\"change\", function (a) {\n          b.call(a.domElement, a.e);\n        });\n      }), c;\n    }, a.fn.inputDisable = function () {\n      var b = a(this);return o(A({ $: b }), \"disable\"), b;\n    }, a.fn.inputEnable = function () {\n      var b = a(this);return o(A({ $: b }), \"enable\"), b;\n    }, a.fn.inputClear = function () {\n      var b = a(this);return o(A({ $: b }), \"clear\"), b;\n    };\n  }(jQuery), a.fn.repeaterVal = function () {\n    var b = function b(a) {\n      var b = [];return g(a, function (a, c) {\n        var d = [];\"undefined\" !== c && (d.push(c.match(/^[^\\[]*/)[0]), d = d.concat(m(c.match(/\\[[^\\]]*\\]/g), function (a) {\n          return a.replace(/[\\[\\]]/g, \"\");\n        })), b.push({ val: a, key: d }));\n      }), b;\n    },\n        c = function c(a) {\n      if (1 === a.length && (0 === a[0].key.length || 1 === a[0].key.length && !a[0].key[0])) return a[0].val;g(a, function (a) {\n        a.head = a.key.shift();\n      });var b,\n          d = function () {\n        var b = {};return g(a, function (a) {\n          b[a.head] || (b[a.head] = []), b[a.head].push(a);\n        }), b;\n      }();return (/^[0-9]+$/.test(a[0].head) ? (b = [], g(d, function (a) {\n          b.push(c(a));\n        })) : (b = {}, g(d, function (a, d) {\n          b[d] = c(a);\n        })), b\n      );\n    };return c(b(a(this).inputVal()));\n  }, a.fn.repeater = function (c) {\n    return c = c || {}, a(this).each(function () {\n      var d = a(this),\n          e = c.show || function () {\n        a(this).show();\n      },\n          f = c.hide || function (a) {\n        a();\n      },\n          i = d.find(\"[data-repeater-list]\").first(),\n          k = function k(b, c) {\n        return b.filter(function () {\n          return c ? 0 === a(this).closest(n(c, \"selector\").join(\",\")).length : !0;\n        });\n      },\n          l = function l() {\n        return k(i.find(\"[data-repeater-item]\"), c.repeaters);\n      },\n          o = i.find(\"[data-repeater-item]\").first().clone().hide(),\n          p = a(this).find(\"[data-repeater-item]\").first().find(\"[data-repeater-delete]\");c.isFirstItemUndeletable && p && p.remove();var q = function q() {\n        var a = i.data(\"repeater-list\");return c.$parent ? c.$parent.data(\"item-name\") + \"[\" + a + \"]\" : a;\n      },\n          r = function r(b) {\n        c.repeaters && b.each(function () {\n          var b = a(this);g(c.repeaters, function (a) {\n            b.find(a.selector).repeater(j(a, { $parent: b }));\n          });\n        });\n      },\n          s = function s(a, b, c) {\n        a && g(a, function (a) {\n          c.call(b.find(a.selector)[0], a);\n        });\n      },\n          t = function t(b, c, d) {\n        b.each(function (b) {\n          var e = a(this);e.data(\"item-name\", c + \"[\" + b + \"]\"), k(e.find(\"[name]\"), d).each(function () {\n            var f = a(this),\n                g = f.attr(\"name\").match(/\\[[^\\]]+\\]/g),\n                i = g ? h(g).replace(/\\[|\\]/g, \"\") : f.attr(\"name\"),\n                j = c + \"[\" + b + \"][\" + i + \"]\" + (f.is(\":checkbox\") || f.attr(\"multiple\") ? \"[]\" : \"\");f.attr(\"name\", j), s(d, e, function (d) {\n              var e = a(this);t(k(e.find(\"[data-repeater-item]\"), d.repeaters || []), c + \"[\" + b + \"][\" + e.find(\"[data-repeater-list]\").first().data(\"repeater-list\") + \"]\", d.repeaters);\n            });\n          });\n        }), i.find(\"input[name][checked]\").removeAttr(\"checked\").prop(\"checked\", !0);\n      };t(l(), q(), c.repeaters), r(l()), c.ready && c.ready(function () {\n        t(l(), q(), c.repeaters);\n      });var u = function () {\n        var d = function d(c, e, f) {\n          if (e) {\n            var g = {};k(c.find(\"[name]\"), f).each(function () {\n              var b = a(this).attr(\"name\").match(/\\[([^\\]]*)(\\]|\\]\\[\\])$/)[1];g[b] = a(this).attr(\"name\");\n            }), c.inputVal(m(e, b, function (a) {\n              return g[a];\n            }));\n          }s(f, c, function (b) {\n            var c = a(this);k(c.find(\"[data-repeater-item]\"), b.repeaters).each(function () {\n              d(a(this), b.defaultValues, b.repeaters || []);\n            });\n          });\n        };return function (b) {\n          i.append(b), t(l(), q(), c.repeaters), b.find(\"[name]\").each(function () {\n            a(this).inputClear();\n          }), d(b, c.defaultValues, c.repeaters);\n        };\n      }(),\n          v = function v() {\n        var a = o.clone();u(a), c.repeaters && r(a), e.call(a.get(0));\n      };d.children().each(function () {\n        a(this).is(\"[data-repeater-list]\") || 0 !== a(this).find(\"[data-repeater-list]\").length || (a(this).is(\"[data-repeater-create]\") ? a(this).click(v) : 0 !== a(this).find(\"[data-repeater-create]\").length && a(this).find(\"[data-repeater-create]\").click(v));\n      }), i.on(\"click\", \"[data-repeater-delete]\", function () {\n        var b = a(this).closest(\"[data-repeater-item]\").get(0);f.call(b, function () {\n          a(b).remove(), t(l(), q(), c.repeaters);\n        });\n      });\n    }), this;\n  };\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.2.4';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function rtl() {\n      return $('html').attr('dir') === 'rtl';\n    },\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function plugin(_plugin, name) {\n      // Object key to use when adding to global Foundation object\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\n      var className = name || functionName(_plugin);\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n      // Examples: data-reveal, data-off-canvas\n      var attrName = hyphenate(className);\n\n      // Add to the Foundation object and the plugins list (for reflowing)\n      this._plugins[attrName] = this[className] = _plugin;\n    },\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function registerPlugin(plugin, name) {\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n      plugin.uuid = this.GetYoDigits(6, pluginName);\n\n      if (!plugin.$element.attr('data-' + pluginName)) {\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\n      }\n      if (!plugin.$element.data('zfPlugin')) {\n        plugin.$element.data('zfPlugin', plugin);\n      }\n      /**\n       * Fires when the plugin has initialized.\n       * @event Plugin#init\n       */\n      plugin.$element.trigger('init.zf.' + pluginName);\n\n      this._uuids.push(plugin.uuid);\n\n      return;\n    },\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function unregisterPlugin(plugin) {\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger('destroyed.zf.' + pluginName);\n      for (var prop in plugin) {\n        plugin[prop] = null; //clean up script to prep for garbage collection.\n      }\n      return;\n    },\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function reInit(plugins) {\n      var isJQ = plugins instanceof $;\n      try {\n        if (isJQ) {\n          plugins.each(function () {\n            $(this).data('zfPlugin')._init();\n          });\n        } else {\n          var type = typeof plugins === 'undefined' ? 'undefined' : _typeof(plugins),\n              _this = this,\n              fns = {\n            'object': function object(plgs) {\n              plgs.forEach(function (p) {\n                p = hyphenate(p);\n                $('[data-' + p + ']').foundation('_init');\n              });\n            },\n            'string': function string() {\n              plugins = hyphenate(plugins);\n              $('[data-' + plugins + ']').foundation('_init');\n            },\n            'undefined': function undefined() {\n              this['object'](Object.keys(_this._plugins));\n            }\n          };\n          fns[type](plugins);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        return plugins;\n      }\n    },\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function GetYoDigits(length, namespace) {\n      length = length || 6;\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n    },\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function reflow(elem, plugins) {\n\n      // If plugins is undefined, just grab everything\n      if (typeof plugins === 'undefined') {\n        plugins = Object.keys(this._plugins);\n      }\n      // If plugins is a string, convert it to an array with one item\n      else if (typeof plugins === 'string') {\n          plugins = [plugins];\n        }\n\n      var _this = this;\n\n      // Iterate through each plugin\n      $.each(plugins, function (i, name) {\n        // Get the current plugin\n        var plugin = _this._plugins[name];\n\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n        // For each plugin found, initialize it\n        $elem.each(function () {\n          var $el = $(this),\n              opts = {};\n          // Don't double-dip on plugins\n          if ($el.data('zfPlugin')) {\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n            return;\n          }\n\n          if ($el.attr('data-options')) {\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n              var opt = e.split(':').map(function (el) {\n                return el.trim();\n              });\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n            });\n          }\n          try {\n            $el.data('zfPlugin', new plugin($(this), opts));\n          } catch (er) {\n            console.error(er);\n          } finally {\n            return;\n          }\n        });\n      });\n    },\n    getFnName: functionName,\n    transitionend: function transitionend($elem) {\n      var transitions = {\n        'transition': 'transitionend',\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'otransitionend'\n      };\n      var elem = document.createElement('div'),\n          end;\n\n      for (var t in transitions) {\n        if (typeof elem.style[t] !== 'undefined') {\n          end = transitions[t];\n        }\n      }\n      if (end) {\n        return end;\n      } else {\n        end = setTimeout(function () {\n          $elem.triggerHandler('transitionend', [$elem]);\n        }, 1);\n        return 'transitionend';\n      }\n    }\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function throttle(func, delay) {\n      var timer = null;\n\n      return function () {\n        var context = this,\n            args = arguments;\n\n        if (timer === null) {\n          timer = setTimeout(function () {\n            func.apply(context, args);\n            timer = null;\n          }, delay);\n        }\n      };\n    }\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function foundation(method) {\n    var type = typeof method === 'undefined' ? 'undefined' : _typeof(method),\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function now() {\n          return Date.now() - this.start;\n        }\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function fNOP() {},\n          fBound = function fBound() {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if (/true/.test(str)) return true;else if (/false/.test(str)) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function parseKey(event) {\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n      if (event.shiftKey) key = 'SHIFT_' + key;\n      if (event.ctrlKey) key = 'CTRL_' + key;\n      if (event.altKey) key = 'ALT_' + key;\n      return key;\n    },\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function handleKey(event, component, functions) {\n      var commandList = commands[component],\n          keyCode = this.parseKey(event),\n          cmds,\n          command,\n          fn;\n\n      if (!commandList) return console.warn('Component not defined!');\n\n      if (typeof commandList.ltr === 'undefined') {\n        // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n      } else {\n        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n      }\n      command = cmds[keyCode];\n\n      fn = functions[command];\n      if (fn && typeof fn === 'function') {\n        // execute function  if exists\n        var returnValue = fn.apply();\n        if (functions.handled || typeof functions.handled === 'function') {\n          // execute function when event was handled\n          functions.handled(returnValue);\n        }\n      } else {\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\n          // execute function when event was not handled\n          functions.unhandled();\n        }\n      }\n    },\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function findFocusable($element) {\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n          return false;\n        } //only have visible elements and those that have a tabindex greater or equal 0\n        return true;\n      });\n    },\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function register(componentName, cmds) {\n      commands[componentName] = cmds;\n    }\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in kcs) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  Foundation.Box = {\n    ImNotTouchingYou: ImNotTouchingYou,\n    GetDimensions: GetDimensions,\n    GetOffsets: GetOffsets\n  };\n\n  /**\n   * Compares the dimensions of an element to a container and determines collision events with container.\n   * @function\n   * @param {jQuery} element - jQuery object to test for collisions.\n   * @param {jQuery} parent - jQuery object to use as bounding container.\n   * @param {Boolean} lrOnly - set to true to check left and right values only.\n   * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n   * @default if no parent object passed, detects collisions with `window`.\n   * @returns {Boolean} - true if collision free, false if a collision in any direction.\n   */\n  function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n    var eleDims = GetDimensions(element),\n        top,\n        bottom,\n        left,\n        right;\n\n    if (parent) {\n      var parDims = GetDimensions(parent);\n\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\n      top = eleDims.offset.top >= parDims.offset.top;\n      left = eleDims.offset.left >= parDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\n    } else {\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\n    }\n\n    var allDirs = [bottom, top, left, right];\n\n    if (lrOnly) {\n      return left === right === true;\n    }\n\n    if (tbOnly) {\n      return top === bottom === true;\n    }\n\n    return allDirs.indexOf(false) === -1;\n  };\n\n  /**\n   * Uses native methods to return an object of dimension values.\n   * @function\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n   * @returns {Object} - nested object of integer pixel values\n   * TODO - if element is window, return only those values.\n   */\n  function GetDimensions(elem, test) {\n    elem = elem.length ? elem[0] : elem;\n\n    if (elem === window || elem === document) {\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n    }\n\n    var rect = elem.getBoundingClientRect(),\n        parRect = elem.parentNode.getBoundingClientRect(),\n        winRect = document.body.getBoundingClientRect(),\n        winY = window.pageYOffset,\n        winX = window.pageXOffset;\n\n    return {\n      width: rect.width,\n      height: rect.height,\n      offset: {\n        top: rect.top + winY,\n        left: rect.left + winX\n      },\n      parentDims: {\n        width: parRect.width,\n        height: parRect.height,\n        offset: {\n          top: parRect.top + winY,\n          left: parRect.left + winX\n        }\n      },\n      windowDims: {\n        width: winRect.width,\n        height: winRect.height,\n        offset: {\n          top: winY,\n          left: winX\n        }\n      }\n    };\n  }\n\n  /**\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\n   * such as: Tooltip, Reveal, and Dropdown\n   * @function\n   * @param {jQuery} element - jQuery object for the element being positioned.\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\n   */\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n    var $eleDims = GetDimensions(element),\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n    switch (position) {\n      case 'top':\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'center top':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'center bottom':\n        return {\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'center left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center':\n        return {\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'reveal':\n        return {\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n          top: $eleDims.windowDims.offset.top + vOffset\n        };\n      case 'reveal full':\n        return {\n          left: $eleDims.windowDims.offset.left,\n          top: $eleDims.windowDims.offset.top\n        };\n        break;\n      case 'left bottom':\n        return {\n          left: $anchorDims.offset.left,\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      case 'right bottom':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      default:\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n    }\n  }\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function _init() {\n      var self = this;\n      var extractedStyles = $('.foundation-mq').css('font-family');\n      var namedQueries;\n\n      namedQueries = parseStyleToObject(extractedStyles);\n\n      for (var key in namedQueries) {\n        if (namedQueries.hasOwnProperty(key)) {\n          self.queries.push({\n            name: key,\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n          });\n        }\n      }\n\n      this.current = this._getCurrentSize();\n\n      this._watcher();\n    },\n\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function atLeast(size) {\n      var query = this.get(size);\n\n      if (query) {\n        return window.matchMedia(query).matches;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function get(size) {\n      for (var i in this.queries) {\n        if (this.queries.hasOwnProperty(i)) {\n          var query = this.queries[i];\n          if (size === query.name) return query.value;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function _getCurrentSize() {\n      var matched;\n\n      for (var i = 0; i < this.queries.length; i++) {\n        var query = this.queries[i];\n\n        if (window.matchMedia(query.value).matches) {\n          matched = query;\n        }\n      }\n\n      if ((typeof matched === 'undefined' ? 'undefined' : _typeof(matched)) === 'object') {\n        return matched.name;\n      } else {\n        return matched;\n      }\n    },\n\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function _watcher() {\n      var _this = this;\n\n      $(window).on('resize.zf.mediaquery', function () {\n        var newSize = _this._getCurrentSize(),\n            currentSize = _this.current;\n\n        if (newSize !== currentSize) {\n          // Change the current media query\n          _this.current = newSize;\n\n          // Broadcast the media query change on the window\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n        }\n      });\n    }\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function matchMedium(media) {\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n          if (style.styleSheet) {\n            style.styleSheet.cssText = text;\n          } else {\n            style.textContent = text;\n          }\n\n          // Test if media query is true or false\n          return info.width === '1px';\n        }\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function triggers(el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    triggers($(this), 'toggle');\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).on('load', function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if ((typeof pluginName === 'undefined' ? 'undefined' : _typeof(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n      //trigger the event handler for the element depending on type\n      switch ($target.attr(\"data-events\")) {\n\n        case \"resize\":\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          break;\n\n        case \"scroll\":\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          break;\n\n        // case \"mutate\" :\n        // console.log('mutate', $target);\n        // $target.triggerHandler('mutate.zf.trigger');\n        //\n        // //make sure we don't get stuck in an infinite loop from sloppy codeing\n        // if ($target.index('[data-mutate]') == $(\"[data-mutate]\").length-1) {\n        //   domMutationObserver();\n        // }\n        // break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, (or coming soon mutation) add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: false, characterData: false, subtree: false, attributeFilter: [\"data-events\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n\n// function domMutationObserver(debounce) {\n//   // !!! This is coming soon and needs more work; not active  !!! //\n//   var timer,\n//   nodes = document.querySelectorAll('[data-mutate]');\n//   //\n//   if (nodes.length) {\n//     // var MutationObserver = (function () {\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n//     //   for (var i=0; i < prefixes.length; i++) {\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\n//     //       return window[prefixes[i] + 'MutationObserver'];\n//     //     }\n//     //   }\n//     //   return false;\n//     // }());\n//\n//\n//     //for the body, we need to listen for all changes effecting the style and class attributes\n//     var bodyObserver = new MutationObserver(bodyMutation);\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\n//\n//\n//     //body callback\n//     function bodyMutation(mutate) {\n//       //trigger all listening elements and signal a mutation event\n//       if (timer) { clearTimeout(timer); }\n//\n//       timer = setTimeout(function() {\n//         bodyObserver.disconnect();\n//         $('[data-mutate]').attr('data-events',\"mutate\");\n//       }, debounce || 150);\n//     }\n//   }\n// }\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function animateIn(element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function animateOut(element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    function move(ts) {\n      if (!start) start = window.performance.now();\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Reveal module.\n   * @module foundation.reveal\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.motion if using animations\n   */\n\n  var Reveal = function () {\n    /**\n     * Creates a new instance of Reveal.\n     * @class\n     * @param {jQuery} element - jQuery object to use for the modal.\n     * @param {Object} options - optional parameters.\n     */\n    function Reveal(element, options) {\n      _classCallCheck(this, Reveal);\n\n      this.$element = element;\n      this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);\n      this._init();\n\n      Foundation.registerPlugin(this, 'Reveal');\n      Foundation.Keyboard.register('Reveal', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ESCAPE': 'close',\n        'TAB': 'tab_forward',\n        'SHIFT_TAB': 'tab_backward'\n      });\n    }\n\n    /**\n     * Initializes the modal by adding the overlay and close buttons, (if selected).\n     * @private\n     */\n\n\n    _createClass(Reveal, [{\n      key: '_init',\n      value: function _init() {\n        this.id = this.$element.attr('id');\n        this.isActive = false;\n        this.cached = { mq: Foundation.MediaQuery.current };\n        this.isMobile = mobileSniff();\n\n        this.$anchor = $('[data-open=\"' + this.id + '\"]').length ? $('[data-open=\"' + this.id + '\"]') : $('[data-toggle=\"' + this.id + '\"]');\n        this.$anchor.attr({\n          'aria-controls': this.id,\n          'aria-haspopup': true,\n          'tabindex': 0\n        });\n\n        if (this.options.fullScreen || this.$element.hasClass('full')) {\n          this.options.fullScreen = true;\n          this.options.overlay = false;\n        }\n        if (this.options.overlay && !this.$overlay) {\n          this.$overlay = this._makeOverlay(this.id);\n        }\n\n        this.$element.attr({\n          'role': 'dialog',\n          'aria-hidden': true,\n          'data-yeti-box': this.id,\n          'data-resize': this.id\n        });\n\n        if (this.$overlay) {\n          this.$element.detach().appendTo(this.$overlay);\n        } else {\n          this.$element.detach().appendTo($('body'));\n          this.$element.addClass('without-overlay');\n        }\n        this._events();\n        if (this.options.deepLink && window.location.hash === '#' + this.id) {\n          $(window).one('load.zf.reveal', this.open.bind(this));\n        }\n      }\n\n      /**\n       * Creates an overlay div to display behind the modal.\n       * @private\n       */\n\n    }, {\n      key: '_makeOverlay',\n      value: function _makeOverlay(id) {\n        var $overlay = $('<div></div>').addClass('reveal-overlay').appendTo('body');\n        return $overlay;\n      }\n\n      /**\n       * Updates position of modal\n       * TODO:  Figure out if we actually need to cache these values or if it doesn't matter\n       * @private\n       */\n\n    }, {\n      key: '_updatePosition',\n      value: function _updatePosition() {\n        var width = this.$element.outerWidth();\n        var outerWidth = $(window).width();\n        var height = this.$element.outerHeight();\n        var outerHeight = $(window).height();\n        var left, top;\n        if (this.options.hOffset === 'auto') {\n          left = parseInt((outerWidth - width) / 2, 10);\n        } else {\n          left = parseInt(this.options.hOffset, 10);\n        }\n        if (this.options.vOffset === 'auto') {\n          if (height > outerHeight) {\n            top = parseInt(Math.min(100, outerHeight / 10), 10);\n          } else {\n            top = parseInt((outerHeight - height) / 4, 10);\n          }\n        } else {\n          top = parseInt(this.options.vOffset, 10);\n        }\n        this.$element.css({ top: top + 'px' });\n        // only worry about left if we don't have an overlay or we havea  horizontal offset,\n        // otherwise we're perfectly in the middle\n        if (!this.$overlay || this.options.hOffset !== 'auto') {\n          this.$element.css({ left: left + 'px' });\n          this.$element.css({ margin: '0px' });\n        }\n      }\n\n      /**\n       * Adds event handlers for the modal.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this2 = this;\n\n        var _this = this;\n\n        this.$element.on({\n          'open.zf.trigger': this.open.bind(this),\n          'close.zf.trigger': function closeZfTrigger(event, $element) {\n            if (event.target === _this.$element[0] || $(event.target).parents('[data-closable]')[0] === $element) {\n              // only close reveal when it's explicitly called\n              return _this2.close.apply(_this2);\n            }\n          },\n          'toggle.zf.trigger': this.toggle.bind(this),\n          'resizeme.zf.trigger': function resizemeZfTrigger() {\n            _this._updatePosition();\n          }\n        });\n\n        if (this.$anchor.length) {\n          this.$anchor.on('keydown.zf.reveal', function (e) {\n            if (e.which === 13 || e.which === 32) {\n              e.stopPropagation();\n              e.preventDefault();\n              _this.open();\n            }\n          });\n        }\n\n        if (this.options.closeOnClick && this.options.overlay) {\n          this.$overlay.off('.zf.reveal').on('click.zf.reveal', function (e) {\n            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target) || !$.contains(document, e.target)) {\n              return;\n            }\n            _this.close();\n          });\n        }\n        if (this.options.deepLink) {\n          $(window).on('popstate.zf.reveal:' + this.id, this._handleState.bind(this));\n        }\n      }\n\n      /**\n       * Handles modal methods on back/forward button clicks or any other event that triggers popstate.\n       * @private\n       */\n\n    }, {\n      key: '_handleState',\n      value: function _handleState(e) {\n        if (window.location.hash === '#' + this.id && !this.isActive) {\n          this.open();\n        } else {\n          this.close();\n        }\n      }\n\n      /**\n       * Opens the modal controlled by `this.$anchor`, and closes all others by default.\n       * @function\n       * @fires Reveal#closeme\n       * @fires Reveal#open\n       */\n\n    }, {\n      key: 'open',\n      value: function open() {\n        var _this3 = this;\n\n        if (this.options.deepLink) {\n          var hash = '#' + this.id;\n\n          if (window.history.pushState) {\n            window.history.pushState(null, null, hash);\n          } else {\n            window.location.hash = hash;\n          }\n        }\n\n        this.isActive = true;\n\n        // Make elements invisible, but remove display: none so we can get size and positioning\n        this.$element.css({ 'visibility': 'hidden' }).show().scrollTop(0);\n        if (this.options.overlay) {\n          this.$overlay.css({ 'visibility': 'hidden' }).show();\n        }\n\n        this._updatePosition();\n\n        this.$element.hide().css({ 'visibility': '' });\n\n        if (this.$overlay) {\n          this.$overlay.css({ 'visibility': '' }).hide();\n          if (this.$element.hasClass('fast')) {\n            this.$overlay.addClass('fast');\n          } else if (this.$element.hasClass('slow')) {\n            this.$overlay.addClass('slow');\n          }\n        }\n\n        if (!this.options.multipleOpened) {\n          /**\n           * Fires immediately before the modal opens.\n           * Closes any other modals that are currently open\n           * @event Reveal#closeme\n           */\n          this.$element.trigger('closeme.zf.reveal', this.id);\n        }\n        // Motion UI method of reveal\n        if (this.options.animationIn) {\n          var _this;\n\n          (function () {\n            var afterAnimationFocus = function afterAnimationFocus() {\n              _this.$element.attr({\n                'aria-hidden': false,\n                'tabindex': -1\n              }).focus();\n            };\n\n            _this = _this3;\n\n            if (_this3.options.overlay) {\n              Foundation.Motion.animateIn(_this3.$overlay, 'fade-in');\n            }\n            Foundation.Motion.animateIn(_this3.$element, _this3.options.animationIn, function () {\n              _this3.focusableElements = Foundation.Keyboard.findFocusable(_this3.$element);\n              afterAnimationFocus();\n            });\n          })();\n        }\n        // jQuery method of reveal\n        else {\n            if (this.options.overlay) {\n              this.$overlay.show(0);\n            }\n            this.$element.show(this.options.showDelay);\n          }\n\n        // handle accessibility\n        this.$element.attr({\n          'aria-hidden': false,\n          'tabindex': -1\n        }).focus();\n\n        /**\n         * Fires when the modal has successfully opened.\n         * @event Reveal#open\n         */\n        this.$element.trigger('open.zf.reveal');\n\n        if (this.isMobile) {\n          this.originalScrollPos = window.pageYOffset;\n          $('html, body').addClass('is-reveal-open');\n        } else {\n          $('body').addClass('is-reveal-open');\n        }\n\n        setTimeout(function () {\n          _this3._extraHandlers();\n        }, 0);\n      }\n\n      /**\n       * Adds extra event handlers for the body and window if necessary.\n       * @private\n       */\n\n    }, {\n      key: '_extraHandlers',\n      value: function _extraHandlers() {\n        var _this = this;\n        this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\n\n        if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {\n          $('body').on('click.zf.reveal', function (e) {\n            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target) || !$.contains(document, e.target)) {\n              return;\n            }\n            _this.close();\n          });\n        }\n\n        if (this.options.closeOnEsc) {\n          $(window).on('keydown.zf.reveal', function (e) {\n            Foundation.Keyboard.handleKey(e, 'Reveal', {\n              close: function close() {\n                if (_this.options.closeOnEsc) {\n                  _this.close();\n                  _this.$anchor.focus();\n                }\n              }\n            });\n          });\n        }\n\n        // lock focus within modal while tabbing\n        this.$element.on('keydown.zf.reveal', function (e) {\n          var $target = $(this);\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Reveal', {\n            tab_forward: function tab_forward() {\n              _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n              if (_this.$element.find(':focus').is(_this.focusableElements.eq(-1))) {\n                // left modal downwards, setting focus to first element\n                _this.focusableElements.eq(0).focus();\n                return true;\n              }\n              if (_this.focusableElements.length === 0) {\n                // no focusable elements inside the modal at all, prevent tabbing in general\n                return true;\n              }\n            },\n            tab_backward: function tab_backward() {\n              _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n              if (_this.$element.find(':focus').is(_this.focusableElements.eq(0)) || _this.$element.is(':focus')) {\n                // left modal upwards, setting focus to last element\n                _this.focusableElements.eq(-1).focus();\n                return true;\n              }\n              if (_this.focusableElements.length === 0) {\n                // no focusable elements inside the modal at all, prevent tabbing in general\n                return true;\n              }\n            },\n            open: function open() {\n              if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {\n                setTimeout(function () {\n                  // set focus back to anchor if close button has been activated\n                  _this.$anchor.focus();\n                }, 1);\n              } else if ($target.is(_this.focusableElements)) {\n                // dont't trigger if acual element has focus (i.e. inputs, links, ...)\n                _this.open();\n              }\n            },\n            close: function close() {\n              if (_this.options.closeOnEsc) {\n                _this.close();\n                _this.$anchor.focus();\n              }\n            },\n            handled: function handled(preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n            }\n          });\n        });\n      }\n\n      /**\n       * Closes the modal.\n       * @function\n       * @fires Reveal#closed\n       */\n\n    }, {\n      key: 'close',\n      value: function close() {\n        if (!this.isActive || !this.$element.is(':visible')) {\n          return false;\n        }\n        var _this = this;\n\n        // Motion UI method of hiding\n        if (this.options.animationOut) {\n          if (this.options.overlay) {\n            Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);\n          } else {\n            finishUp();\n          }\n\n          Foundation.Motion.animateOut(this.$element, this.options.animationOut);\n        }\n        // jQuery method of hiding\n        else {\n            if (this.options.overlay) {\n              this.$overlay.hide(0, finishUp);\n            } else {\n              finishUp();\n            }\n\n            this.$element.hide(this.options.hideDelay);\n          }\n\n        // Conditionals to remove extra event listeners added on open\n        if (this.options.closeOnEsc) {\n          $(window).off('keydown.zf.reveal');\n        }\n\n        if (!this.options.overlay && this.options.closeOnClick) {\n          $('body').off('click.zf.reveal');\n        }\n\n        this.$element.off('keydown.zf.reveal');\n\n        function finishUp() {\n          if (_this.isMobile) {\n            $('html, body').removeClass('is-reveal-open');\n            if (_this.originalScrollPos) {\n              $('body').scrollTop(_this.originalScrollPos);\n              _this.originalScrollPos = null;\n            }\n          } else {\n            $('body').removeClass('is-reveal-open');\n          }\n\n          _this.$element.attr('aria-hidden', true);\n\n          /**\n          * Fires when the modal is done closing.\n          * @event Reveal#closed\n          */\n          _this.$element.trigger('closed.zf.reveal');\n        }\n\n        /**\n        * Resets the modal content\n        * This prevents a running video to keep going in the background\n        */\n        if (this.options.resetOnClose) {\n          this.$element.html(this.$element.html());\n        }\n\n        this.isActive = false;\n        if (_this.options.deepLink) {\n          if (window.history.replaceState) {\n            window.history.replaceState(\"\", document.title, window.location.pathname);\n          } else {\n            window.location.hash = '';\n          }\n        }\n      }\n\n      /**\n       * Toggles the open/closed state of a modal.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle() {\n        if (this.isActive) {\n          this.close();\n        } else {\n          this.open();\n        }\n      }\n    }, {\n      key: 'destroy',\n\n\n      /**\n       * Destroys an instance of a modal.\n       * @function\n       */\n      value: function destroy() {\n        if (this.options.overlay) {\n          this.$element.appendTo($('body')); // move $element outside of $overlay to prevent error unregisterPlugin()\n          this.$overlay.hide().off().remove();\n        }\n        this.$element.hide().off();\n        this.$anchor.off('.zf');\n        $(window).off('.zf.reveal:' + this.id);\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Reveal;\n  }();\n\n  Reveal.defaults = {\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-in-left'\n     */\n    animationIn: '',\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-out-right'\n     */\n    animationOut: '',\n    /**\n     * Time, in ms, to delay the opening of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    showDelay: 0,\n    /**\n     * Time, in ms, to delay the closing of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    hideDelay: 0,\n    /**\n     * Allows a click on the body/overlay to close the modal.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Allows the modal to close if the user presses the `ESCAPE` key.\n     * @option\n     * @example true\n     */\n    closeOnEsc: true,\n    /**\n     * If true, allows multiple modals to be displayed at once.\n     * @option\n     * @example false\n     */\n    multipleOpened: false,\n    /**\n     * Distance, in pixels, the modal should push down from the top of the screen.\n     * @option\n     * @example auto\n     */\n    vOffset: 'auto',\n    /**\n     * Distance, in pixels, the modal should push in from the side of the screen.\n     * @option\n     * @example auto\n     */\n    hOffset: 'auto',\n    /**\n     * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.\n     * @option\n     * @example false\n     */\n    fullScreen: false,\n    /**\n     * Percentage of screen height the modal should push up from the bottom of the view.\n     * @option\n     * @example 10\n     */\n    btmOffsetPct: 10,\n    /**\n     * Allows the modal to generate an overlay div, which will cover the view when modal opens.\n     * @option\n     * @example true\n     */\n    overlay: true,\n    /**\n     * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.\n     * @option\n     * @example false\n     */\n    resetOnClose: false,\n    /**\n     * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.\n     * @option\n     * @example false\n     */\n    deepLink: false\n  };\n\n  // Window exports\n  Foundation.plugin(Reveal, 'Reveal');\n\n  function iPhoneSniff() {\n    return (/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)\n    );\n  }\n\n  function androidSniff() {\n    return (/Android/.test(window.navigator.userAgent)\n    );\n  }\n\n  function mobileSniff() {\n    return iPhoneSniff() || androidSniff();\n  }\n}(jQuery);\n'use strict';\n\nif (!HTMLFormElement.prototype.reportValidity) {\n\n\t/**\n  * Wait, people use IE and Safari outside of downloading Chrome?\n  * \n  * @since\t  1.0.0\n  * @return\t  void\n  */\n\tHTMLFormElement.prototype.reportValidity = function () {\n\n\t\tvar error = '',\n\t\t    valid = true;\n\n\t\t// Remove all old Validation Errors\n\t\tjQuery(this).find('.validation-error').remove();\n\n\t\tjQuery(this).find('.required').each(function (index, element) {\n\n\t\t\t// Reset Custom Validity Message\n\t\t\telement.setCustomValidity('');\n\n\t\t\tif (!jQuery(element).closest('td').hasClass('hidden') && (jQuery(element).val() === null || jQuery(element).val() == '')) {\n\n\t\t\t\terror = jQuery(element).data('validity-error');\n\n\t\t\t\telement.setCustomValidity(error);\n\t\t\t\tjQuery(element).before('<span class=\"validation-error\">' + error + '</span>');\n\n\t\t\t\tvalid = false;\n\t\t\t}\n\t\t});\n\n\t\tvar $templateName = jQuery(this).find('.edd-fields-template-name'),\n\t\t    templateName = $templateName.val() == '' ? $templateName.attr('placeholder') : $templateName.val(),\n\t\t    uuid = jQuery(this).closest('.reveal').data('reveal');\n\n\t\t$templateName[0].setCustomValidity(''); // Reset Validity Message\n\n\t\tjQuery('.edd-rbm-repeater-item').each(function (index, row) {\n\n\t\t\t// If this is the current Item, ignore\n\t\t\tif (jQuery(row).find('[data-repeater-edit]').data('open') == uuid) return true;\n\n\t\t\tif (edd_fields_sanitize_key(jQuery(row).find('.title').text().trim()) == edd_fields_sanitize_key(templateName.trim())) {\n\n\t\t\t\t$templateName[0].setCustomValidity($templateName.data('validity-error'));\n\n\t\t\t\t$templateName.before('<span class=\"validation-error\">' + error + '</span>');\n\n\t\t\t\tvalid = false;\n\n\t\t\t\treturn false; // break loop\n\t\t\t}\n\t\t});\n\n\t\tif (!valid) {\n\n\t\t\tjQuery(this).closest('.reveal-overlay').scrollTop(jQuery(this).find('.validation-error:first-of-type'));\n\t\t\treturn valid;\n\t\t}\n\n\t\treturn valid;\n\t};\n};\n'use strict';\n\n// Initialize special fields if they exist\nfunction init_edd_rbm_repeater_colorpickers(modal) {\n\n\tvar regex = /value=\"(#(?:[0-9a-f]{3}){1,2})\"/i;\n\n\t// Only try to run if there are any Color Pickers within an EDD Repeater\n\tif (jQuery(modal).find('.edd-color-picker').length) {\n\n\t\t// Hit each colorpicker individually to ensure its settings are properly used\n\t\tjQuery(modal).find('.edd-color-picker').each(function (index, colorPicker) {\n\n\t\t\t// Value exists in HTML but is inaccessable via JavaScript. No idea why.\n\t\t\tvar value = regex.exec(jQuery(colorPicker)[0].outerHTML)[1];\n\n\t\t\tjQuery(colorPicker).val(value).attr('value', value).wpColorPicker();\n\t\t});\n\t}\n}\n\nfunction init_edd_rbm_repeater_tooltips(modal) {\n\n\tjQuery(modal).find('.edd-help-tip').each(function (index, tooltip) {\n\n\t\tjQuery(tooltip).tooltip({\n\t\t\tcontent: function content() {\n\t\t\t\treturn jQuery(tooltip).prop('title');\n\t\t\t},\n\t\t\ttooltipClass: 'edd-ui-tooltip',\n\t\t\tposition: {\n\t\t\t\tmy: 'center top',\n\t\t\t\tat: 'center bottom+10',\n\t\t\t\tcollision: 'flipfit'\n\t\t\t},\n\t\t\thide: {\n\t\t\t\tduration: 200\n\t\t\t},\n\t\t\tshow: {\n\t\t\t\tduration: 200\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction init_edd_rbm_repeater_options_button(modal) {\n\n\tjQuery(modal).find('.edd-fields-type').each(function (index, type) {\n\n\t\tif (eddFields.showFieldsOptions.indexOf(jQuery(type).val()) > -1) {\n\t\t\tjQuery(type).closest('[data-repeater-item]').find('[data-options-repeater-edit]').attr('disabled', false);\n\t\t} else {\n\t\t\tjQuery(type).closest('[data-repeater-item]').find('[data-options-repeater-edit]').attr('disabled', true);\n\t\t}\n\t});\n}\n\nfunction init_edd_rbm_repeater_required_fields(modal) {\n\n\tjQuery(modal).find('.required').each(function (index, field) {\n\n\t\tjQuery(field).attr('data-validation-error', eddFields.i18n.requiredError);\n\n\t\tif (jQuery(field).closest('td').hasClass('hidden')) {\n\t\t\tjQuery(field).attr('required', false);\n\t\t} else {\n\t\t\tjQuery(field).attr('required', true);\n\t\t}\n\n\t\t// Fix Tab Ordering Bug \n\t\tif (jQuery(field).hasClass('edd-chosen')) {\n\n\t\t\t// Ensure the Chosen Container has been built\n\t\t\tjQuery(field).chosen();\n\n\t\t\t// No Tab index for the \"hidden\" Select field\n\t\t\tjQuery(field).attr('tabindex', -1);\n\n\t\t\t// Why would you be unable to tab into it by default?!?!\n\t\t\tjQuery(field).siblings('.chosen-container').find('.chosen-single').attr('tabindex', 0);\n\t\t}\n\t});\n}\n\nfunction edd_repeater_reindex_primary() {\n\n\tjQuery('[data-edd-rbm-repeater] .edd-rbm-repeater-item').each(function (index, row) {\n\n\t\tvar uuid = jQuery(row).find('[data-repeater-edit]').data('open'),\n\t\t    $modal = jQuery('[data-reveal=\"' + uuid + '\"]');\n\n\t\t$modal.find('[name]').each(function (inputIndex, input) {\n\n\t\t\tvar reindexed = jQuery(input).attr('name').replace(/\\[\\d+\\]/, '[' + index + ']'); // Only replaces the first one as to not break Nested Repeaters\n\n\t\t\tjQuery(input).attr('name', reindexed);\n\t\t});\n\n\t\tinit_edd_rbm_repeater_colorpickers($modal);\n\t\tinit_edd_rbm_repeater_tooltips($modal);\n\t\tinit_edd_rbm_repeater_required_fields($modal);\n\t\tinit_edd_rbm_repeater_options_button($modal);\n\t});\n}\n\n// Repeaters\n(function ($) {\n\n\t// This only targets the top-level, primary repeater\n\tvar $repeaters = $('[data-edd-rbm-repeater]');\n\n\tif (!$repeaters.length) {\n\t\treturn;\n\t}\n\n\tvar edd_repeater_show = function edd_repeater_show() {\n\n\t\t// Hide current title for new item and show default title\n\t\t$(this).find('.repeater-header div.title').html($(this).find('.repeater-header div.title').data('repeater-default-title'));\n\n\t\t// Nested Repeaters always inherit the number of Rows from the previous Repeater, so this will fix that.\n\t\tvar repeater = $(this).closest('[data-edd-rbm-repeater]'),\n\t\t    nestedRepeaters = $(this).find('.edd-rbm-nested-repeater');\n\n\t\t$(nestedRepeaters).each(function (index, nestedRepeater) {\n\n\t\t\tvar items = $(nestedRepeater).find('.edd-rbm-repeater-item').get().reverse();\n\n\t\t\tif (items.length == 1) return true; // Continue\n\n\t\t\t$(items).each(function (row, nestedRow) {\n\n\t\t\t\tif (row == items.length - 1) return false; // Break\n\n\t\t\t\t$(nestedRow).stop().slideUp(300, function () {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\t$(repeater).trigger('edd-nested-repeater-cleanup', [$(nestedRow)]);\n\t\t\t});\n\t\t});\n\n\t\tinit_edd_rbm_repeater_tooltips(this); // This is necessary to ensure any Rows that are added have Tooltips\n\t\tinit_edd_rbm_repeater_required_fields(this); // Ensure that Required Fields get handled\n\t\tinit_edd_rbm_repeater_options_button(this);\n\n\t\t$(this).stop().slideDown();\n\n\t\tvar repeater = $(this).closest('[data-edd-rbm-repeater]');\n\n\t\t$(repeater).trigger('edd-rbm-repeater-add', [$(this)]);\n\t};\n\n\tvar edd_fields_field_option_show = function edd_fields_field_option_show() {\n\n\t\tinit_edd_rbm_repeater_tooltips(this); // This is necessary to ensure any Rows that are added have Tooltips\n\t\tinit_edd_rbm_repeater_required_fields(this); // Ensure that Required Fields get handled\n\n\t\t$(this).stop().slideDown();\n\n\t\tvar repeater = $(this).closest('[data-edd-fields-field-options-repeater]');\n\n\t\t$(repeater).trigger('edd-fields-option-add', [$(this)]);\n\t};\n\n\tvar edd_repeater_hide = function edd_repeater_hide() {\n\n\t\t// For Nested Repeaters, just remove it. No Confirmation.\n\t\tif ($(this).closest('.edd-rbm-repeater').hasClass('edd-rbm-nested-repeater')) {\n\n\t\t\t$(this).slideUp(300, function () {\n\t\t\t\t$(this).remove();\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar repeater = $(this).closest('[data-edd-rbm-repeater]'),\n\t\t    confirmDeletion = confirm(eddFields.i18n.confirmDeletion);\n\n\t\tif (confirmDeletion) {\n\n\t\t\tvar $row = $(this),\n\t\t\t    uuid = $row.find('[data-repeater-edit]').data('open'),\n\t\t\t    $modal = $('[data-reveal=\"' + uuid + '\"]'),\n\t\t\t    templateIndex = get_edd_fields_index(uuid); // In this case we don't care if something is saved or not\n\n\t\t\t$.ajax({\n\t\t\t\t'type': 'POST',\n\t\t\t\t'url': eddFields.ajax,\n\t\t\t\t'data': {\n\t\t\t\t\t'action': 'delete_edd_rbm_fields_template',\n\t\t\t\t\t'index': templateIndex,\n\t\t\t\t\t'saved': $row.data('saved') ? true : false\n\t\t\t\t},\n\t\t\t\tsuccess: function success(response) {\n\n\t\t\t\t\t// Remove whole DOM tree for the Modal.\n\t\t\t\t\t$modal.parent().remove();\n\n\t\t\t\t\t// Remove DOM Tree for the Notification \"Header\"\n\t\t\t\t\t$row.stop();\n\t\t\t\t\tsetTimeout(function () {\n\n\t\t\t\t\t\t$row.effect('highlight', { color: '#FFBABA' }, 300).dequeue().slideUp(300, function () {\n\t\t\t\t\t\t\t$row.remove();\n\t\t\t\t\t\t\tedd_repeater_reindex_primary();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t$(repeater).trigger('edd-rbm-repeater-remove', [$row]);\n\t\t\t\t},\n\t\t\t\terror: function error(request, status, _error) {}\n\t\t\t});\n\t\t}\n\t};\n\n\tvar edd_fields_field_option_hide = function edd_fields_field_option_hide() {\n\n\t\t$(this).slideUp(300, function () {\n\t\t\t$(this).remove();\n\t\t});\n\t};\n\n\t$repeaters.each(function () {\n\n\t\tvar $repeater = $(this),\n\t\t    $dummy = $repeater.find('[data-repeater-dummy]');\n\n\t\t// Repeater\n\t\t$repeater.repeater({\n\n\t\t\trepeaters: [{\n\t\t\t\tselector: '.edd-rbm-nested-repeater',\n\t\t\t\tshow: edd_repeater_show,\n\t\t\t\thide: edd_repeater_hide,\n\t\t\t\tready: function ready(setIndexes) {\n\t\t\t\t\t$repeater.find('.edd-rbm-repeater-list').on('sortupdate', setIndexes);\n\t\t\t\t},\n\t\t\t\trepeaters: [{\n\t\t\t\t\tselector: '.edd-fields-field-option-repeater',\n\t\t\t\t\tshow: edd_fields_field_option_show,\n\t\t\t\t\thide: edd_fields_field_option_hide,\n\t\t\t\t\tready: function ready(setIndexes) {\n\t\t\t\t\t\t$repeater.find('.edd-rbm-repeater-list').on('sortupdate', setIndexes);\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}],\n\t\t\tshow: edd_repeater_show,\n\t\t\thide: edd_repeater_hide,\n\t\t\tready: function ready(setIndexes) {\n\t\t\t\t// Custom Reindexing Function below\n\t\t\t}\n\n\t\t});\n\n\t\tif ($dummy.length) {\n\t\t\t$dummy.remove();\n\t\t}\n\n\t\t$repeater.find('.edd-rbm-repeater-list').sortable({\n\t\t\taxis: 'y',\n\t\t\thandle: '[data-repeater-item-handle]',\n\t\t\tforcePlaceholderSize: true,\n\t\t\tupdate: function update(event, ui) {\n\n\t\t\t\t// If we're not in a Nested Repeater\n\t\t\t\tif (!$(event.currentTarget).hasClass('edd-rbm-nested-repeater')) {\n\n\t\t\t\t\tedd_repeater_reindex_primary();\n\n\t\t\t\t\t// Grab all data with their new indexes to save\n\t\t\t\t\tvar data = [];\n\t\t\t\t\t$('[data-edd-rbm-repeater] .edd-rbm-repeater-item').each(function (index, row) {\n\n\t\t\t\t\t\t// Skip if we're not saved\n\t\t\t\t\t\tif (!$(row).data('saved')) return true;\n\n\t\t\t\t\t\tvar uuid = $(row).find('[data-repeater-edit]').data('open'),\n\t\t\t\t\t\t    $modal = $('[data-reveal=\"' + uuid + '\"]');\n\n\t\t\t\t\t\tdata.push(get_edd_fields_form($modal[0]));\n\t\t\t\t\t});\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t'type': 'POST',\n\t\t\t\t\t\t'url': eddFields.ajax,\n\t\t\t\t\t\t'data': {\n\t\t\t\t\t\t\t'action': 'sort_edd_fields_templates',\n\t\t\t\t\t\t\t'templates': data\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function success(response) {},\n\t\t\t\t\t\terror: function error(request, status, _error2) {}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinit_edd_rbm_repeater_colorpickers($(event.currentTarget).closest('.edd-rbm-repeater-content'));\n\t\t\t\t\tinit_edd_rbm_repeater_tooltips($(event.currentTarget).closest('.edd-rbm-repeater-content'));\n\t\t\t\t\tinit_edd_rbm_repeater_required_fields($(event.currentTarget).closest('.edd-rbm-repeater-content'));\n\t\t\t\t\tinit_edd_rbm_repeater_options_button($(event.currentTarget).closest('.edd-rbm-repeater-content'));\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$(document).on('closed.zf.reveal', '.edd-rbm-repeater-content.reveal', function () {\n\n\t\t\tvar title = $(this).find('td:first-of-type *[type!=\"hidden\"]'),\n\t\t\t    uuid = $(this).closest('.edd-rbm-repeater-content.reveal').data('reveal'),\n\t\t\t    $row = $('[data-open=\"' + uuid + '\"]');\n\n\t\t\tif ($(title).val() !== '') {\n\t\t\t\t$row.closest('.edd-rbm-repeater-item').find('.repeater-header div.title').html($(title).val());\n\t\t\t} else {\n\t\t\t\tvar defaultValue = $row.closest('.edd-rbm-repeater-item').find('.repeater-header div.title').data('repeater-default-title');\n\t\t\t\t$row.closest('.edd-rbm-repeater-item').find('.repeater-header div.title').html(defaultValue);\n\t\t\t}\n\t\t});\n\n\t\t$(document).ready(function () {\n\n\t\t\t$(document).on('change', '.edd-fields-type', function (event) {\n\t\t\t\tinit_edd_rbm_repeater_options_button($(event.currentTarget).closest('.edd-rbm-repeater-content'));\n\t\t\t});\n\t\t});\n\t});\n})(jQuery);\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Gets the Index of a Row excluding all unsaved Rows\n * \n * @param\t\t{string}  uuid Unique Identifier of a Row/Modal relationship\n *                        \n * @since\t\t1.0.0\n * @returns \t{integer} Index\n */\nfunction get_edd_fields_index(uuid) {\n\n\tvar templateIndex = 0;\n\tjQuery('.edd-rbm-repeater-item').each(function (index, row) {\n\n\t\tif (jQuery(row).find('[data-repeater-edit]').data('open') == uuid) {\n\t\t\treturn false; // End loop, we found it\n\t\t}\n\n\t\tif (!jQuery(row).data('saved')) {\n\t\t\treturn true; // Next iteration, this doesn't match our modal and it isn't saved\n\t\t}\n\n\t\ttemplateIndex++;\n\t});\n\n\treturn templateIndex;\n}\n\n/**\n * Dynamically Grabs all Data in the Form\n * \n * @param \t\t{object} modal Modal JavaScript Object\n *                         \n * @since\t\t1.0.0\n * @returns \t{object} Key=>Value of each Field in the Form\n */\nfunction get_edd_fields_form(modal) {\n\n\t// Used to construct HTML Name Attribute\n\tvar repeaterList = jQuery('.edd-fields-settings-repeater .edd-rbm-repeater-list').data('repeater-list'),\n\t    data = {},\n\t    uuid = jQuery(modal).data('reveal'),\n\t    $row = jQuery('[data-open=\"' + uuid + '\"]').closest('.edd-rbm-repeater-item'),\n\t    templateIndex = get_edd_fields_index(uuid);\n\n\tvar nestedRepeaterList = jQuery('.edd-rbm-nested-repeater > table > .edd-rbm-repeater-list').data('repeater-list'),\n\t    optionRepeaterList = jQuery('.edd-fields-field-option-repeater > table > .edd-rbm-repeater-list').data('repeater-list');\n\n\t// Holds all data for the Nested Repeater\n\tdata[nestedRepeaterList] = [];\n\n\tjQuery(modal).find('.edd-fields-field').each(function (index, field) {\n\n\t\tif (jQuery(field).parent().hasClass('hidden')) return true;\n\n\t\tvar name = jQuery(field).attr('name'),\n\t\t    value = jQuery(field).val(),\n\t\t    isRepeater = false;\n\n\t\tif (jQuery(field).is('tr')) {\n\n\t\t\tvalue = {}, isRepeater = true;\n\n\t\t\tvalue[optionRepeaterList] = [];\n\n\t\t\tvar optionsUuid = jQuery(field).find('[data-options-repeater-edit]').data('open'),\n\t\t\t    $optionsModal = jQuery('[data-reveal=\"' + optionsUuid + '\"]');\n\n\t\t\tjQuery(field).find('[name]').each(function (fieldIndex, repeaterField) {\n\n\t\t\t\tname = jQuery(repeaterField).attr('name'), name = name.replace(/.*]\\[(.*)]$/, '$1'), value[name] = jQuery(repeaterField).val();\n\t\t\t});\n\n\t\t\t$optionsModal.find('[name]').each(function (optionIndex, option) {\n\n\t\t\t\tname = jQuery(option).attr('name'), name = name.replace(/.*]\\[(.*)]$/, '$1');\n\n\t\t\t\tvalue[optionRepeaterList].push(_defineProperty({}, name, jQuery(option).val()));\n\t\t\t});\n\t\t} else {\n\n\t\t\t// In this case, it is not undefined\n\t\t\tname = name.replace(/.*]\\[(.*)]$/, '$1');\n\t\t}\n\n\t\tif (jQuery(field).is('input[type=\"checkbox\"]')) {\n\n\t\t\tvalue = jQuery(field).prop('checked') ? 1 : 0;\n\t\t}\n\n\t\t// Not part of the nested Repeater (Field Creation, not Options)\n\t\t// These are pretty basic fields, just assign the value\n\t\tif (!isRepeater) {\n\t\t\tdata[name] = value;\n\t\t} else {\n\n\t\t\t// We already have our \"Value\" as an Object to push\n\t\t\tdata.edd_fields_template_fields.push(value);\n\t\t}\n\t});\n\n\tdata.index = templateIndex;\n\n\treturn data;\n}\n\n/**\n * Sanitizes a String similarly to how we do in PHP-Land\n * \n * @param\t\t{string} key String Key\n *                      \n * @since\t\t1.0.0\n * @returns \t{string} Sanitized String Key\n */\nfunction edd_fields_sanitize_key(key) {\n\n\treturn key.replace(/[\\W|_]/g, '').toLowerCase();\n}\n\n(function ($) {\n\n\t/**\n  * Submit the Form for Creating/Updating Notifications via their Modals\n  * \n  * @param\t  \t{object}  event JavaScript Event Object\n  *\t\t\t\t\t\t\t  \n  * @since\t  \t1.0.0\n  * @returns\t \t{boolean} Validity of Form\n  */\n\tvar attachNotificationSubmitEvent = function attachNotificationSubmitEvent(event) {\n\n\t\tvar modal = event.currentTarget,\n\t\t    $form = $(modal).find('form');\n\n\t\tif (!$(modal).hasClass('has-form')) {\n\n\t\t\t// We need to create the Form\n\t\t\t// \"novalidate\" so that HTML5 doesn't try to take over before we can do our thing\n\t\t\t$form = $(modal).find('.edd-rbm-repeater-form').wrap('<form method=\"POST\" novalidate></form>').parent();\n\n\t\t\t$(modal).addClass('has-form');\n\n\t\t\t// Normally HTML doesn't like us having nested Forms, so we force it like this\n\t\t\t// By the time the Modal opens and this code runs, the Form isn't nested anymore\n\t\t\t$form.submit(function (event) {\n\n\t\t\t\tevent.preventDefault(); // Don't submit the form via PHP\n\n\t\t\t\tvar $templateName = $form.find('.edd-fields-template-name'),\n\t\t\t\t    templateName = $templateName.val() == '' ? $templateName.attr('placeholder') : $templateName.val(),\n\t\t\t\t    uuid = $(modal).data('reveal');\n\n\t\t\t\t$templateName[0].setCustomValidity(''); // Reset Validity Message\n\n\t\t\t\t$('.edd-rbm-repeater-item').each(function (index, row) {\n\n\t\t\t\t\t// If this is the current Item, ignore\n\t\t\t\t\tif ($(row).find('[data-repeater-edit]').data('open') == uuid) return true;\n\n\t\t\t\t\tif (edd_fields_sanitize_key($(row).find('.title').text().trim()) == edd_fields_sanitize_key(templateName.trim())) {\n\n\t\t\t\t\t\t$templateName[0].setCustomValidity($templateName.data('validity-error'));\n\n\t\t\t\t\t\treturn false; // break loop\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$form[0].reportValidity(); // Report Validity via HTML5 stuff\n\n\t\t\t\tif ($form[0].checkValidity()) {\n\t\t\t\t\t// Only run our code if we've got a Valid Form\n\n\t\t\t\t\tvar data = get_edd_fields_form(modal),\n\t\t\t\t\t    uuid = $(modal).data('reveal'),\n\t\t\t\t\t    $row = $('[data-open=\"' + uuid + '\"]').closest('.edd-rbm-repeater-item');;\n\n\t\t\t\t\tdata.action = 'insert_edd_fields_template';\n\t\t\t\t\tdata.saved = $row.data('saved') ? true : false;\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t'type': 'POST',\n\t\t\t\t\t\t'url': eddFields.ajax,\n\t\t\t\t\t\t'data': data,\n\t\t\t\t\t\tsuccess: function success(response) {\n\n\t\t\t\t\t\t\tcloseModal(uuid);\n\n\t\t\t\t\t\t\t// Update our Item to show it is saved\n\t\t\t\t\t\t\t$row.attr('data-saved', true);\n\n\t\t\t\t\t\t\t// Highlight Green\n\t\t\t\t\t\t\t$row.effect('highlight', { color: '#DFF2BF' }, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function error(request, status, _error) {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t$(document).ready(function () {\n\n\t\t// When a Modal opens, attach the Form Submission Event\n\t\t$(document).on('open.zf.reveal', '.edd-rbm-repeater-content.reveal', function (event) {\n\t\t\tattachNotificationSubmitEvent(event);\n\t\t});\n\t});\n})(jQuery);\n'use strict';\n\n/**\n * Normally something like this would be handled by $( document ).foundation(), but doing it manually lets us call this whenever we'd like and dynamically create Button->Modal associations\n * \n * @since\t  1.0.0\n * @return\t  void\n */\nfunction initModals() {\n\n\t// Primary Modal Repeater\n\tjQuery('.edd-rbm-repeater .edd-rbm-repeater-item').each(function (index, item) {\n\n\t\tvar $modal = jQuery(item).find('.edd-rbm-repeater-content.reveal');\n\n\t\tif ($modal.attr('data-reveal') !== '') return true;\n\n\t\t// Copy of how Foundation creates UUIDs\n\t\tvar uuid = Math.round(Math.pow(36, 7) - Math.random() * Math.pow(36, 6)).toString(36).slice(1) + '-reveal';\n\n\t\t$modal.attr('data-reveal', uuid);\n\n\t\tvar $editButton = jQuery(item).find('input[data-repeater-edit]').attr('data-open', uuid);\n\n\t\t$modal = new Foundation.Reveal($modal);\n\t});\n\n\t// Modal Repeater for Field Options\n\tjQuery('.edd-rbm-nested-repeater .edd-rbm-repeater-item').each(function (index, item) {\n\n\t\tvar $modal = jQuery(item).find('.edd-fields-field-options.reveal');\n\n\t\tif ($modal.attr('data-reveal') !== '') return true;\n\n\t\t// Copy of how Foundation creates UUIDs\n\t\tvar uuid = Math.round(Math.pow(36, 7) - Math.random() * Math.pow(36, 6)).toString(36).slice(1) + '-reveal';\n\n\t\t$modal.attr('data-reveal', uuid);\n\n\t\tvar $editButton = jQuery(item).find('input[data-options-repeater-edit]').attr('data-open', uuid);\n\n\t\t$modal = new Foundation.Reveal($modal);\n\t});\n}\n\n/**\n * Opens a Modal because Foundation isn't able to do things quite how I need\n * \n * @param\t  {Event|String} uuid Either the Event from creating a new Row or a UUID\n * @param\t  {object}\t  row  DOM Object of the Row if called from an Event\n *\t\t\t\t\t\t\t\n * @since\t  1.0.0\n * @return\t  void\n */\nfunction openModal(uuid) {\n\tvar row = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\n\t// Handle newly created Rows\n\tif (uuid.hasOwnProperty('type') && uuid.type == 'edd-rbm-repeater-add') {\n\n\t\tvar $row = jQuery(row);\n\n\t\tuuid = $row.find('input[data-repeater-edit]').data('open');\n\t}\n\n\tvar $modal = jQuery('[data-reveal=\"' + uuid + '\"]');\n\n\t$modal.foundation('open');\n\n\t// Ensure we're looking at the top of the Modal\n\t$modal.closest('.reveal-overlay').scrollTop(0);\n}\n\n/**\n * Closes a Modal by its UUID\n * \n * @param\t  {string} uuid UUID of the Modal\n *\t\t\t\t\t  \n * @since\t  1.0.0\n * @return\t  void\n */\nfunction closeModal(uuid) {\n\n\tvar $modal = jQuery('[data-reveal=\"' + uuid + '\"]');\n\n\t$modal.foundation('close');\n}\n\n(function ($) {\n\t'use strict';\n\n\t$(document).ready(function () {\n\n\t\tinitModals();\n\n\t\t// On Page load, assume all are saved (As they are)\n\t\t$('div[data-repeater-list=\"edd_fields_template_settings\"] > .edd-rbm-repeater-item').each(function (index, row) {\n\t\t\t$(row).attr('data-saved', true);\n\t\t});\n\n\t\t// This JavaScript only loads on our custom Page, so we're fine doing this\n\t\tvar $repeaters = $('[data-edd-rbm-repeater]');\n\n\t\tif ($repeaters.length) {\n\t\t\t$repeaters.on('edd-rbm-repeater-add', initModals);\n\t\t\t$repeaters.on('edd-rbm-repeater-add', openModal);\n\t\t}\n\t});\n\n\t$(document).on('click touched', '[data-repeater-edit], [data-options-repeater-edit]', function () {\n\n\t\topenModal($(this).data('open'));\n\t});\n\n\t$(document).on('open.zf.reveal', '.edd-rbm-repeater-content.reveal', function () {\n\n\t\tinit_edd_rbm_repeater_colorpickers(this);\n\t\tinit_edd_rbm_repeater_tooltips(this);\n\t\tinit_edd_rbm_repeater_required_fields(this);\n\t\tinit_edd_rbm_repeater_options_button(this);\n\n\t\t$(this).find('.edd-fields-template-name').attr('data-validity-error', eddFields.i18n.duplicateNameError);\n\t});\n})(jQuery);\n'use strict';\n\n(function ($) {\n\n\t$(document).on('ready', function () {\n\n\t\tif ($('#edd_fields_meta_box select[name=\"edd_fields_template\"]').length > 0) {\n\n\t\t\t$(document).on('change', '#edd_fields_meta_box select[name=\"edd_fields_template\"]', function () {\n\n\t\t\t\t$('#edd_fields_meta_box .edd-fields-template').addClass('hidden');\n\n\t\t\t\t$('#edd_fields_meta_box #edd-fields-' + $(this).val()).removeClass('hidden');\n\t\t\t});\n\t\t}\n\t});\n})(jQuery);\n'use strict';\n\n(function ($) {\n\n\tvar getFieldsForDownload = function getFieldsForDownload() {\n\t\tvar postID = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\tvar $form = arguments[1];\n\n\n\t\t$.ajax({\n\t\t\t'type': 'POST',\n\t\t\t'url': ajaxurl,\n\t\t\t'data': {\n\t\t\t\t'action': 'get_edd_fields_widget_field',\n\t\t\t\t'post_id': postID\n\t\t\t},\n\t\t\tsuccess: function success(response) {\n\n\t\t\t\tvar $select = $form.find('.edd-fields-widget-field'),\n\t\t\t\t    selected = $select.data('selected'),\n\t\t\t\t    $fields = $form.find('.edd-fields-widget-field'),\n\t\t\t\t    $prefix = $form.find('.edd-fields-widget-prefix');\n\n\t\t\t\t$select.empty();\n\n\t\t\t\tfor (var value in response.data) {\n\n\t\t\t\t\t$select.append('<option value=\"' + value + '\"' + (value == selected ? ' selected' : '') + '>' + response.data[value] + '</option>');\n\t\t\t\t}\n\n\t\t\t\tvar $field = $fields.find('option:selected'),\n\t\t\t\t    fieldText = $field.text();\n\n\t\t\t\tif ($field.val() == '0') {\n\t\t\t\t\tfieldText = $prefix.data('default');\n\t\t\t\t}\n\n\t\t\t\t$prefix.attr('placeholder', fieldText + ': ');\n\t\t\t},\n\t\t\terror: function error(request, status, _error) {}\n\t\t});\n\t};\n\n\t$(document).on('ready', function () {\n\n\t\tif ($('.edd-fields-widget-form').length > 0) {\n\n\t\t\t// When the Shortcode type changes\n\t\t\t$(document).on('change', '.edd-fields-widget-form .edd-fields-widget-shortcode', function () {\n\n\t\t\t\tif ($(this).val() == 'individual') {\n\n\t\t\t\t\tvar $form = $(this).closest('.edd-fields-widget-form'),\n\t\t\t\t\t    postID = $form.find('.edd-fields-widget-post-id').val();\n\n\t\t\t\t\tgetFieldsForDownload(postID, $form);\n\n\t\t\t\t\t$form.find('.edd-fields-individual-options').removeClass('hidden');\n\t\t\t\t} else {\n\t\t\t\t\t$(this).closest('.edd-fields-widget-form').find('.edd-fields-individual-options').addClass('hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// When the Selected Post changes\n\t\t\t$(document).on('change', '.edd-fields-widget-form .edd-fields-widget-post-id', function () {\n\n\t\t\t\tvar $form = $(this).closest('.edd-fields-widget-form'),\n\t\t\t\t    postID = $(this).val(),\n\t\t\t\t    shortcodeToggle = $form.find('.edd-fields-widget-shortcode:checked').val();\n\n\t\t\t\t// We only need to do AJAX if we're set to Individual, as changing to Individual will trigger it anyway\n\t\t\t\tif (shortcodeToggle == 'individual') {\n\n\t\t\t\t\tgetFieldsForDownload(postID, $form);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// When the Selected Field Changes\n\t\t\t$(document).on('change', '.edd-fields-widget-form .edd-fields-widget-field', function () {\n\n\t\t\t\tvar $form = $(this).closest('.edd-fields-widget-form'),\n\t\t\t\t    $field = $(this).find('option:selected'),\n\t\t\t\t    fieldText = $field.text(),\n\t\t\t\t    $prefix = $form.find('.edd-fields-widget-prefix');\n\n\t\t\t\t$(this).attr('data-selected', $(this).val());\n\n\t\t\t\tif ($field.val() == '0') {\n\t\t\t\t\tfieldText = $prefix.data('default');\n\t\t\t\t}\n\n\t\t\t\t$prefix.attr('placeholder', fieldText + ': ');\n\t\t\t});\n\n\t\t\t// When we open the Widget Settings\n\t\t\t$(document).on('click touched', '.widget-top', function () {\n\n\t\t\t\t// If we've already loaded up necessary data or if the Widget doesn't match anyway, bail\n\t\t\t\tif ($(this).closest('.widget').attr('id').indexOf('edd_fields') == -1 || $(this).data('edd-fields-widget') == 'loaded') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $form = $(this).siblings('.widget-inside').find('.edd-fields-widget-form'),\n\t\t\t\t    postID = $form.find('.edd-fields-widget-post-id').val();\n\n\t\t\t\t$form.find('.edd-fields-widget-post-id').chosen({\n\t\t\t\t\tinherit_select_classes: true\n\t\t\t\t});\n\n\t\t\t\tgetFieldsForDownload(postID, $form);\n\n\t\t\t\t// Set the loaded flag\n\t\t\t\t$(this).attr('data-edd-fields-widget', 'loaded');\n\t\t\t});\n\t\t}\n\t});\n})(jQuery);","// Initialize special fields if they exist\nfunction init_edd_rbm_repeater_colorpickers( modal ) {\n\n\tvar regex = /value=\"(#(?:[0-9a-f]{3}){1,2})\"/i;\n\n\t// Only try to run if there are any Color Pickers within an EDD Repeater\n\tif ( jQuery( modal ).find( '.edd-color-picker' ).length ) {\n\n\t\t// Hit each colorpicker individually to ensure its settings are properly used\n\t\tjQuery( modal ).find( '.edd-color-picker' ).each( function( index, colorPicker ) {\n\n\t\t\t// Value exists in HTML but is inaccessable via JavaScript. No idea why.\n\t\t\tvar value = regex.exec( jQuery( colorPicker )[0].outerHTML )[1];\n\n\t\t\tjQuery( colorPicker ).val( value ).attr( 'value', value ).wpColorPicker();\n\n\t\t} );\n\n\t}\n\n}\n\nfunction init_edd_rbm_repeater_tooltips( modal ) {\n\t\n\tjQuery( modal ).find( '.edd-help-tip' ).each( function( index, tooltip ) {\n\t\t\t\n\t\tjQuery( tooltip ).tooltip( {\n\t\t\tcontent: function() {\n\t\t\t\treturn jQuery( tooltip ).prop( 'title' );\n\t\t\t},\n\t\t\ttooltipClass: 'edd-ui-tooltip',\n\t\t\tposition: {\n\t\t\t\tmy: 'center top',\n\t\t\t\tat: 'center bottom+10',\n\t\t\t\tcollision: 'flipfit',\n\t\t\t},\n\t\t\thide: {\n\t\t\t\tduration: 200,\n\t\t\t},\n\t\t\tshow: {\n\t\t\t\tduration: 200,\n\t\t\t},\n\t\t} );\n\n\t} );\n\t\n}\n\nfunction init_edd_rbm_repeater_options_button( modal ) {\n\t\n\tjQuery( modal ).find( '.edd-fields-type' ).each( function( index, type ) {\n\t\t\n\t\tif ( eddFields.showFieldsOptions.indexOf( jQuery( type ).val() ) > -1 ) {\n\t\t\tjQuery( type ).closest( '[data-repeater-item]' ).find( '[data-options-repeater-edit]' ).attr( 'disabled', false );\n\t\t}\n\t\telse {\n\t\t\tjQuery( type ).closest( '[data-repeater-item]' ).find( '[data-options-repeater-edit]' ).attr( 'disabled', true );\n\t\t}\n\t\t\n\t} );\n\t\n}\n\nfunction init_edd_rbm_repeater_required_fields( modal ) {\n\t\n\tjQuery( modal ).find( '.required' ).each( function( index, field ) {\n\t\t\n\t\tjQuery( field ).attr( 'data-validation-error', eddFields.i18n.requiredError );\n\t\t\t\n\t\tif ( jQuery( field ).closest( 'td' ).hasClass( 'hidden' ) ) {\n\t\t\tjQuery( field ).attr( 'required', false );\n\t\t}\n\t\telse {\n\t\t\tjQuery( field ).attr( 'required', true );\n\t\t}\n\n\t\t// Fix Tab Ordering Bug \n\t\tif ( jQuery( field ).hasClass( 'edd-chosen' ) ) {\n\n\t\t\t// Ensure the Chosen Container has been built\n\t\t\tjQuery( field ).chosen();\n\n\t\t\t// No Tab index for the \"hidden\" Select field\n\t\t\tjQuery( field ).attr( 'tabindex', -1 );\n\n\t\t\t// Why would you be unable to tab into it by default?!?!\n\t\t\tjQuery( field ).siblings( '.chosen-container' ).find( '.chosen-single' ).attr( 'tabindex', 0 );\n\n\t\t}\n\n\t} );\n\t\n}\n\nfunction edd_repeater_reindex_primary() {\n\t\n\tjQuery( '[data-edd-rbm-repeater] .edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\t\t\t\t\n\t\tvar uuid = jQuery( row ).find( '[data-repeater-edit]' ).data( 'open' ),\n\t\t\t$modal = jQuery( '[data-reveal=\"' + uuid + '\"]' );\n\n\t\t$modal.find( '[name]' ).each( function( inputIndex, input ) {\n\n\t\t\tvar reindexed = jQuery( input ).attr( 'name' ).replace( /\\[\\d+\\]/, '[' + index + ']' ); // Only replaces the first one as to not break Nested Repeaters\n\n\t\t\tjQuery( input ).attr( 'name', reindexed );\n\n\t\t} );\n\n\t\tinit_edd_rbm_repeater_colorpickers( $modal );\n\t\tinit_edd_rbm_repeater_tooltips( $modal );\n\t\tinit_edd_rbm_repeater_required_fields( $modal );\n\t\tinit_edd_rbm_repeater_options_button( $modal );\n\n\t} );\n\t\n}\n\n// Repeaters\n( function ( $ ) {\n\n\t// This only targets the top-level, primary repeater\n\tvar $repeaters = $( '[data-edd-rbm-repeater]' );\n\n\tif ( ! $repeaters.length ) {\n\t\treturn;\n\t}\n\n\tvar edd_repeater_show = function() {\n\n\t\t// Hide current title for new item and show default title\n\t\t$( this ).find( '.repeater-header div.title' ).html( $( this ).find( '.repeater-header div.title' ).data( 'repeater-default-title' ) );\n\t\t\n\t\t// Nested Repeaters always inherit the number of Rows from the previous Repeater, so this will fix that.\n\t\tvar repeater = $( this ).closest( '[data-edd-rbm-repeater]' ),\n\t\t\tnestedRepeaters = $( this ).find( '.edd-rbm-nested-repeater' );\n\n\t\t$( nestedRepeaters ).each( function( index, nestedRepeater ) {\n\n\t\t\tvar items = $( nestedRepeater ).find( '.edd-rbm-repeater-item' ).get().reverse();\n\n\t\t\tif ( items.length == 1 ) return true; // Continue\n\n\t\t\t$( items ).each( function( row, nestedRow ) {\n\n\t\t\t\tif ( row == ( items.length - 1 ) ) return false; // Break\n\n\t\t\t\t$( nestedRow ).stop().slideUp( 300, function() {\n\t\t\t\t\t$( this ).remove();\n\t\t\t\t} );\n\n\t\t\t\t$( repeater ).trigger( 'edd-nested-repeater-cleanup', [$( nestedRow )] );\n\n\t\t\t} );\n\n\t\t} );\n\t\t\n\t\tinit_edd_rbm_repeater_tooltips( this ); // This is necessary to ensure any Rows that are added have Tooltips\n\t\tinit_edd_rbm_repeater_required_fields( this ); // Ensure that Required Fields get handled\n\t\tinit_edd_rbm_repeater_options_button( this );\n\n\t\t$( this ).stop().slideDown();\n\t\t\n\t\tvar repeater = $( this ).closest( '[data-edd-rbm-repeater]' );\n\n\t\t$( repeater ).trigger( 'edd-rbm-repeater-add', [$( this )] );\n\n\t}\n\t\n\tvar edd_fields_field_option_show = function() {\n\t\t\n\t\tinit_edd_rbm_repeater_tooltips( this ); // This is necessary to ensure any Rows that are added have Tooltips\n\t\tinit_edd_rbm_repeater_required_fields( this ); // Ensure that Required Fields get handled\n\t\t\n\t\t$( this ).stop().slideDown();\n\t\t\n\t\tvar repeater = $( this ).closest( '[data-edd-fields-field-options-repeater]' );\n\t\t\n\t\t$( repeater ).trigger( 'edd-fields-option-add', [$( this )] );\n\t\t\n\t}\n\n\tvar edd_repeater_hide = function() {\n\t\t\n\t\t// For Nested Repeaters, just remove it. No Confirmation.\n\t\tif ( $( this ).closest( '.edd-rbm-repeater' ).hasClass( 'edd-rbm-nested-repeater' ) ) {\n\t\t\t\n\t\t\t$( this ).slideUp( 300, function () {\n\t\t\t\t$( this ).remove();\n\t\t\t} );\n\t\t\t\n\t\t\treturn;\n\t\t}\n\n\t\tvar repeater = $( this ).closest( '[data-edd-rbm-repeater]' ),\n\t\t\tconfirmDeletion = confirm( eddFields.i18n.confirmDeletion );\n\t\t\t\n\t\tif ( confirmDeletion ) {\n\n\t\t\tvar $row = $( this ),\n\t\t\t\tuuid = $row.find( '[data-repeater-edit]' ).data( 'open' ),\n\t\t\t\t$modal = $( '[data-reveal=\"' + uuid + '\"]' ),\n\t\t\t\ttemplateIndex = get_edd_fields_index( uuid ); // In this case we don't care if something is saved or not\n\t\t\t\n\t\t\t$.ajax( {\n\t\t\t\t'type' : 'POST',\n\t\t\t\t'url' : eddFields.ajax,\n\t\t\t\t'data' : {\n\t\t\t\t\t'action' : 'delete_edd_rbm_fields_template',\n\t\t\t\t\t'index' : templateIndex,\n\t\t\t\t\t'saved' : ( $row.data( 'saved' ) ) ? true : false,\n\t\t\t\t},\n\t\t\t\tsuccess : function( response ) {\n\t\t\t\t\t\n\t\t\t\t\t// Remove whole DOM tree for the Modal.\n\t\t\t\t\t$modal.parent().remove();\n\n\t\t\t\t\t// Remove DOM Tree for the Notification \"Header\"\n\t\t\t\t\t$row.stop();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\n\t\t\t\t\t\t$row.effect( 'highlight', { color : '#FFBABA' }, 300 ).dequeue().slideUp( 300, function () {\n\t\t\t\t\t\t\t$row.remove();\n\t\t\t\t\t\t\tedd_repeater_reindex_primary();\n\t\t\t\t\t\t} );\n\t\t\t\t\t\t\n\t\t\t\t\t} );\n\n\t\t\t\t\t$( repeater ).trigger( 'edd-rbm-repeater-remove', [$row] );\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\terror : function( request, status, error ) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t} );\n\n\t\t}\n\n\t}\n\t\n\tvar edd_fields_field_option_hide = function() {\n\t\t\n\t\t$( this ).slideUp( 300, function () {\n\t\t\t$( this ).remove();\n\t\t} );\n\t\t\n\t}\n\n\t$repeaters.each( function () {\n\n\t\tvar $repeater = $( this ),\n\t\t\t$dummy = $repeater.find( '[data-repeater-dummy]' );\n\n\t\t// Repeater\n\t\t$repeater.repeater( {\n\n\t\t\trepeaters: [ {\n\t\t\t\tselector: '.edd-rbm-nested-repeater',\n\t\t\t\tshow: edd_repeater_show,\n\t\t\t\thide: edd_repeater_hide,\n\t\t\t\tready: function ( setIndexes ) {\n\t\t\t\t\t$repeater.find( '.edd-rbm-repeater-list' ).on( 'sortupdate', setIndexes );\n\t\t\t\t},\n\t\t\t\trepeaters: [ {\n\t\t\t\t\tselector: '.edd-fields-field-option-repeater',\n\t\t\t\t\tshow: edd_fields_field_option_show,\n\t\t\t\t\thide: edd_fields_field_option_hide,\n\t\t\t\t\tready: function( setIndexes ) {\n\t\t\t\t\t\t$repeater.find( '.edd-rbm-repeater-list' ).on( 'sortupdate', setIndexes );\n\t\t\t\t\t}\n\t\t\t\t} ]\n\t\t\t} ],\n\t\t\tshow: edd_repeater_show,\n\t\t\thide: edd_repeater_hide,\n\t\t\tready: function ( setIndexes ) {\n\t\t\t\t// Custom Reindexing Function below\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( $dummy.length ) {\n\t\t\t$dummy.remove();\n\t\t}\n\t\t\n\t\t$repeater.find( '.edd-rbm-repeater-list' ).sortable( {\n\t\t\taxis: 'y',\n\t\t\thandle: '[data-repeater-item-handle]',\n\t\t\tforcePlaceholderSize: true,\n\t\t\tupdate: function ( event, ui ) {\n\t\t\t\t\n\t\t\t\t// If we're not in a Nested Repeater\n\t\t\t\tif ( ! $( event.currentTarget ).hasClass( 'edd-rbm-nested-repeater' ) ) {\n\t\t\t\t\t\n\t\t\t\t\tedd_repeater_reindex_primary();\n\t\t\t\t\t\n\t\t\t\t\t// Grab all data with their new indexes to save\n\t\t\t\t\tvar data = [];\n\t\t\t\t\t$( '[data-edd-rbm-repeater] .edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Skip if we're not saved\n\t\t\t\t\t\tif ( ! $( row ).data( 'saved' ) ) return true;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar uuid = $( row ).find( '[data-repeater-edit]' ).data( 'open' ),\n\t\t\t\t\t\t\t$modal = $( '[data-reveal=\"' + uuid + '\"]' );\n\n\t\t\t\t\t\tdata.push( get_edd_fields_form( $modal[0] ) );\n\t\t\t\t\t\t\n\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t'type' : 'POST',\n\t\t\t\t\t\t'url' : eddFields.ajax,\n\t\t\t\t\t\t'data' : {\n\t\t\t\t\t\t\t'action' : 'sort_edd_fields_templates',\n\t\t\t\t\t\t\t'templates' : data,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess : function( response ) {\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror : function( request, status, error ) {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinit_edd_rbm_repeater_colorpickers( $( event.currentTarget ).closest( '.edd-rbm-repeater-content' ) );\n\t\t\t\t\tinit_edd_rbm_repeater_tooltips( $( event.currentTarget ).closest( '.edd-rbm-repeater-content' ) );\n\t\t\t\t\tinit_edd_rbm_repeater_required_fields( $( event.currentTarget ).closest( '.edd-rbm-repeater-content' ) );\n\t\t\t\t\tinit_edd_rbm_repeater_options_button( $( event.currentTarget ).closest( '.edd-rbm-repeater-content' ) );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\n\t\t} );\n\t\t\n\t\t$( document ).on( 'closed.zf.reveal', '.edd-rbm-repeater-content.reveal', function() {\n\t\t\t\n\t\t\tvar title = $( this ).find( 'td:first-of-type *[type!=\"hidden\"]' ),\n\t\t\t\tuuid = $( this ).closest( '.edd-rbm-repeater-content.reveal' ).data( 'reveal' ),\n\t\t\t\t$row = $( '[data-open=\"' + uuid + '\"]' );\n\t\t\t\n\t\t\tif ( $( title ).val() !== '' ) {\n\t\t\t\t$row.closest( '.edd-rbm-repeater-item' ).find( '.repeater-header div.title' ).html( $( title ).val() );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar defaultValue = $row.closest( '.edd-rbm-repeater-item' ).find( '.repeater-header div.title' ).data( 'repeater-default-title' );\n\t\t\t\t$row.closest( '.edd-rbm-repeater-item' ).find( '.repeater-header div.title' ).html( defaultValue );\n\t\t\t}\n\t\t\t\n\t\t} );\n\t\t\n\t\t$( document ).ready( function() {\n\n\t\t\t$( document ).on( 'change', '.edd-fields-type', function( event ) {\n\t\t\t\tinit_edd_rbm_repeater_options_button( $( event.currentTarget ).closest( '.edd-rbm-repeater-content' ) );\n\t\t\t} );\n\n\t\t} );\n\n\t} );\n\n} )( jQuery );","/**\n * Gets the Index of a Row excluding all unsaved Rows\n * \n * @param\t\t{string}  uuid Unique Identifier of a Row/Modal relationship\n *                        \n * @since\t\t1.0.0\n * @returns \t{integer} Index\n */\nfunction get_edd_fields_index( uuid ) {\n\t\n\tvar templateIndex = 0;\n\tjQuery( '.edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\n\t\tif ( jQuery( row ).find( '[data-repeater-edit]' ).data( 'open' ) == uuid ) {\n\t\t\treturn false; // End loop, we found it\n\t\t}\n\t\t\n\t\tif ( ! jQuery( row ).data( 'saved' ) ) {\n\t\t\treturn true; // Next iteration, this doesn't match our modal and it isn't saved\n\t\t}\n\t\t\n\t\ttemplateIndex++;\n\t\t\n\t} );\n\t\n\treturn templateIndex;\n\t\n}\n\n/**\n * Dynamically Grabs all Data in the Form\n * \n * @param \t\t{object} modal Modal JavaScript Object\n *                         \n * @since\t\t1.0.0\n * @returns \t{object} Key=>Value of each Field in the Form\n */\nfunction get_edd_fields_form( modal ) {\n\t\n\t// Used to construct HTML Name Attribute\n\tvar repeaterList = jQuery( '.edd-fields-settings-repeater .edd-rbm-repeater-list' ).data( 'repeater-list' ),\n\t\tdata = {},\n\t\tuuid = jQuery( modal ).data( 'reveal' ),\n\t\t$row = jQuery( '[data-open=\"' + uuid + '\"]' ).closest( '.edd-rbm-repeater-item' ),\n\t\ttemplateIndex = get_edd_fields_index( uuid );\n\n\tvar nestedRepeaterList = jQuery( '.edd-rbm-nested-repeater > table > .edd-rbm-repeater-list' ).data( 'repeater-list' ),\n\t\toptionRepeaterList = jQuery( '.edd-fields-field-option-repeater > table > .edd-rbm-repeater-list' ).data( 'repeater-list' );\n\n\t// Holds all data for the Nested Repeater\n\tdata[nestedRepeaterList] = [];\n\n\tjQuery( modal ).find( '.edd-fields-field' ).each( function( index, field ) {\n\n\t\tif ( jQuery( field ).parent().hasClass( 'hidden' ) ) return true;\n\t\t\n\t\tvar name = jQuery( field ).attr( 'name' ),\n\t\t\tvalue = jQuery( field ).val(),\n\t\t\tisRepeater = false;\n\t\t\n\t\tif ( jQuery( field ).is( 'tr' ) ) {\n\t\t\t\n\t\t\tvalue = {},\n\t\t\t\tisRepeater = true;\n\t\t\t\n\t\t\tvalue[optionRepeaterList] = [];\n\t\t\t\n\t\t\tvar optionsUuid = jQuery( field ).find( '[data-options-repeater-edit]' ).data( 'open' ),\n\t\t\t\t$optionsModal = jQuery( '[data-reveal=\"' + optionsUuid + '\"]' );\n\t\t\t\n\t\t\tjQuery( field ).find( '[name]' ).each( function( fieldIndex, repeaterField ) {\n\t\t\t\t\n\t\t\t\tname = jQuery( repeaterField ).attr( 'name' ),\n\t\t\t\t\tname = name.replace( /.*]\\[(.*)]$/, '$1' ),\n\t\t\t\t\tvalue[ name ] = jQuery( repeaterField ).val();\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t\t$optionsModal.find( '[name]' ).each( function( optionIndex, option ) {\n\t\t\t\t\n\t\t\t\tname = jQuery( option ).attr( 'name' ),\n\t\t\t\t\tname = name.replace( /.*]\\[(.*)]$/, '$1' );\n\t\t\t\t\n\t\t\t\tvalue[optionRepeaterList].push( {\n\t\t\t\t\t[name]: jQuery( option ).val(),\n\t\t\t\t} );\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\t\n\t\t\t// In this case, it is not undefined\n\t\t\tname = name.replace( /.*]\\[(.*)]$/, '$1' );\n\t\t\t\n\t\t}\n\t\t\n\t\tif ( jQuery( field ).is( 'input[type=\"checkbox\"]' ) ) {\n\n\t\t\tvalue = ( jQuery( field ).prop( 'checked' ) ) ? 1 : 0;\n\n\t\t}\n\n\t\t// Not part of the nested Repeater (Field Creation, not Options)\n\t\t// These are pretty basic fields, just assign the value\n\t\tif ( ! isRepeater ) {\n\t\t\tdata[ name ] = value;\n\t\t}\n\t\telse {\n\n\t\t\t// We already have our \"Value\" as an Object to push\n\t\t\tdata.edd_fields_template_fields.push( value );\n\t\t\t\n\t\t}\n\n\t} );\n\n\tdata.index = templateIndex;\n\t\n\treturn data;\n\t\n}\n\n/**\n * Sanitizes a String similarly to how we do in PHP-Land\n * \n * @param\t\t{string} key String Key\n *                      \n * @since\t\t1.0.0\n * @returns \t{string} Sanitized String Key\n */\nfunction edd_fields_sanitize_key( key ) {\n\t\n\treturn key.replace( /[\\W|_]/g, '', ).toLowerCase();\n\t\n}\n\n( function( $ ) {\n\n\t/**\n\t * Submit the Form for Creating/Updating Notifications via their Modals\n\t * \n\t * @param\t  \t{object}  event JavaScript Event Object\n\t *\t\t\t\t\t\t\t  \n\t * @since\t  \t1.0.0\n\t * @returns\t \t{boolean} Validity of Form\n\t */\n\tvar attachNotificationSubmitEvent = function( event ) {\n\n\t\tvar modal = event.currentTarget,\n\t\t\t$form = $( modal ).find( 'form' );\n\n\t\tif ( ! $( modal ).hasClass( 'has-form' ) ) {\n\n\t\t\t// We need to create the Form\n\t\t\t// \"novalidate\" so that HTML5 doesn't try to take over before we can do our thing\n\t\t\t$form = $( modal ).find( '.edd-rbm-repeater-form' ).wrap( '<form method=\"POST\" novalidate></form>' ).parent();\n\n\t\t\t$( modal ).addClass( 'has-form' );\n\n\t\t\t// Normally HTML doesn't like us having nested Forms, so we force it like this\n\t\t\t// By the time the Modal opens and this code runs, the Form isn't nested anymore\n\t\t\t$form.submit( function( event ) {\n\n\t\t\t\tevent.preventDefault(); // Don't submit the form via PHP\n\t\t\t\t\n\t\t\t\tvar $templateName = $form.find( '.edd-fields-template-name' ),\n\t\t\t\t\ttemplateName = ( $templateName.val() == '' ) ? $templateName.attr( 'placeholder' ) : $templateName.val(),\n\t\t\t\t\tuuid = $( modal ).data( 'reveal' );\n\t\t\t\t\n\t\t\t\t$templateName[0].setCustomValidity( '' ); // Reset Validity Message\n\t\t\t\t\n\t\t\t\t$( '.edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\t\t\t\n\t\t\t\t\t// If this is the current Item, ignore\n\t\t\t\t\tif ( $( row ).find( '[data-repeater-edit]' ).data( 'open' ) == uuid ) return true;\n\t\t\t\t\t\n\t\t\t\t\tif ( edd_fields_sanitize_key( $( row ).find( '.title' ).text().trim() ) == edd_fields_sanitize_key( templateName.trim() ) ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t$templateName[0].setCustomValidity( $templateName.data( 'validity-error' ) );\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn false; // break loop\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} );\n\n\t\t\t\t$form[0].reportValidity(); // Report Validity via HTML5 stuff\n\n\t\t\t\tif ( $form[0].checkValidity() ) { // Only run our code if we've got a Valid Form\n\n\t\t\t\t\tvar data = get_edd_fields_form( modal ),\n\t\t\t\t\t\tuuid = $( modal ).data( 'reveal' ),\n\t\t\t\t\t\t$row = $( '[data-open=\"' + uuid + '\"]' ).closest( '.edd-rbm-repeater-item' );;\n\n\t\t\t\t\tdata.action = 'insert_edd_fields_template';\n\t\t\t\t\tdata.saved = ( $row.data( 'saved' ) ) ? true : false;\n\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t'type' : 'POST',\n\t\t\t\t\t\t'url' : eddFields.ajax,\n\t\t\t\t\t\t'data' : data,\n\t\t\t\t\t\tsuccess : function( response ) {\n\n\t\t\t\t\t\t\tcloseModal( uuid );\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Update our Item to show it is saved\n\t\t\t\t\t\t\t$row.attr( 'data-saved', true );\n\n\t\t\t\t\t\t\t// Highlight Green\n\t\t\t\t\t\t\t$row.effect( 'highlight', { color : '#DFF2BF' }, 1000 );\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror : function( request, status, error ) {\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t$( document ).ready( function() {\n\n\t\t// When a Modal opens, attach the Form Submission Event\n\t\t$( document ).on( 'open.zf.reveal', '.edd-rbm-repeater-content.reveal', function( event ) {\n\t\t\tattachNotificationSubmitEvent( event );\n\t\t} );\n\n\t} );\n\n} )( jQuery );","/**\n * Normally something like this would be handled by $( document ).foundation(), but doing it manually lets us call this whenever we'd like and dynamically create Button->Modal associations\n * \n * @since\t  1.0.0\n * @return\t  void\n */\nfunction initModals() {\n\n\t// Primary Modal Repeater\n\tjQuery( '.edd-rbm-repeater .edd-rbm-repeater-item' ).each( function( index, item ) {\n\n\t\tvar $modal = jQuery( item ).find( '.edd-rbm-repeater-content.reveal' );\n\n\t\tif ( $modal.attr( 'data-reveal' ) !== '' ) return true;\n\n\t\t// Copy of how Foundation creates UUIDs\n\t\tvar uuid = Math.round( Math.pow( 36, 7 ) - Math.random() * Math.pow( 36, 6 ) ).toString( 36 ).slice( 1 ) + '-reveal';\n\n\t\t$modal.attr( 'data-reveal', uuid );\n\n\t\tvar $editButton = jQuery( item ).find( 'input[data-repeater-edit]' ).attr( 'data-open', uuid );\n\n\t\t$modal = new Foundation.Reveal( $modal );\n\n\t} );\n\t\n\t// Modal Repeater for Field Options\n\tjQuery( '.edd-rbm-nested-repeater .edd-rbm-repeater-item' ).each( function( index, item ) {\n\n\t\tvar $modal = jQuery( item ).find( '.edd-fields-field-options.reveal' );\n\n\t\tif ( $modal.attr( 'data-reveal' ) !== '' ) return true;\n\n\t\t// Copy of how Foundation creates UUIDs\n\t\tvar uuid = Math.round( Math.pow( 36, 7 ) - Math.random() * Math.pow( 36, 6 ) ).toString( 36 ).slice( 1 ) + '-reveal';\n\n\t\t$modal.attr( 'data-reveal', uuid );\n\n\t\tvar $editButton = jQuery( item ).find( 'input[data-options-repeater-edit]' ).attr( 'data-open', uuid );\n\n\t\t$modal = new Foundation.Reveal( $modal );\n\n\t} );\n\n}\n\n/**\n * Opens a Modal because Foundation isn't able to do things quite how I need\n * \n * @param\t  {Event|String} uuid Either the Event from creating a new Row or a UUID\n * @param\t  {object}\t  row  DOM Object of the Row if called from an Event\n *\t\t\t\t\t\t\t\n * @since\t  1.0.0\n * @return\t  void\n */\nfunction openModal( uuid, row = undefined ) {\n\n\t// Handle newly created Rows\n\tif ( uuid.hasOwnProperty( 'type' ) && \n\t\tuuid.type == 'edd-rbm-repeater-add' ) {\n\n\t\tvar $row = jQuery( row );\n\n\t\tuuid = $row.find( 'input[data-repeater-edit]' ).data( 'open' );\n\n\t}\n\n\tvar $modal = jQuery( '[data-reveal=\"' + uuid + '\"]' );\n\n\t$modal.foundation( 'open' );\n\n\t// Ensure we're looking at the top of the Modal\n\t$modal.closest( '.reveal-overlay' ).scrollTop( 0 );\n\n}\n\n/**\n * Closes a Modal by its UUID\n * \n * @param\t  {string} uuid UUID of the Modal\n *\t\t\t\t\t  \n * @since\t  1.0.0\n * @return\t  void\n */\nfunction closeModal( uuid ) {\n\n\tvar $modal = jQuery( '[data-reveal=\"' + uuid + '\"]' );\n\n\t$modal.foundation( 'close' );\n\n}\n\n( function( $ ) {\n\t'use strict';\n\n\t$( document ).ready( function() {\n\n\t\tinitModals();\n\t\t\n\t\t// On Page load, assume all are saved (As they are)\n\t\t$( 'div[data-repeater-list=\"edd_fields_template_settings\"] > .edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\t$( row ).attr( 'data-saved', true );\n\t\t} );\n\n\t\t// This JavaScript only loads on our custom Page, so we're fine doing this\n\t\tvar $repeaters = $( '[data-edd-rbm-repeater]' );\n\n\t\tif ( $repeaters.length ) {\n\t\t\t$repeaters.on( 'edd-rbm-repeater-add', initModals );\n\t\t\t$repeaters.on( 'edd-rbm-repeater-add', openModal );\n\t\t}\n\n\t} );\n\n\t$( document ).on( 'click touched', '[data-repeater-edit], [data-options-repeater-edit]', function() {\n\n\t\topenModal( $( this ).data( 'open' ) );\n\n\t} );\n\n\t$( document ).on( 'open.zf.reveal', '.edd-rbm-repeater-content.reveal', function() {\n\n\t\tinit_edd_rbm_repeater_colorpickers( this );\n\t\tinit_edd_rbm_repeater_tooltips( this );\n\t\tinit_edd_rbm_repeater_required_fields( this );\n\t\tinit_edd_rbm_repeater_options_button( this );\n\t\t\n\t\t$( this ).find( '.edd-fields-template-name' ).attr( 'data-validity-error', eddFields.i18n.duplicateNameError );\n\n\t} );\n\n} )( jQuery );","// jquery.repeater version 1.1.3\n// https://github.com/DubFriend/jquery.repeater\n// (MIT) 06-12-2015\n// Brian Detering <BDeterin@gmail.com> (http://www.briandetering.net/)\n!function(a){\"use strict\";var b=function(a){return a},c=function(b){return a.isArray(b)},d=function(a){return!c(a)&&a instanceof Object},e=function(b,c){return a.inArray(c,b)},f=function(a,b){return-1!==e(a,b)},g=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)},h=function(a){return a[a.length-1]},i=function(a){return Array.prototype.slice.call(a)},j=function(){var a={};return g(i(arguments),function(b){g(b,function(b,c){a[c]=b})}),a},k=function(a,b){var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},l=function(a,b,c){var d={};return g(a,function(a,e,f){e=c?c(e,a):e,d[e]=b(a,e,f)}),d},m=function(a,b,d){return c(a)?k(a,b):l(a,b,d)},n=function(a,b){return m(a,function(a){return a[b]})},o=function(a,b,c){return m(a,function(a,d){return a[b].apply(a,c||[])})},p=function(a){a=a||{};var b={};return a.publish=function(a,c){g(b[a],function(a){a(c)})},a.subscribe=function(a,c){b[a]=b[a]||[],b[a].push(c)},a.unsubscribe=function(a){g(b,function(b){var c=e(b,a);-1!==c&&b.splice(c,1)})},a};!function(a){var b=function(a,b){var c=p(),d=a.$;return c.getType=function(){throw'implement me (return type. \"text\", \"radio\", etc.)'},c.$=function(a){return a?d.find(a):d},c.disable=function(){c.$().prop(\"disabled\",!0),c.publish(\"isEnabled\",!1)},c.enable=function(){c.$().prop(\"disabled\",!1),c.publish(\"isEnabled\",!0)},b.equalTo=function(a,b){return a===b},b.publishChange=function(){var a;return function(d,e){var f=c.get();b.equalTo(f,a)||c.publish(\"change\",{e:d,domElement:e}),a=f}}(),c},i=function(a,c){var d=b(a,c);return d.get=function(){return d.$().val()},d.set=function(a){d.$().val(a)},d.clear=function(){d.set(\"\")},c.buildSetter=function(a){return function(b){a.call(d,b)}},d},j=function(a,b){a=c(a)?a:[a],b=c(b)?b:[b];var d=!0;return a.length!==b.length?d=!1:g(a,function(a){f(b,a)||(d=!1)}),d},k=function(a){var b={},c=i(a,b);return c.getType=function(){return\"button\"},c.$().on(\"change\",function(a){b.publishChange(a,this)}),c},l=function(b){var d={},e=i(b,d);return e.getType=function(){return\"checkbox\"},e.get=function(){var b=[];return e.$().filter(\":checked\").each(function(){b.push(a(this).val())}),b},e.set=function(b){b=c(b)?b:[b],e.$().each(function(){a(this).prop(\"checked\",!1)}),g(b,function(a){e.$().filter('[value=\"'+a+'\"]').prop(\"checked\",!0)})},d.equalTo=j,e.$().change(function(a){d.publishChange(a,this)}),e},m=function(a){var b={},c=x(a,b);return c.getType=function(){return\"email\"},c},n=function(c){var d={},e=b(c,d);return e.getType=function(){return\"file\"},e.get=function(){return h(e.$().val().split(\"\\\\\"))},e.clear=function(){this.$().each(function(){a(this).wrap(\"<form>\").closest(\"form\").get(0).reset(),a(this).unwrap()})},e.$().change(function(a){d.publishChange(a,this)}),e},q=function(a){var b={},c=i(a,b);return c.getType=function(){return\"hidden\"},c.$().change(function(a){b.publishChange(a,this)}),c},r=function(c){var d={},e=b(c,d);return e.getType=function(){return\"file[multiple]\"},e.get=function(){var a,b=e.$().get(0).files||[],c=[];for(a=0;a<(b.length||0);a+=1)c.push(b[a].name);return c},e.clear=function(){this.$().each(function(){a(this).wrap(\"<form>\").closest(\"form\").get(0).reset(),a(this).unwrap()})},e.$().change(function(a){d.publishChange(a,this)}),e},s=function(a){var b={},d=i(a,b);return d.getType=function(){return\"select[multiple]\"},d.get=function(){return d.$().val()||[]},d.set=function(a){d.$().val(\"\"===a?[]:c(a)?a:[a])},b.equalTo=j,d.$().change(function(a){b.publishChange(a,this)}),d},t=function(a){var b={},c=x(a,b);return c.getType=function(){return\"password\"},c},u=function(b){var c={},d=i(b,c);return d.getType=function(){return\"radio\"},d.get=function(){return d.$().filter(\":checked\").val()||null},d.set=function(b){b?d.$().filter('[value=\"'+b+'\"]').prop(\"checked\",!0):d.$().each(function(){a(this).prop(\"checked\",!1)})},d.$().change(function(a){c.publishChange(a,this)}),d},v=function(a){var b={},c=i(a,b);return c.getType=function(){return\"range\"},c.$().change(function(a){b.publishChange(a,this)}),c},w=function(a){var b={},c=i(a,b);return c.getType=function(){return\"select\"},c.$().change(function(a){b.publishChange(a,this)}),c},x=function(a){var b={},c=i(a,b);return c.getType=function(){return\"text\"},c.$().on(\"change keyup keydown\",function(a){b.publishChange(a,this)}),c},y=function(a){var b={},c=i(a,b);return c.getType=function(){return\"textarea\"},c.$().on(\"change keyup keydown\",function(a){b.publishChange(a,this)}),c},z=function(a){var b={},c=x(a,b);return c.getType=function(){return\"url\"},c},A=function(b){var c={},f=b.$,h=b.constructorOverride||{button:k,text:x,url:z,email:m,password:t,range:v,textarea:y,select:w,\"select[multiple]\":s,radio:u,checkbox:l,file:n,\"file[multiple]\":r,hidden:q},i=function(b,e){var g=d(e)?e:f.find(e);g.each(function(){var d=a(this).attr(\"name\");c[d]=h[b]({$:a(this)})})},j=function(b,i){var j=[],k=d(i)?i:f.find(i);d(i)?c[k.attr(\"name\")]=h[b]({$:k}):(k.each(function(){-1===e(j,a(this).attr(\"name\"))&&j.push(a(this).attr(\"name\"))}),g(j,function(a){c[a]=h[b]({$:f.find('input[name=\"'+a+'\"]')})}))};return f.is(\"input, select, textarea\")?f.is('input[type=\"button\"], button, input[type=\"submit\"]')?i(\"button\",f):f.is(\"textarea\")?i(\"textarea\",f):f.is('input[type=\"text\"]')||f.is(\"input\")&&!f.attr(\"type\")?i(\"text\",f):f.is('input[type=\"password\"]')?i(\"password\",f):f.is('input[type=\"email\"]')?i(\"email\",f):f.is('input[type=\"url\"]')?i(\"url\",f):f.is('input[type=\"range\"]')?i(\"range\",f):f.is(\"select\")?f.is(\"[multiple]\")?i(\"select[multiple]\",f):i(\"select\",f):f.is('input[type=\"file\"]')?f.is(\"[multiple]\")?i(\"file[multiple]\",f):i(\"file\",f):f.is('input[type=\"hidden\"]')?i(\"hidden\",f):f.is('input[type=\"radio\"]')?j(\"radio\",f):f.is('input[type=\"checkbox\"]')?j(\"checkbox\",f):i(\"text\",f):(i(\"button\",'input[type=\"button\"], button, input[type=\"submit\"]'),i(\"text\",'input[type=\"text\"]'),i(\"password\",'input[type=\"password\"]'),i(\"email\",'input[type=\"email\"]'),i(\"url\",'input[type=\"url\"]'),i(\"range\",'input[type=\"range\"]'),i(\"textarea\",\"textarea\"),i(\"select\",\"select:not([multiple])\"),i(\"select[multiple]\",\"select[multiple]\"),i(\"file\",'input[type=\"file\"]:not([multiple])'),i(\"file[multiple]\",'input[type=\"file\"][multiple]'),i(\"hidden\",'input[type=\"hidden\"]'),j(\"radio\",'input[type=\"radio\"]'),j(\"checkbox\",'input[type=\"checkbox\"]')),c};a.fn.inputVal=function(b){var c=a(this),d=A({$:c});return c.is(\"input, textarea, select\")?\"undefined\"==typeof b?d[c.attr(\"name\")].get():(d[c.attr(\"name\")].set(b),c):\"undefined\"==typeof b?o(d,\"get\"):(g(b,function(a,b){d[b].set(a)}),c)},a.fn.inputOnChange=function(b){var c=a(this),d=A({$:c});return g(d,function(a){a.subscribe(\"change\",function(a){b.call(a.domElement,a.e)})}),c},a.fn.inputDisable=function(){var b=a(this);return o(A({$:b}),\"disable\"),b},a.fn.inputEnable=function(){var b=a(this);return o(A({$:b}),\"enable\"),b},a.fn.inputClear=function(){var b=a(this);return o(A({$:b}),\"clear\"),b}}(jQuery),a.fn.repeaterVal=function(){var b=function(a){var b=[];return g(a,function(a,c){var d=[];\"undefined\"!==c&&(d.push(c.match(/^[^\\[]*/)[0]),d=d.concat(m(c.match(/\\[[^\\]]*\\]/g),function(a){return a.replace(/[\\[\\]]/g,\"\")})),b.push({val:a,key:d}))}),b},c=function(a){if(1===a.length&&(0===a[0].key.length||1===a[0].key.length&&!a[0].key[0]))return a[0].val;g(a,function(a){a.head=a.key.shift()});var b,d=function(){var b={};return g(a,function(a){b[a.head]||(b[a.head]=[]),b[a.head].push(a)}),b}();return/^[0-9]+$/.test(a[0].head)?(b=[],g(d,function(a){b.push(c(a))})):(b={},g(d,function(a,d){b[d]=c(a)})),b};return c(b(a(this).inputVal()))},a.fn.repeater=function(c){return c=c||{},a(this).each(function(){var d=a(this),e=c.show||function(){a(this).show()},f=c.hide||function(a){a()},i=d.find(\"[data-repeater-list]\").first(),k=function(b,c){return b.filter(function(){return c?0===a(this).closest(n(c,\"selector\").join(\",\")).length:!0})},l=function(){return k(i.find(\"[data-repeater-item]\"),c.repeaters)},o=i.find(\"[data-repeater-item]\").first().clone().hide(),p=a(this).find(\"[data-repeater-item]\").first().find(\"[data-repeater-delete]\");c.isFirstItemUndeletable&&p&&p.remove();var q=function(){var a=i.data(\"repeater-list\");return c.$parent?c.$parent.data(\"item-name\")+\"[\"+a+\"]\":a},r=function(b){c.repeaters&&b.each(function(){var b=a(this);g(c.repeaters,function(a){b.find(a.selector).repeater(j(a,{$parent:b}))})})},s=function(a,b,c){a&&g(a,function(a){c.call(b.find(a.selector)[0],a)})},t=function(b,c,d){b.each(function(b){var e=a(this);e.data(\"item-name\",c+\"[\"+b+\"]\"),k(e.find(\"[name]\"),d).each(function(){var f=a(this),g=f.attr(\"name\").match(/\\[[^\\]]+\\]/g),i=g?h(g).replace(/\\[|\\]/g,\"\"):f.attr(\"name\"),j=c+\"[\"+b+\"][\"+i+\"]\"+(f.is(\":checkbox\")||f.attr(\"multiple\")?\"[]\":\"\");f.attr(\"name\",j),s(d,e,function(d){var e=a(this);t(k(e.find(\"[data-repeater-item]\"),d.repeaters||[]),c+\"[\"+b+\"][\"+e.find(\"[data-repeater-list]\").first().data(\"repeater-list\")+\"]\",d.repeaters)})})}),i.find(\"input[name][checked]\").removeAttr(\"checked\").prop(\"checked\",!0)};t(l(),q(),c.repeaters),r(l()),c.ready&&c.ready(function(){t(l(),q(),c.repeaters)});var u=function(){var d=function(c,e,f){if(e){var g={};k(c.find(\"[name]\"),f).each(function(){var b=a(this).attr(\"name\").match(/\\[([^\\]]*)(\\]|\\]\\[\\])$/)[1];g[b]=a(this).attr(\"name\")}),c.inputVal(m(e,b,function(a){return g[a]}))}s(f,c,function(b){var c=a(this);k(c.find(\"[data-repeater-item]\"),b.repeaters).each(function(){d(a(this),b.defaultValues,b.repeaters||[])})})};return function(b){i.append(b),t(l(),q(),c.repeaters),b.find(\"[name]\").each(function(){a(this).inputClear()}),d(b,c.defaultValues,c.repeaters)}}(),v=function(){var a=o.clone();u(a),c.repeaters&&r(a),e.call(a.get(0))};d.children().each(function(){a(this).is(\"[data-repeater-list]\")||0!==a(this).find(\"[data-repeater-list]\").length||(a(this).is(\"[data-repeater-create]\")?a(this).click(v):0!==a(this).find(\"[data-repeater-create]\").length&&a(this).find(\"[data-repeater-create]\").click(v))}),i.on(\"click\",\"[data-repeater-delete]\",function(){var b=a(this).closest(\"[data-repeater-item]\").get(0);f.call(b,function(){a(b).remove(),t(l(),q(),c.repeaters)})})}),this}}(jQuery);","!function($) {\n\n\"use strict\";\n\nvar FOUNDATION_VERSION = '6.2.4';\n\n// Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Returns a boolean for RTL support\n   */\n  rtl: function(){\n    return $('html').attr('dir') === 'rtl';\n  },\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function(plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = (name || functionName(plugin));\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n    var attrName  = hyphenate(className);\n\n    // Add to the Foundation object and the plugins list (for reflowing)\n    this._plugins[attrName] = this[className] = plugin;\n  },\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function(plugin, name){\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = this.GetYoDigits(6, pluginName);\n\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\n          /**\n           * Fires when the plugin has initialized.\n           * @event Plugin#init\n           */\n    plugin.$element.trigger(`init.zf.${pluginName}`);\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function(plugin){\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\n          /**\n           * Fires when the plugin has been destroyed.\n           * @event Plugin#destroyed\n           */\n          .trigger(`destroyed.zf.${pluginName}`);\n    for(var prop in plugin){\n      plugin[prop] = null;//clean up script to prep for garbage collection.\n    }\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n   reInit: function(plugins){\n     var isJQ = plugins instanceof $;\n     try{\n       if(isJQ){\n         plugins.each(function(){\n           $(this).data('zfPlugin')._init();\n         });\n       }else{\n         var type = typeof plugins,\n         _this = this,\n         fns = {\n           'object': function(plgs){\n             plgs.forEach(function(p){\n               p = hyphenate(p);\n               $('[data-'+ p +']').foundation('_init');\n             });\n           },\n           'string': function(){\n             plugins = hyphenate(plugins);\n             $('[data-'+ plugins +']').foundation('_init');\n           },\n           'undefined': function(){\n             this['object'](Object.keys(_this._plugins));\n           }\n         };\n         fns[type](plugins);\n       }\n     }catch(err){\n       console.error(err);\n     }finally{\n       return plugins;\n     }\n   },\n\n  /**\n   * returns a random base-36 uid with namespacing\n   * @function\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n   * @returns {String} - unique id\n   */\n  GetYoDigits: function(length, namespace){\n    length = length || 6;\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\n  },\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function(elem, plugins) {\n\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    }\n    // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n      plugins = [plugins];\n    }\n\n    var _this = this;\n\n    // Iterate through each plugin\n    $.each(plugins, function(i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name];\n\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\n\n      // For each plugin found, initialize it\n      $elem.each(function() {\n        var $el = $(this),\n            opts = {};\n        // Don't double-dip on plugins\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if($el.attr('data-options')){\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\n            var opt = e.split(':').map(function(el){ return el.trim(); });\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n        try{\n          $el.data('zfPlugin', new plugin($(this), opts));\n        }catch(er){\n          console.error(er);\n        }finally{\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  transitionend: function($elem){\n    var transitions = {\n      'transition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'otransitionend'\n    };\n    var elem = document.createElement('div'),\n        end;\n\n    for (var t in transitions){\n      if (typeof elem.style[t] !== 'undefined'){\n        end = transitions[t];\n      }\n    }\n    if(end){\n      return end;\n    }else{\n      end = setTimeout(function(){\n        $elem.triggerHandler('transitionend', [$elem]);\n      }, 1);\n      return 'transitionend';\n    }\n  }\n};\n\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function (func, delay) {\n    var timer = null;\n\n    return function () {\n      var context = this, args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\n\n// TODO: consider not making this a jQuery function\n// TODO: need way to reflow vs. re-initialize\n/**\n * The Foundation jQuery method.\n * @param {String|Array} method - An action to perform on the current jQuery object.\n */\nvar foundation = function(method) {\n  var type = typeof method,\n      $meta = $('meta.foundation-mq'),\n      $noJS = $('.no-js');\n\n  if(!$meta.length){\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\n  }\n  if($noJS.length){\n    $noJS.removeClass('no-js');\n  }\n\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\n    Foundation.MediaQuery._init();\n    Foundation.reflow(this);\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\n\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\n      if(this.length === 1){//if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n      }else{\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\n          plugClass[method].apply($(el).data('zfPlugin'), args);\n        });\n      }\n    }else{//error for no class or no method\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n    }\n  }else{//error for invalid argument type\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\n  }\n  return this;\n};\n\nwindow.Foundation = Foundation;\n$.fn.foundation = foundation;\n\n// Polyfill for requestAnimationFrame\n(function() {\n  if (!Date.now || !window.Date.now)\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\n\n  var vendors = ['webkit', 'moz'];\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\n                                 || window[vp+'CancelRequestAnimationFrame']);\n  }\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    window.requestAnimationFrame = function(callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function() { callback(lastTime = nextTime); },\n                          nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n  if(!window.performance || !window.performance.now){\n    window.performance = {\n      start: Date.now(),\n      now: function(){ return Date.now() - this.start; }\n    };\n  }\n})();\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n// Polyfill to get the name of a function in IE9\nfunction functionName(fn) {\n  if (Function.prototype.name === undefined) {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = (funcNameRegex).exec((fn).toString());\n    return (results && results.length > 1) ? results[1].trim() : \"\";\n  }\n  else if (fn.prototype === undefined) {\n    return fn.constructor.name;\n  }\n  else {\n    return fn.prototype.constructor.name;\n  }\n}\nfunction parseValue(str){\n  if(/true/.test(str)) return true;\n  else if(/false/.test(str)) return false;\n  else if(!isNaN(str * 1)) return parseFloat(str);\n  return str;\n}\n// Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n}(jQuery);\n","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nFoundation.Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets\n}\n\n/**\n * Compares the dimensions of an element to a container and determines collision events with container.\n * @function\n * @param {jQuery} element - jQuery object to test for collisions.\n * @param {jQuery} parent - jQuery object to use as bounding container.\n * @param {Boolean} lrOnly - set to true to check left and right values only.\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n * @default if no parent object passed, detects collisions with `window`.\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\n */\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n  var eleDims = GetDimensions(element),\n      top, bottom, left, right;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\n    top    = (eleDims.offset.top >= parDims.offset.top);\n    left   = (eleDims.offset.left >= parDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\n  }\n  else {\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\n  }\n\n  var allDirs = [bottom, top, left, right];\n\n  if (lrOnly) {\n    return left === right === true;\n  }\n\n  if (tbOnly) {\n    return top === bottom === true;\n  }\n\n  return allDirs.indexOf(false) === -1;\n};\n\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\nfunction GetDimensions(elem, test){\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  }\n}\n\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n  switch (position) {\n    case 'top':\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'center top':\n      return {\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'center bottom':\n      return {\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n      break;\n    case 'center left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center':\n      return {\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n        top: $eleDims.windowDims.offset.top + vOffset\n      }\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      }\n      break;\n    case 'left bottom':\n      return {\n        left: $anchorDims.offset.left,\n        top: $anchorDims.offset.top + $anchorDims.height\n      };\n      break;\n    case 'right bottom':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n        top: $anchorDims.offset.top + $anchorDims.height\n      };\n      break;\n    default:\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n  }\n}\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n// Default set of media queries\nconst defaultQueries = {\n  'default' : 'only screen',\n  landscape : 'only screen and (orientation: landscape)',\n  portrait : 'only screen and (orientation: portrait)',\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\n    'only screen and (min-device-pixel-ratio: 2),' +\n    'only screen and (min-resolution: 192dpi),' +\n    'only screen and (min-resolution: 2dppx)'\n};\n\nvar MediaQuery = {\n  queries: [],\n\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init() {\n    var self = this;\n    var extractedStyles = $('.foundation-mq').css('font-family');\n    var namedQueries;\n\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if(namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: `only screen and (min-width: ${namedQueries[key]})`\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get(size) {\n    for (var i in this.queries) {\n      if(this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (typeof matched === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher() {\n    $(window).on('resize.zf.mediaquery', () => {\n      var newSize = this._getCurrentSize(), currentSize = this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        this.current = newSize;\n\n        // Broadcast the media query change on the window\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n};\n\nFoundation.MediaQuery = MediaQuery;\n\n// matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\nwindow.matchMedia || (window.matchMedia = function() {\n  'use strict';\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style   = document.createElement('style'),\n    script      = document.getElementsByTagName('script')[0],\n    info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium(media) {\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    }\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  }\n}());\n\n// Thank you: https://github.com/sindresorhus/query-string\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function(ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n    return ret;\n  }, {});\n\n  return styleObject;\n}\n\nFoundation.MediaQuery = MediaQuery;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nconst MutationObserver = (function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i=0; i < prefixes.length; i++) {\n    if (`${prefixes[i]}MutationObserver` in window) {\n      return window[`${prefixes[i]}MutationObserver`];\n    }\n  }\n  return false;\n}());\n\nconst triggers = (el, type) => {\n  el.data(type).split(' ').forEach(id => {\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\n  });\n};\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-open]', function() {\n  triggers($(this), 'open');\n});\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n$(document).on('click.zf.trigger', '[data-close]', function() {\n  let id = $(this).data('close');\n  if (id) {\n    triggers($(this), 'close');\n  }\n  else {\n    $(this).trigger('close.zf.trigger');\n  }\n});\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\n  triggers($(this), 'toggle');\n});\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\n  e.stopPropagation();\n  let animation = $(this).data('closable');\n\n  if(animation !== ''){\n    Foundation.Motion.animateOut($(this), animation, function() {\n      $(this).trigger('closed.zf');\n    });\n  }else{\n    $(this).fadeOut().trigger('closed.zf');\n  }\n});\n\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\n  let id = $(this).data('toggle-focus');\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\n});\n\n/**\n* Fires once after all other scripts have loaded\n* @function\n* @private\n*/\n$(window).on('load', () => {\n  checkListeners();\n});\n\nfunction checkListeners() {\n  eventsListener();\n  resizeListener();\n  scrollListener();\n  closemeListener();\n}\n\n//******** only fires this function once on load, if there's something to watch ********\nfunction closemeListener(pluginName) {\n  var yetiBoxes = $('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if(pluginName){\n    if(typeof pluginName === 'string'){\n      plugNames.push(pluginName);\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\n      plugNames.concat(pluginName);\n    }else{\n      console.error('Plugin names must be strings');\n    }\n  }\n  if(yetiBoxes.length){\n    let listeners = plugNames.map((name) => {\n      return `closeme.zf.${name}`;\n    }).join(' ');\n\n    $(window).off(listeners).on(listeners, function(e, pluginId){\n      let plugin = e.namespace.split('.')[0];\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\n\n      plugins.each(function(){\n        let _this = $(this);\n\n        _this.triggerHandler('close.zf.trigger', [_this]);\n      });\n    });\n  }\n}\n\nfunction resizeListener(debounce){\n  let timer,\n      $nodes = $('[data-resize]');\n  if($nodes.length){\n    $(window).off('resize.zf.trigger')\n    .on('resize.zf.trigger', function(e) {\n      if (timer) { clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('resizeme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a resize event\n        $nodes.attr('data-events', \"resize\");\n      }, debounce || 10);//default time to emit resize event\n    });\n  }\n}\n\nfunction scrollListener(debounce){\n  let timer,\n      $nodes = $('[data-scroll]');\n  if($nodes.length){\n    $(window).off('scroll.zf.trigger')\n    .on('scroll.zf.trigger', function(e){\n      if(timer){ clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('scrollme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a scroll event\n        $nodes.attr('data-events', \"scroll\");\n      }, debounce || 10);//default time to emit scroll event\n    });\n  }\n}\n\nfunction eventsListener() {\n  if(!MutationObserver){ return false; }\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function(mutationRecordsList) {\n    var $target = $(mutationRecordsList[0].target);\n    //trigger the event handler for the element depending on type\n    switch ($target.attr(\"data-events\")) {\n\n      case \"resize\" :\n      $target.triggerHandler('resizeme.zf.trigger', [$target]);\n      break;\n\n      case \"scroll\" :\n      $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n      break;\n\n      // case \"mutate\" :\n      // console.log('mutate', $target);\n      // $target.triggerHandler('mutate.zf.trigger');\n      //\n      // //make sure we don't get stuck in an infinite loop from sloppy codeing\n      // if ($target.index('[data-mutate]') == $(\"[data-mutate]\").length-1) {\n      //   domMutationObserver();\n      // }\n      // break;\n\n      default :\n      return false;\n      //nothing\n    }\n  }\n\n  if(nodes.length){\n    //for each element that needs to listen for resizing, scrolling, (or coming soon mutation) add a single observer\n    for (var i = 0; i <= nodes.length-1; i++) {\n      let elementObserver = new MutationObserver(listeningElementsMutation);\n      elementObserver.observe(nodes[i], { attributes: true, childList: false, characterData: false, subtree:false, attributeFilter:[\"data-events\"]});\n    }\n  }\n}\n\n// ------------------------------------\n\n// [PH]\n// Foundation.CheckWatchers = checkWatchers;\nFoundation.IHearYou = checkListeners;\n// Foundation.ISeeYou = scrollListener;\n// Foundation.IFeelYou = closemeListener;\n\n}(jQuery);\n\n// function domMutationObserver(debounce) {\n//   // !!! This is coming soon and needs more work; not active  !!! //\n//   var timer,\n//   nodes = document.querySelectorAll('[data-mutate]');\n//   //\n//   if (nodes.length) {\n//     // var MutationObserver = (function () {\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n//     //   for (var i=0; i < prefixes.length; i++) {\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\n//     //       return window[prefixes[i] + 'MutationObserver'];\n//     //     }\n//     //   }\n//     //   return false;\n//     // }());\n//\n//\n//     //for the body, we need to listen for all changes effecting the style and class attributes\n//     var bodyObserver = new MutationObserver(bodyMutation);\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\n//\n//\n//     //body callback\n//     function bodyMutation(mutate) {\n//       //trigger all listening elements and signal a mutation event\n//       if (timer) { clearTimeout(timer); }\n//\n//       timer = setTimeout(function() {\n//         bodyObserver.disconnect();\n//         $('[data-mutate]').attr('data-events',\"mutate\");\n//       }, debounce || 150);\n//     }\n//   }\n// }\n","'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  function move(ts){\n    if(!start) start = window.performance.now();\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Reveal module.\n * @module foundation.reveal\n * @requires foundation.util.keyboard\n * @requires foundation.util.box\n * @requires foundation.util.triggers\n * @requires foundation.util.mediaQuery\n * @requires foundation.util.motion if using animations\n */\n\nclass Reveal {\n  /**\n   * Creates a new instance of Reveal.\n   * @class\n   * @param {jQuery} element - jQuery object to use for the modal.\n   * @param {Object} options - optional parameters.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);\n    this._init();\n\n    Foundation.registerPlugin(this, 'Reveal');\n    Foundation.Keyboard.register('Reveal', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ESCAPE': 'close',\n      'TAB': 'tab_forward',\n      'SHIFT_TAB': 'tab_backward'\n    });\n  }\n\n  /**\n   * Initializes the modal by adding the overlay and close buttons, (if selected).\n   * @private\n   */\n  _init() {\n    this.id = this.$element.attr('id');\n    this.isActive = false;\n    this.cached = {mq: Foundation.MediaQuery.current};\n    this.isMobile = mobileSniff();\n\n    this.$anchor = $(`[data-open=\"${this.id}\"]`).length ? $(`[data-open=\"${this.id}\"]`) : $(`[data-toggle=\"${this.id}\"]`);\n    this.$anchor.attr({\n      'aria-controls': this.id,\n      'aria-haspopup': true,\n      'tabindex': 0\n    });\n\n    if (this.options.fullScreen || this.$element.hasClass('full')) {\n      this.options.fullScreen = true;\n      this.options.overlay = false;\n    }\n    if (this.options.overlay && !this.$overlay) {\n      this.$overlay = this._makeOverlay(this.id);\n    }\n\n    this.$element.attr({\n        'role': 'dialog',\n        'aria-hidden': true,\n        'data-yeti-box': this.id,\n        'data-resize': this.id\n    });\n\n    if(this.$overlay) {\n      this.$element.detach().appendTo(this.$overlay);\n    } else {\n      this.$element.detach().appendTo($('body'));\n      this.$element.addClass('without-overlay');\n    }\n    this._events();\n    if (this.options.deepLink && window.location.hash === ( `#${this.id}`)) {\n      $(window).one('load.zf.reveal', this.open.bind(this));\n    }\n  }\n\n  /**\n   * Creates an overlay div to display behind the modal.\n   * @private\n   */\n  _makeOverlay(id) {\n    var $overlay = $('<div></div>')\n                    .addClass('reveal-overlay')\n                    .appendTo('body');\n    return $overlay;\n  }\n\n  /**\n   * Updates position of modal\n   * TODO:  Figure out if we actually need to cache these values or if it doesn't matter\n   * @private\n   */\n  _updatePosition() {\n    var width = this.$element.outerWidth();\n    var outerWidth = $(window).width();\n    var height = this.$element.outerHeight();\n    var outerHeight = $(window).height();\n    var left, top;\n    if (this.options.hOffset === 'auto') {\n      left = parseInt((outerWidth - width) / 2, 10);\n    } else {\n      left = parseInt(this.options.hOffset, 10);\n    }\n    if (this.options.vOffset === 'auto') {\n      if (height > outerHeight) {\n        top = parseInt(Math.min(100, outerHeight / 10), 10);\n      } else {\n        top = parseInt((outerHeight - height) / 4, 10);\n      }\n    } else {\n      top = parseInt(this.options.vOffset, 10);\n    }\n    this.$element.css({top: top + 'px'});\n    // only worry about left if we don't have an overlay or we havea  horizontal offset,\n    // otherwise we're perfectly in the middle\n    if(!this.$overlay || (this.options.hOffset !== 'auto')) {\n      this.$element.css({left: left + 'px'});\n      this.$element.css({margin: '0px'});\n    }\n\n  }\n\n  /**\n   * Adds event handlers for the modal.\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    this.$element.on({\n      'open.zf.trigger': this.open.bind(this),\n      'close.zf.trigger': (event, $element) => {\n        if ((event.target === _this.$element[0]) ||\n            ($(event.target).parents('[data-closable]')[0] === $element)) { // only close reveal when it's explicitly called\n          return this.close.apply(this);\n        }\n      },\n      'toggle.zf.trigger': this.toggle.bind(this),\n      'resizeme.zf.trigger': function() {\n        _this._updatePosition();\n      }\n    });\n\n    if (this.$anchor.length) {\n      this.$anchor.on('keydown.zf.reveal', function(e) {\n        if (e.which === 13 || e.which === 32) {\n          e.stopPropagation();\n          e.preventDefault();\n          _this.open();\n        }\n      });\n    }\n\n    if (this.options.closeOnClick && this.options.overlay) {\n      this.$overlay.off('.zf.reveal').on('click.zf.reveal', function(e) {\n        if (e.target === _this.$element[0] || \n          $.contains(_this.$element[0], e.target) || \n            !$.contains(document, e.target)) { \n              return; \n        }\n        _this.close();\n      });\n    }\n    if (this.options.deepLink) {\n      $(window).on(`popstate.zf.reveal:${this.id}`, this._handleState.bind(this));\n    }\n  }\n\n  /**\n   * Handles modal methods on back/forward button clicks or any other event that triggers popstate.\n   * @private\n   */\n  _handleState(e) {\n    if(window.location.hash === ( '#' + this.id) && !this.isActive){ this.open(); }\n    else{ this.close(); }\n  }\n\n\n  /**\n   * Opens the modal controlled by `this.$anchor`, and closes all others by default.\n   * @function\n   * @fires Reveal#closeme\n   * @fires Reveal#open\n   */\n  open() {\n    if (this.options.deepLink) {\n      var hash = `#${this.id}`;\n\n      if (window.history.pushState) {\n        window.history.pushState(null, null, hash);\n      } else {\n        window.location.hash = hash;\n      }\n    }\n\n    this.isActive = true;\n\n    // Make elements invisible, but remove display: none so we can get size and positioning\n    this.$element\n        .css({ 'visibility': 'hidden' })\n        .show()\n        .scrollTop(0);\n    if (this.options.overlay) {\n      this.$overlay.css({'visibility': 'hidden'}).show();\n    }\n\n    this._updatePosition();\n\n    this.$element\n      .hide()\n      .css({ 'visibility': '' });\n\n    if(this.$overlay) {\n      this.$overlay.css({'visibility': ''}).hide();\n      if(this.$element.hasClass('fast')) {\n        this.$overlay.addClass('fast');\n      } else if (this.$element.hasClass('slow')) {\n        this.$overlay.addClass('slow');\n      }\n    }\n\n\n    if (!this.options.multipleOpened) {\n      /**\n       * Fires immediately before the modal opens.\n       * Closes any other modals that are currently open\n       * @event Reveal#closeme\n       */\n      this.$element.trigger('closeme.zf.reveal', this.id);\n    }\n    // Motion UI method of reveal\n    if (this.options.animationIn) {\n      var _this = this;\n      function afterAnimationFocus(){\n        _this.$element\n          .attr({\n            'aria-hidden': false,\n            'tabindex': -1\n          })\n          .focus();\n      }\n      if (this.options.overlay) {\n        Foundation.Motion.animateIn(this.$overlay, 'fade-in');\n      }\n      Foundation.Motion.animateIn(this.$element, this.options.animationIn, () => {\n        this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\n        afterAnimationFocus();\n      });\n    }\n    // jQuery method of reveal\n    else {\n      if (this.options.overlay) {\n        this.$overlay.show(0);\n      }\n      this.$element.show(this.options.showDelay);\n    }\n\n    // handle accessibility\n    this.$element\n      .attr({\n        'aria-hidden': false,\n        'tabindex': -1\n      })\n      .focus();\n\n    /**\n     * Fires when the modal has successfully opened.\n     * @event Reveal#open\n     */\n    this.$element.trigger('open.zf.reveal');\n\n    if (this.isMobile) {\n      this.originalScrollPos = window.pageYOffset;\n      $('html, body').addClass('is-reveal-open');\n    }\n    else {\n      $('body').addClass('is-reveal-open');\n    }\n\n    setTimeout(() => {\n      this._extraHandlers();\n    }, 0);\n  }\n\n  /**\n   * Adds extra event handlers for the body and window if necessary.\n   * @private\n   */\n  _extraHandlers() {\n    var _this = this;\n    this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\n\n    if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {\n      $('body').on('click.zf.reveal', function(e) {\n        if (e.target === _this.$element[0] || \n          $.contains(_this.$element[0], e.target) || \n            !$.contains(document, e.target)) { return; }\n        _this.close();\n      });\n    }\n\n    if (this.options.closeOnEsc) {\n      $(window).on('keydown.zf.reveal', function(e) {\n        Foundation.Keyboard.handleKey(e, 'Reveal', {\n          close: function() {\n            if (_this.options.closeOnEsc) {\n              _this.close();\n              _this.$anchor.focus();\n            }\n          }\n        });\n      });\n    }\n\n    // lock focus within modal while tabbing\n    this.$element.on('keydown.zf.reveal', function(e) {\n      var $target = $(this);\n      // handle keyboard event with keyboard util\n      Foundation.Keyboard.handleKey(e, 'Reveal', {\n        tab_forward: function() {\n          _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n          if (_this.$element.find(':focus').is(_this.focusableElements.eq(-1))) { // left modal downwards, setting focus to first element\n            _this.focusableElements.eq(0).focus();\n            return true;\n          }\n          if (_this.focusableElements.length === 0) { // no focusable elements inside the modal at all, prevent tabbing in general\n            return true;\n          }\n        },\n        tab_backward: function() {\n          _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n          if (_this.$element.find(':focus').is(_this.focusableElements.eq(0)) || _this.$element.is(':focus')) { // left modal upwards, setting focus to last element\n            _this.focusableElements.eq(-1).focus();\n            return true;\n          }\n          if (_this.focusableElements.length === 0) { // no focusable elements inside the modal at all, prevent tabbing in general\n            return true;\n          }\n        },\n        open: function() {\n          if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {\n            setTimeout(function() { // set focus back to anchor if close button has been activated\n              _this.$anchor.focus();\n            }, 1);\n          } else if ($target.is(_this.focusableElements)) { // dont't trigger if acual element has focus (i.e. inputs, links, ...)\n            _this.open();\n          }\n        },\n        close: function() {\n          if (_this.options.closeOnEsc) {\n            _this.close();\n            _this.$anchor.focus();\n          }\n        },\n        handled: function(preventDefault) {\n          if (preventDefault) {\n            e.preventDefault();\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * Closes the modal.\n   * @function\n   * @fires Reveal#closed\n   */\n  close() {\n    if (!this.isActive || !this.$element.is(':visible')) {\n      return false;\n    }\n    var _this = this;\n\n    // Motion UI method of hiding\n    if (this.options.animationOut) {\n      if (this.options.overlay) {\n        Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);\n      }\n      else {\n        finishUp();\n      }\n\n      Foundation.Motion.animateOut(this.$element, this.options.animationOut);\n    }\n    // jQuery method of hiding\n    else {\n      if (this.options.overlay) {\n        this.$overlay.hide(0, finishUp);\n      }\n      else {\n        finishUp();\n      }\n\n      this.$element.hide(this.options.hideDelay);\n    }\n\n    // Conditionals to remove extra event listeners added on open\n    if (this.options.closeOnEsc) {\n      $(window).off('keydown.zf.reveal');\n    }\n\n    if (!this.options.overlay && this.options.closeOnClick) {\n      $('body').off('click.zf.reveal');\n    }\n\n    this.$element.off('keydown.zf.reveal');\n\n    function finishUp() {\n      if (_this.isMobile) {\n        $('html, body').removeClass('is-reveal-open');\n        if(_this.originalScrollPos) {\n          $('body').scrollTop(_this.originalScrollPos);\n          _this.originalScrollPos = null;\n        }\n      }\n      else {\n        $('body').removeClass('is-reveal-open');\n      }\n\n      _this.$element.attr('aria-hidden', true);\n\n      /**\n      * Fires when the modal is done closing.\n      * @event Reveal#closed\n      */\n      _this.$element.trigger('closed.zf.reveal');\n    }\n\n    /**\n    * Resets the modal content\n    * This prevents a running video to keep going in the background\n    */\n    if (this.options.resetOnClose) {\n      this.$element.html(this.$element.html());\n    }\n\n    this.isActive = false;\n     if (_this.options.deepLink) {\n       if (window.history.replaceState) {\n         window.history.replaceState(\"\", document.title, window.location.pathname);\n       } else {\n         window.location.hash = '';\n       }\n     }\n  }\n\n  /**\n   * Toggles the open/closed state of a modal.\n   * @function\n   */\n  toggle() {\n    if (this.isActive) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  /**\n   * Destroys an instance of a modal.\n   * @function\n   */\n  destroy() {\n    if (this.options.overlay) {\n      this.$element.appendTo($('body')); // move $element outside of $overlay to prevent error unregisterPlugin()\n      this.$overlay.hide().off().remove();\n    }\n    this.$element.hide().off();\n    this.$anchor.off('.zf');\n    $(window).off(`.zf.reveal:${this.id}`);\n\n    Foundation.unregisterPlugin(this);\n  };\n}\n\nReveal.defaults = {\n  /**\n   * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n   * @option\n   * @example 'slide-in-left'\n   */\n  animationIn: '',\n  /**\n   * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n   * @option\n   * @example 'slide-out-right'\n   */\n  animationOut: '',\n  /**\n   * Time, in ms, to delay the opening of a modal after a click if no animation used.\n   * @option\n   * @example 10\n   */\n  showDelay: 0,\n  /**\n   * Time, in ms, to delay the closing of a modal after a click if no animation used.\n   * @option\n   * @example 10\n   */\n  hideDelay: 0,\n  /**\n   * Allows a click on the body/overlay to close the modal.\n   * @option\n   * @example true\n   */\n  closeOnClick: true,\n  /**\n   * Allows the modal to close if the user presses the `ESCAPE` key.\n   * @option\n   * @example true\n   */\n  closeOnEsc: true,\n  /**\n   * If true, allows multiple modals to be displayed at once.\n   * @option\n   * @example false\n   */\n  multipleOpened: false,\n  /**\n   * Distance, in pixels, the modal should push down from the top of the screen.\n   * @option\n   * @example auto\n   */\n  vOffset: 'auto',\n  /**\n   * Distance, in pixels, the modal should push in from the side of the screen.\n   * @option\n   * @example auto\n   */\n  hOffset: 'auto',\n  /**\n   * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.\n   * @option\n   * @example false\n   */\n  fullScreen: false,\n  /**\n   * Percentage of screen height the modal should push up from the bottom of the view.\n   * @option\n   * @example 10\n   */\n  btmOffsetPct: 10,\n  /**\n   * Allows the modal to generate an overlay div, which will cover the view when modal opens.\n   * @option\n   * @example true\n   */\n  overlay: true,\n  /**\n   * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.\n   * @option\n   * @example false\n   */\n  resetOnClose: false,\n  /**\n   * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.\n   * @option\n   * @example false\n   */\n  deepLink: false\n};\n\n// Window exports\nFoundation.plugin(Reveal, 'Reveal');\n\nfunction iPhoneSniff() {\n  return /iP(ad|hone|od).*OS/.test(window.navigator.userAgent);\n}\n\nfunction androidSniff() {\n  return /Android/.test(window.navigator.userAgent);\n}\n\nfunction mobileSniff() {\n  return iPhoneSniff() || androidSniff();\n}\n\n}(jQuery);\n","if ( ! HTMLFormElement.prototype.reportValidity ) {\n\n\t/**\n\t * Wait, people use IE and Safari outside of downloading Chrome?\n\t * \n\t * @since\t  1.0.0\n\t * @return\t  void\n\t */\n\tHTMLFormElement.prototype.reportValidity = function () {\n\n\t\tvar error = '',\n\t\t\tvalid = true;\n\n\t\t// Remove all old Validation Errors\n\t\tjQuery( this ).find( '.validation-error' ).remove();\n\n\t\tjQuery( this ).find( '.required' ).each( function( index, element ) {\n\n\t\t\t// Reset Custom Validity Message\n\t\t\telement.setCustomValidity( '' );\n\n\t\t\tif ( ! jQuery( element ).closest( 'td' ).hasClass( 'hidden') && \n\t\t\t\t( jQuery( element ).val() === null || jQuery( element ).val() == '' ) ) {\n\t\t\t\t\n\t\t\t\terror = jQuery( element ).data( 'validity-error' );\n\n\t\t\t\telement.setCustomValidity( error );\n\t\t\t\tjQuery( element ).before( '<span class=\"validation-error\">' + error + '</span>' );\n\n\t\t\t\tvalid = false;\n\n\t\t\t}\n\n\t\t} );\n\t\t\n\t\tvar $templateName = jQuery( this ).find( '.edd-fields-template-name' ),\n\t\t\ttemplateName = ( $templateName.val() == '' ) ? $templateName.attr( 'placeholder' ) : $templateName.val(),\n\t\t\tuuid = jQuery( this ).closest( '.reveal' ).data( 'reveal' );\n\n\t\t$templateName[0].setCustomValidity( '' ); // Reset Validity Message\n\t\t\n\t\tjQuery( '.edd-rbm-repeater-item' ).each( function( index, row ) {\n\t\t\t\n\t\t\t// If this is the current Item, ignore\n\t\t\tif ( jQuery( row ).find( '[data-repeater-edit]' ).data( 'open' ) == uuid ) return true;\n\t\t\t\t\t\n\t\t\tif ( edd_fields_sanitize_key( jQuery( row ).find( '.title' ).text().trim() ) == edd_fields_sanitize_key( templateName.trim() ) ) {\n\n\t\t\t\t$templateName[0].setCustomValidity( $templateName.data( 'validity-error' ) );\n\t\t\t\t\n\t\t\t\t$templateName.before( '<span class=\"validation-error\">' + error + '</span>' );\n\t\t\t\t\n\t\t\t\tvalid = false;\n\n\t\t\t\treturn false; // break loop\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( ! valid ) {\n\n\t\t\tjQuery( this ).closest( '.reveal-overlay' ).scrollTop( jQuery( this ).find( '.validation-error:first-of-type' ) );\n\t\t\treturn valid;\n\n\t\t}\n\n\t\treturn valid;\n\n\t};\n\n};","( function( $ ) {\n\t\n\t$( document ).on( 'ready', function () {\n\t\n\t\tif ( $( '#edd_fields_meta_box select[name=\"edd_fields_template\"]' ).length > 0 ) {\n\n\t\t\t$( document ).on( 'change', '#edd_fields_meta_box select[name=\"edd_fields_template\"]', function() {\n\n\t\t\t\t$( '#edd_fields_meta_box .edd-fields-template' ).addClass( 'hidden' );\n\n\t\t\t\t$( '#edd_fields_meta_box #edd-fields-' + $( this ).val() ).removeClass( 'hidden' );\n\n\t\t\t} );\n\n\t\t}\n\t\t\n\t} );\n\t\n} )( jQuery );","( function( $ ) {\n\t\n\tvar getFieldsForDownload = function( postID = 0, $form ) {\n\t\t\n\t\t$.ajax( {\n\t\t\t'type' : 'POST',\n\t\t\t'url' : ajaxurl,\n\t\t\t'data' : {\n\t\t\t\t'action' : 'get_edd_fields_widget_field',\n\t\t\t\t'post_id' : postID,\n\t\t\t},\n\t\t\tsuccess : function( response ) {\n\t\t\t\t\n\t\t\t\tvar $select = $form.find( '.edd-fields-widget-field' ),\n\t\t\t\t\tselected = $select.data( 'selected' ),\n\t\t\t\t\t$fields = $form.find( '.edd-fields-widget-field' ),\n\t\t\t\t\t$prefix = $form.find( '.edd-fields-widget-prefix' );\n\t\t\t\t\n\t\t\t\t$select.empty();\n\t\t\t\t\n\t\t\t\tfor ( var value in response.data ) {\n\t\t\t\t\t\n\t\t\t\t\t$select.append( '<option value=\"' + value + '\"' + ( ( value == selected ) ? ' selected' : '' ) + '>' + response.data[value] + '</option>' );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar $field = $fields.find( 'option:selected' ),\n\t\t\t\t\tfieldText = $field.text();\n\t\t\t\t\n\t\t\t\tif ( $field.val() == '0' ) {\n\t\t\t\t\tfieldText = $prefix.data( 'default' );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$prefix.attr( 'placeholder', fieldText + ': ' );\n\n\t\t\t},\n\t\t\terror : function( request, status, error ) {\n\n\t\t\t}\n\t\t} );\n\t\t\n\t}\n\t\n\t$( document ).on( 'ready', function() {\n\t\t\n\t\tif ( $( '.edd-fields-widget-form' ).length > 0 ) {\n\t\t\t\n\t\t\t// When the Shortcode type changes\n\t\t\t$( document ).on( 'change', '.edd-fields-widget-form .edd-fields-widget-shortcode', function() {\n\t\t\t\t\n\t\t\t\tif ( $( this ).val() == 'individual' ) {\n\t\t\t\t\t\n\t\t\t\t\tvar $form = $( this ).closest( '.edd-fields-widget-form' ),\n\t\t\t\t\t\tpostID = $form.find( '.edd-fields-widget-post-id' ).val();\n\t\t\t\t\t\n\t\t\t\t\tgetFieldsForDownload( postID, $form );\n\t\t\t\t\t\n\t\t\t\t\t$form.find( '.edd-fields-individual-options' ).removeClass( 'hidden' );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$( this ).closest( '.edd-fields-widget-form' ).find( '.edd-fields-individual-options' ).addClass( 'hidden' );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t\t// When the Selected Post changes\n\t\t\t$( document ).on( 'change', '.edd-fields-widget-form .edd-fields-widget-post-id', function() {\n\t\t\t\t\n\t\t\t\tvar $form = $( this ).closest( '.edd-fields-widget-form' ),\n\t\t\t\t\tpostID = $( this ).val(),\n\t\t\t\t\tshortcodeToggle = $form.find( '.edd-fields-widget-shortcode:checked' ).val();\n\t\t\t\t\n\t\t\t\t// We only need to do AJAX if we're set to Individual, as changing to Individual will trigger it anyway\n\t\t\t\tif ( shortcodeToggle == 'individual' ) {\n\t\t\t\t\t\n\t\t\t\t\tgetFieldsForDownload( postID, $form );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t\t// When the Selected Field Changes\n\t\t\t$( document ).on( 'change', '.edd-fields-widget-form .edd-fields-widget-field', function() {\n\t\t\t\t\n\t\t\t\tvar $form = $( this ).closest( '.edd-fields-widget-form' ),\n\t\t\t\t\t$field = $( this ).find( 'option:selected' ),\n\t\t\t\t\tfieldText = $field.text(),\n\t\t\t\t\t$prefix = $form.find( '.edd-fields-widget-prefix' );\n\t\t\t\t\n\t\t\t\t$( this ).attr( 'data-selected', $( this ).val() );\n\t\t\t\t\n\t\t\t\tif ( $field.val() == '0' ) {\n\t\t\t\t\tfieldText = $prefix.data( 'default' );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$prefix.attr( 'placeholder', fieldText + ': ' );\n\t\t\t\t\n\t\t\t} );\n\t\t\t\n\t\t\t// When we open the Widget Settings\n\t\t\t$( document ).on( 'click touched', '.widget-top', function() {\n\n\t\t\t\t// If we've already loaded up necessary data or if the Widget doesn't match anyway, bail\n\t\t\t\tif ( $( this ).closest( '.widget' ).attr( 'id' ).indexOf( 'edd_fields') == -1 ||\n\t\t\t\t   $( this ).data( 'edd-fields-widget' ) == 'loaded' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $form = $( this ).siblings( '.widget-inside' ).find( '.edd-fields-widget-form' ),\n\t\t\t\t\tpostID = $form.find( '.edd-fields-widget-post-id' ).val();\n\t\t\t\t\n\t\t\t\t$form.find( '.edd-fields-widget-post-id' ).chosen( {\n\t\t\t\t\tinherit_select_classes: true,\n\t\t\t\t} );\n\n\t\t\t\tgetFieldsForDownload( postID, $form );\n\n\t\t\t\t// Set the loaded flag\n\t\t\t\t$( this ).attr( 'data-edd-fields-widget', 'loaded' );\n\n\t\t\t} );\n\t\t\t\n\t\t}\n\t\t\n\t} );\n\t\n} )( jQuery );"]}